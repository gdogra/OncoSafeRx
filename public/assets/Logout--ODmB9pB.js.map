{"version":3,"file":"Logout--ODmB9pB.js","sources":["../../src/pages/Logout.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { supabase } from '../lib/supabase';\n\nconst Logout: React.FC = () => {\n  const { actions } = useAuth();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const performLogout = async () => {\n      try {\n        console.log('🚪 Starting forced logout...');\n        \n        // 1. Clear Supabase session\n        await supabase.auth.signOut();\n        console.log('✅ Supabase signOut complete');\n        \n        // 2. Clear local auth context\n        actions.logout();\n        console.log('✅ AuthContext logout complete');\n        \n        // 3. Clear all local storage\n        localStorage.clear();\n        sessionStorage.clear();\n        console.log('✅ Browser storage cleared');\n        \n        // 4. Wait a moment then redirect\n        setTimeout(() => {\n          console.log('🔄 Redirecting to auth page...');\n          window.location.href = '/auth'; // Force page reload\n        }, 1000);\n        \n      } catch (error) {\n        console.error('❌ Logout error:', error);\n        // Force redirect anyway\n        setTimeout(() => {\n          window.location.href = '/auth';\n        }, 1000);\n      }\n    };\n\n    performLogout();\n  }, [actions, navigate]);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n      <div className=\"bg-white p-8 rounded-lg shadow-lg text-center max-w-md\">\n        <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">🚪 Logging Out...</h1>\n        <p className=\"text-gray-600 mb-4\">Clearing all authentication data...</p>\n        \n        <div className=\"bg-gray-100 rounded-lg p-4 text-left text-sm mb-4\">\n          <div className=\"font-medium text-gray-900 mb-2\">Logout Steps:</div>\n          <div className=\"space-y-1 text-gray-600\">\n            <div>✓ Clearing Supabase session</div>\n            <div>✓ Clearing AuthContext</div>\n            <div>✓ Clearing browser storage</div>\n            <div>✓ Redirecting to auth page</div>\n          </div>\n        </div>\n        \n        <div className=\"mt-4\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\n        </div>\n        \n        <p className=\"text-xs text-gray-500 mt-4\">\n          Check browser console for detailed logs\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Logout;"],"names":["Logout","actions","useAuth","navigate","useNavigate","useEffect","supabase","error","jsxs","jsx"],"mappings":"qEAKA,MAAMA,EAAmB,IAAM,CAC7B,KAAM,CAAE,QAAAC,CAAA,EAAYC,EAAA,EACdC,EAAWC,EAAA,EAEjBC,OAAAA,EAAAA,UAAU,IAAM,EACQ,SAAY,CAChC,GAAI,CACF,QAAQ,IAAI,8BAA8B,EAG1C,MAAMC,EAAS,KAAK,QAAA,EACpB,QAAQ,IAAI,6BAA6B,EAGzCL,EAAQ,OAAA,EACR,QAAQ,IAAI,+BAA+B,EAG3C,aAAa,MAAA,EACb,eAAe,MAAA,EACf,QAAQ,IAAI,2BAA2B,EAGvC,WAAW,IAAM,CACf,QAAQ,IAAI,gCAAgC,EAC5C,OAAO,SAAS,KAAO,OACzB,EAAG,GAAI,CAET,OAASM,EAAO,CACd,QAAQ,MAAM,kBAAmBA,CAAK,EAEtC,WAAW,IAAM,CACf,OAAO,SAAS,KAAO,OACzB,EAAG,GAAI,CACT,CACF,GAEA,CACF,EAAG,CAACN,EAASE,CAAQ,CAAC,QAGnB,MAAA,CAAI,UAAU,2DACb,SAAAK,EAAAA,KAAC,MAAA,CAAI,UAAU,yDACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wCAAwC,SAAA,oBAAiB,EACvEA,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAqB,SAAA,sCAAmC,EAErED,EAAAA,KAAC,MAAA,CAAI,UAAU,oDACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,iCAAiC,SAAA,gBAAa,EAC7DD,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,OAAI,SAAA,6BAAA,CAA2B,EAChCA,EAAAA,IAAC,OAAI,SAAA,wBAAA,CAAsB,EAC3BA,EAAAA,IAAC,OAAI,SAAA,4BAAA,CAA0B,EAC/BA,EAAAA,IAAC,OAAI,SAAA,4BAAA,CAA0B,CAAA,CAAA,CACjC,CAAA,EACF,EAEAA,EAAAA,IAAC,OAAI,UAAU,OACb,eAAC,MAAA,CAAI,UAAU,uEAAuE,CAAA,CACxF,EAEAA,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,yCAAA,CAE1C,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}