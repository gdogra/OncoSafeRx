{"version":3,"file":"OpioidRiskReport-DPH8KStX.js","sources":["../../src/components/Pain/OpioidRiskReport.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { usePatient } from '../../context/PatientContext';\nimport Card from '../UI/Card';\nimport Alert from '../UI/Alert';\nimport Tooltip from '../UI/Tooltip';\nimport LoadingSpinner from '../UI/LoadingSpinner';\nimport { \n  AlertTriangle, \n  CheckCircle, \n  XCircle,\n  Pill,\n  Activity,\n  Heart,\n  Brain,\n  Shield,\n  Info,\n  Calculator,\n  FileText,\n  TrendingUp,\n  Users,\n  Clock,\n  Target,\n  Dna,\n  ChevronDown,\n  ChevronRight,\n  Download,\n  Printer\n} from 'lucide-react';\n\ninterface PharmacogenomicResult {\n  drug: string;\n  brandName?: string;\n  status: 'normal' | 'impaired' | 'elevated_risk';\n  geneticIssues?: string[];\n  recommendations?: string[];\n  metabolizerStatus?: 'normal' | 'poor' | 'intermediate' | 'rapid' | 'ultra-rapid';\n  cyp2d6?: string;\n  cyp3a4?: string;\n  isProdrug?: boolean;\n}\n\ninterface RiskFactor {\n  factor: string;\n  present: boolean;\n  weight: number;\n  description: string;\n}\n\ninterface OpioidRiskAssessment {\n  overallRisk: 'low' | 'moderate' | 'high' | 'very_high';\n  riskScore: number;\n  maxScore: number;\n  riskFactors: RiskFactor[];\n  recommendations: string[];\n}\n\ninterface MMECalculation {\n  medication: string;\n  dose: number;\n  frequency: string;\n  conversionFactor: number;\n  dailyMME: number;\n}\n\nconst OpioidRiskReport: React.FC = () => {\n  const { state } = usePatient();\n  const { currentPatient } = state;\n  const [expandedSections, setExpandedSections] = useState<Record<string, boolean>>({\n    genetic: true,\n    risk: true,\n    mme: false,\n    recommendations: true\n  });\n  const [selectedMedications, setSelectedMedications] = useState<string[]>([]);\n\n  // Sample pharmacogenomic results based on the provided report structure\n  const pharmacogenomicResults: PharmacogenomicResult[] = [\n    {\n      drug: 'alfentanil',\n      brandName: 'Alfenta',\n      status: 'normal',\n      metabolizerStatus: 'normal',\n      cyp3a4: 'normal function',\n      recommendations: ['Standard dosing appropriate', 'Monitor for respiratory depression']\n    },\n    {\n      drug: 'carisoprodol',\n      brandName: 'Soma',\n      status: 'normal',\n      metabolizerStatus: 'normal',\n      cyp2d6: 'normal function',\n      recommendations: ['Standard dosing appropriate', 'Monitor for sedation and abuse potential']\n    },\n    {\n      drug: 'codeine',\n      status: 'impaired',\n      metabolizerStatus: 'poor',\n      cyp2d6: 'poor metabolizer',\n      isProdrug: true,\n      geneticIssues: ['CYP2D6 poor metabolizer - reduced conversion to morphine'],\n      recommendations: [\n        'May not be effective due to poor conversion to active metabolite',\n        'Consider alternative opioid (morphine, oxycodone)',\n        'Avoid codeine for pain management'\n      ]\n    },\n    {\n      drug: 'fentanyl',\n      brandName: 'Actiq, Duragesic, Sublimaze',\n      status: 'elevated_risk',\n      metabolizerStatus: 'intermediate',\n      cyp3a4: 'reduced function',\n      geneticIssues: ['CYP3A4 reduced function - increased exposure risk'],\n      recommendations: [\n        'Start with reduced dose (25-50% reduction)',\n        'Extended monitoring for respiratory depression',\n        'Consider dose titration more slowly'\n      ]\n    },\n    {\n      drug: 'hydrocodone',\n      status: 'impaired',\n      metabolizerStatus: 'poor',\n      cyp2d6: 'poor metabolizer',\n      isProdrug: true,\n      geneticIssues: ['CYP2D6 poor metabolizer - reduced analgesic efficacy'],\n      recommendations: [\n        'Reduced efficacy expected',\n        'Consider oxycodone or morphine instead',\n        'Higher doses may be needed but with increased side effects'\n      ]\n    },\n    {\n      drug: 'oxycodone',\n      brandName: 'OxyContin',\n      status: 'normal',\n      metabolizerStatus: 'normal',\n      cyp3a4: 'normal function',\n      recommendations: [\n        'Standard dosing appropriate',\n        'Monitor for respiratory depression and sedation',\n        'Good alternative for CYP2D6 poor metabolizers'\n      ]\n    },\n    {\n      drug: 'tramadol',\n      brandName: 'Ultram',\n      status: 'impaired',\n      metabolizerStatus: 'poor',\n      cyp2d6: 'poor metabolizer',\n      isProdrug: true,\n      geneticIssues: ['CYP2D6 poor metabolizer - reduced conversion to active O-desmethyltramadol'],\n      recommendations: [\n        'Significantly reduced analgesic efficacy',\n        'Consider non-tramadol alternatives',\n        'Increased risk of seizures without analgesic benefit'\n      ]\n    }\n  ];\n\n  // Risk assessment calculation\n  const calculateRiskAssessment = (): OpioidRiskAssessment => {\n    const riskFactors: RiskFactor[] = [\n      {\n        factor: 'Age > 65 years',\n        present: currentPatient ? new Date().getFullYear() - new Date(currentPatient.demographics.dateOfBirth).getFullYear() > 65 : false,\n        weight: 2,\n        description: 'Increased sensitivity to opioids and slower metabolism'\n      },\n      {\n        factor: 'History of substance abuse',\n        present: currentPatient?.medicalHistory?.some(h => {\n          const cond = String((h as any).condition || '').toLowerCase();\n          return cond.includes('substance') || cond.includes('addiction');\n        }) || false,\n        weight: 4,\n        description: 'Significantly increases risk of opioid misuse and addiction'\n      },\n      {\n        factor: 'Depression/Anxiety',\n        present: currentPatient?.medicalHistory?.some(h => {\n          const cond = String((h as any).condition || '').toLowerCase();\n          return cond.includes('depression') || cond.includes('anxiety') || cond.includes('psychiatric');\n        }) || false,\n        weight: 2,\n        description: 'Mental health conditions increase addiction vulnerability'\n      },\n      {\n        factor: 'Chronic pain condition',\n        present: currentPatient?.medicalHistory?.some(h => {\n          const cond = String((h as any).condition || '').toLowerCase();\n          return cond.includes('pain') || cond.includes('arthritis') || cond.includes('fibromyalgia');\n        }) || false,\n        weight: 1,\n        description: 'Long-term opioid use increases dependency risk'\n      },\n      {\n        factor: 'CYP2D6 Poor Metabolizer',\n        present: true, // Based on genetic results\n        weight: 2,\n        description: 'Reduced efficacy of prodrug opioids may lead to dose escalation'\n      },\n      {\n        factor: 'Multiple prescribers',\n        present: false, // Would need to check prescription history\n        weight: 2,\n        description: 'Lack of coordination increases risk of overprescribing'\n      },\n      {\n        factor: 'Concurrent benzodiazepines',\n        present: currentPatient?.medications.some(med => {\n          const medName = ((med as any).drugName || (med as any).name || '') as string;\n          const n = medName.toLowerCase();\n          return n.includes('alprazolam') || n.includes('lorazepam') || n.includes('clonazepam') || n.includes('diazepam');\n        }) || false,\n        weight: 3,\n        description: 'Dangerous combination increasing overdose risk'\n      }\n    ];\n\n    const presentFactors = riskFactors.filter(f => f.present);\n    const riskScore = presentFactors.reduce((sum, factor) => sum + factor.weight, 0);\n    const maxScore = riskFactors.reduce((sum, factor) => sum + factor.weight, 0);\n\n    let overallRisk: 'low' | 'moderate' | 'high' | 'very_high';\n    if (riskScore <= 2) overallRisk = 'low';\n    else if (riskScore <= 5) overallRisk = 'moderate';\n    else if (riskScore <= 8) overallRisk = 'high';\n    else overallRisk = 'very_high';\n\n    const recommendations: string[] = [];\n    \n    if (overallRisk === 'low') {\n      recommendations.push('Standard opioid prescribing guidelines apply');\n      recommendations.push('Monitor for signs of misuse at routine intervals');\n    } else if (overallRisk === 'moderate') {\n      recommendations.push('Enhanced monitoring and shorter prescription intervals');\n      recommendations.push('Consider non-opioid alternatives first');\n      recommendations.push('Use prescription drug monitoring program (PDMP)');\n    } else if (overallRisk === 'high') {\n      recommendations.push('Opioids only after non-opioid options exhausted');\n      recommendations.push('Mandatory PDMP checks and frequent monitoring');\n      recommendations.push('Consider addiction medicine consultation');\n      recommendations.push('Naloxone prescription recommended');\n    } else {\n      recommendations.push('Avoid opioids except in severe circumstances');\n      recommendations.push('Immediate addiction medicine consultation');\n      recommendations.push('Comprehensive substance abuse evaluation');\n      recommendations.push('Naloxone prescription mandatory');\n    }\n\n    return {\n      overallRisk,\n      riskScore,\n      maxScore,\n      riskFactors,\n      recommendations\n    };\n  };\n\n  // MME calculations\n  const calculateMME = (): MMECalculation[] => {\n    if (!currentPatient) return [];\n\n    const opioidList = ['codeine', 'morphine', 'oxycodone', 'hydrocodone', 'fentanyl', 'tramadol', 'tapentadol'];\n    const opioidMedications = (currentPatient.medications || []).filter(med => {\n      const medName = (med as any).drugName || (med as any).name || '';\n      const n = String(medName).toLowerCase();\n      return opioidList.some(op => n.includes(op));\n    });\n\n    const mmeFactors: Record<string, number> = {\n      codeine: 0.15,\n      morphine: 1,\n      oxycodone: 1.5,\n      hydrocodone: 1,\n      fentanyl: 2.4, // for transdermal patch\n      tramadol: 0.1,\n      tapentadol: 0.4\n    };\n\n    return opioidMedications.map(med => {\n      const medName = ((med as any).drugName || (med as any).name || '') as string;\n      const lowerName = medName.toLowerCase();\n      const opioidName = (Object.keys(mmeFactors).find(opioid => lowerName.includes(opioid)) || 'morphine') as keyof typeof mmeFactors;\n\n      const conversionFactor = mmeFactors[opioidName];\n      const rawDose = String((med as any).dosage || '');\n      const dose = parseFloat(rawDose.replace(/[^0-9.]/g, '')) || 0;\n      const rawFreq = String((med as any).frequency || '');\n      const frequency = rawFreq;\n      const freqLc = rawFreq.toLowerCase();\n\n      let dailyDoses = 1;\n      if (/(twice|bid)/i.test(freqLc)) dailyDoses = 2;\n      else if (/(three|tid)/i.test(freqLc)) dailyDoses = 3;\n      else if (/(four|qid)/i.test(freqLc)) dailyDoses = 4;\n      else if (/every\\s*4/i.test(freqLc)) dailyDoses = 6;\n      else if (/every\\s*6/i.test(freqLc)) dailyDoses = 4;\n      else if (/every\\s*8/i.test(freqLc)) dailyDoses = 3;\n      else if (/every\\s*12/i.test(freqLc)) dailyDoses = 2;\n\n      const dailyMME = dose * conversionFactor * dailyDoses;\n\n      return {\n        medication: medName,\n        dose,\n        frequency,\n        conversionFactor,\n        dailyMME\n      };\n    });\n  };\n\n  const riskAssessment = calculateRiskAssessment();\n  const mmeCalculations = calculateMME();\n  const totalMME = mmeCalculations.reduce((sum, calc) => sum + calc.dailyMME, 0);\n\n  const toggleSection = (section: string) => {\n    setExpandedSections(prev => ({\n      ...prev,\n      [section]: !prev[section]\n    }));\n  };\n\n  const getStatusIcon = (status: 'normal' | 'impaired' | 'elevated_risk') => {\n    switch (status) {\n      case 'normal':\n        return <CheckCircle className=\"w-5 h-5 text-green-600\" />;\n      case 'impaired':\n        return <AlertTriangle className=\"w-5 h-5 text-yellow-600\" />;\n      case 'elevated_risk':\n        return <XCircle className=\"w-5 h-5 text-red-600\" />;\n    }\n  };\n\n  const getStatusColor = (status: 'normal' | 'impaired' | 'elevated_risk') => {\n    switch (status) {\n      case 'normal':\n        return 'bg-green-50 border-green-200';\n      case 'impaired':\n        return 'bg-yellow-50 border-yellow-200';\n      case 'elevated_risk':\n        return 'bg-red-50 border-red-200';\n    }\n  };\n\n  const getRiskColor = (risk: string) => {\n    switch (risk) {\n      case 'low':\n        return 'bg-green-100 text-green-800';\n      case 'moderate':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'high':\n        return 'bg-orange-100 text-orange-800';\n      case 'very_high':\n        return 'bg-red-100 text-red-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  if (!currentPatient) {\n    return (\n      <Card>\n        <div className=\"text-center py-12\">\n          <Pill className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" />\n          <h3 className=\"text-xl font-semibold text-gray-500 mb-2\">Opioid Risk & Pain Management Report</h3>\n          <p className=\"text-gray-400 max-w-md mx-auto\">\n            Select a patient to view their personalized opioid addiction risk assessment and pain management recommendations\n          </p>\n        </div>\n      </Card>\n    );\n  }\n\n  const handleExport = () => {\n    try {\n      const data = {\n        generatedAt: new Date().toISOString(),\n        patient: {\n          id: currentPatient.id,\n          name: `${currentPatient.demographics.firstName} ${currentPatient.demographics.lastName}`,\n          dob: currentPatient.demographics.dateOfBirth,\n        },\n        riskAssessment,\n        mme: {\n          totalMME: Number(totalMME.toFixed(1)),\n          items: mmeCalculations\n        },\n        pharmacogenomics: pharmacogenomicResults\n      };\n      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      const safeName = `${currentPatient.demographics.firstName}-${currentPatient.demographics.lastName}`.replace(/\\s+/g, '-').toLowerCase();\n      a.href = url;\n      a.download = `opioid-risk-report-${safeName}.json`;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n      URL.revokeObjectURL(url);\n    } catch (e) {\n      console.error('Export failed:', e);\n      alert('Failed to export report.');\n    }\n  };\n\n  const handlePrint = () => {\n    try {\n      window.print();\n    } catch (e) {\n      console.error('Print failed:', e);\n      alert('Failed to open print dialog.');\n    }\n  };\n\n  const handleExportCsv = () => {\n    try {\n      const rows = [\n        ['Medication','Dose (mg)','Frequency','Conversion Factor','Daily MME'],\n        ...mmeCalculations.map(m => [\n          m.medication,\n          String(m.dose),\n          m.frequency,\n          String(m.conversionFactor),\n          m.dailyMME.toFixed(1)\n        ]),\n        ['Total','','','', totalMME.toFixed(1)]\n      ];\n      const csv = rows.map(r => r.map(x => {\n        const s = String(x ?? '');\n        return /[\",\\n]/.test(s) ? '\"' + s.replace(/\"/g,'\"\"') + '\"' : s;\n      }).join(',')).join('\\n');\n      const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      const safeName = `${currentPatient.demographics.firstName}-${currentPatient.demographics.lastName}`.replace(/\\s+/g, '-').toLowerCase();\n      a.href = url;\n      a.download = `mme-breakdown-${safeName}.csv`;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n      URL.revokeObjectURL(url);\n    } catch (e) {\n      console.error('CSV export failed:', e);\n      alert('Failed to export CSV.');\n    }\n  };\n\n  return (\n    <div className=\"space-y-6 print-content\">\n      {/* Print header (visible only in print) */}\n      <div className=\"print-only print-header text-xs text-gray-700\">\n        <div className=\"max-w-7xl mx-auto px-6 py-2 flex justify-between\">\n          <div>\n            <div className=\"font-semibold\">Opioid Risk & Pain Management Report</div>\n            <div>Patient: {currentPatient.demographics.firstName} {currentPatient.demographics.lastName} (DOB: {new Date(currentPatient.demographics.dateOfBirth).toLocaleDateString()})</div>\n          </div>\n          <div>\n            <div>Date: {new Date().toLocaleString()}</div>\n          </div>\n        </div>\n      </div>\n      {/* Header */}\n      <Card className=\"bg-gradient-to-r from-red-50 to-orange-50 border-red-200 print-section\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center\">\n              <Shield className=\"w-6 h-6 text-red-600\" />\n            </div>\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">Opioid Risk & Pain Management Report</h1>\n              <p className=\"text-gray-600\">\n                Comprehensive addiction risk assessment for {currentPatient.demographics.firstName} {currentPatient.demographics.lastName}\n              </p>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-2 no-print\">\n            <button onClick={handleExport} className=\"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\">\n              <Download className=\"w-4 h-4\" />\n              <span>Export Report</span>\n            </button>\n            <button onClick={handleExportCsv} className=\"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\">\n              <Download className=\"w-4 h-4\" />\n              <span>Export MME CSV</span>\n            </button>\n            <button onClick={handlePrint} className=\"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\">\n              <Printer className=\"w-4 h-4\" />\n              <span>Print</span>\n            </button>\n          </div>\n        </div>\n      </Card>\n\n      {/* Print styles */}\n      <style>{`\n        @media print {\n          .no-print { display: none !important; }\n          .rounded-lg { box-shadow: none !important; }\n          .border { border-color: #ddd !important; }\n        }\n      `}</style>\n\n      {/* Risk Score Summary */}\n      <div className=\"grid md:grid-cols-4 gap-4 print-section\">\n        <Card className=\"text-center\">\n          <div className=\"flex items-center justify-center space-x-2 mb-2\">\n            <Target className=\"w-5 h-5 text-gray-600\" />\n            <span className=\"text-sm font-medium text-gray-600\">Overall Risk</span>\n          </div>\n          <div className={`text-2xl font-bold px-3 py-1 rounded-full inline-block ${getRiskColor(riskAssessment.overallRisk)}`}>\n            {riskAssessment.overallRisk.replace('_', ' ').toUpperCase()}\n          </div>\n        </Card>\n        \n        <Card className=\"text-center\">\n          <div className=\"flex items-center justify-center space-x-2 mb-2\">\n            <Calculator className=\"w-5 h-5 text-gray-600\" />\n            <span className=\"text-sm font-medium text-gray-600\">Risk Score</span>\n          </div>\n          <div className=\"text-2xl font-bold text-gray-900\">\n            {riskAssessment.riskScore}/{riskAssessment.maxScore}\n          </div>\n        </Card>\n        \n        <Card className=\"text-center\">\n          <div className=\"flex items-center justify-center space-x-2 mb-2\">\n            <Activity className=\"w-5 h-5 text-gray-600\" />\n            <span className=\"text-sm font-medium text-gray-600\">Total MME</span>\n          </div>\n          <div className={`text-2xl font-bold ${totalMME > 90 ? 'text-red-600' : totalMME > 50 ? 'text-yellow-600' : 'text-green-600'}`}>\n            {totalMME.toFixed(1)}\n          </div>\n        </Card>\n        \n        <Card className=\"text-center\">\n          <div className=\"flex items-center justify-center space-x-2 mb-2\">\n            <Dna className=\"w-5 h-5 text-gray-600\" />\n            <span className=\"text-sm font-medium text-gray-600\">CYP2D6 Status</span>\n          </div>\n          <div className=\"text-lg font-semibold text-orange-600\">\n            Poor Metabolizer\n          </div>\n        </Card>\n      </div>\n\n      {/* Pharmacogenomic Results */}\n      <Card className=\"print-section print-break\">\n        <div \n          className=\"flex items-center justify-between cursor-pointer\"\n          onClick={() => toggleSection('genetic')}\n        >\n          <div className=\"flex items-center space-x-2\">\n            <Dna className=\"w-6 h-6 text-purple-500\" />\n            <h2 className=\"text-xl font-semibold text-gray-900\">Pharmacogenomic Results</h2>\n          </div>\n          {expandedSections.genetic ? <ChevronDown className=\"w-5 h-5\" /> : <ChevronRight className=\"w-5 h-5\" />}\n        </div>\n\n        {expandedSections.genetic && (\n          <div className=\"mt-6\">\n            <div className=\"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n              <h3 className=\"font-semibold text-blue-900 mb-2\">Genetic Status Legend</h3>\n              <div className=\"grid md:grid-cols-3 gap-4 text-sm\">\n                <div className=\"flex items-center space-x-2\">\n                  <CheckCircle className=\"w-4 h-4 text-green-600\" />\n                  <span><strong>Normal:</strong> Standard dosing appropriate</span>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <AlertTriangle className=\"w-4 h-4 text-yellow-600\" />\n                  <span><strong>Impaired:</strong> Extra caution required</span>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <XCircle className=\"w-4 h-4 text-red-600\" />\n                  <span><strong>Elevated Risk:</strong> Extreme caution or avoidance</span>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              {pharmacogenomicResults.map((result, index) => (\n                <div key={index} className={`border rounded-lg p-4 ${getStatusColor(result.status)}`}>\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-3 mb-2\">\n                        {getStatusIcon(result.status)}\n                        <div>\n                          <h4 className=\"font-semibold text-gray-900 capitalize\">\n                            {result.drug} {result.brandName && `(${result.brandName})`}\n                          </h4>\n                          <div className=\"flex items-center space-x-4 text-sm text-gray-600\">\n                            <span>Metabolizer: {result.metabolizerStatus}</span>\n                            {result.isProdrug && (\n                              <span className=\"px-2 py-1 bg-orange-100 text-orange-600 rounded text-xs\">\n                                Pro-drug\n                              </span>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n\n                      {result.geneticIssues && (\n                        <div className=\"mb-3\">\n                          <p className=\"text-sm font-medium text-gray-700 mb-1\">Genetic Issues:</p>\n                          <ul className=\"text-sm text-gray-600 list-disc list-inside space-y-1\">\n                            {result.geneticIssues.map((issue, idx) => (\n                              <li key={idx}>{issue}</li>\n                            ))}\n                          </ul>\n                        </div>\n                      )}\n\n                      {result.recommendations && (\n                        <div>\n                          <p className=\"text-sm font-medium text-gray-700 mb-1\">Clinical Recommendations:</p>\n                          <ul className=\"text-sm text-gray-600 list-disc list-inside space-y-1\">\n                            {result.recommendations.map((rec, idx) => (\n                              <li key={idx}>{rec}</li>\n                            ))}\n                          </ul>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </Card>\n\n      {/* Risk Assessment */}\n      <Card className=\"print-section\">\n        <div \n          className=\"flex items-center justify-between cursor-pointer\"\n          onClick={() => toggleSection('risk')}\n        >\n          <div className=\"flex items-center space-x-2\">\n            <AlertTriangle className=\"w-6 h-6 text-orange-500\" />\n            <h2 className=\"text-xl font-semibold text-gray-900\">Addiction Risk Assessment</h2>\n          </div>\n          {expandedSections.risk ? <ChevronDown className=\"w-5 h-5\" /> : <ChevronRight className=\"w-5 h-5\" />}\n        </div>\n\n        {expandedSections.risk && (\n          <div className=\"mt-6 space-y-6\">\n            <div className=\"grid md:grid-cols-2 gap-6\">\n              <div>\n                <h3 className=\"font-semibold text-gray-900 mb-4\">Risk Factors Present</h3>\n                <div className=\"space-y-3\">\n                  {riskAssessment.riskFactors.filter(f => f.present).map((factor, index) => (\n                    <div key={index} className=\"flex items-start space-x-3 p-3 bg-orange-50 border border-orange-200 rounded-lg\">\n                      <AlertTriangle className=\"w-5 h-5 text-orange-600 mt-0.5\" />\n                      <div>\n                        <p className=\"font-medium text-gray-900\">{factor.factor}</p>\n                        <p className=\"text-sm text-gray-600\">{factor.description}</p>\n                        <span className=\"inline-block mt-1 px-2 py-1 bg-orange-100 text-orange-800 rounded text-xs\">\n                          Weight: {factor.weight}\n                        </span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <div>\n                <h3 className=\"font-semibold text-gray-900 mb-4\">Clinical Recommendations</h3>\n                <div className=\"space-y-3\">\n                  {riskAssessment.recommendations.map((rec, index) => (\n                    <div key={index} className=\"flex items-start space-x-3 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\n                      <Info className=\"w-5 h-5 text-blue-600 mt-0.5\" />\n                      <p className=\"text-sm text-gray-700\">{rec}</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </Card>\n\n      {/* MME Calculator */}\n      <Card className=\"print-section print-break\">\n        <div \n          className=\"flex items-center justify-between cursor-pointer\"\n          onClick={() => toggleSection('mme')}\n        >\n          <div className=\"flex items-center space-x-2\">\n            <Calculator className=\"w-6 h-6 text-blue-500\" />\n            <h2 className=\"text-xl font-semibold text-gray-900\">Morphine Milligram Equivalent (MME) Calculator</h2>\n          </div>\n          {expandedSections.mme ? <ChevronDown className=\"w-5 h-5\" /> : <ChevronRight className=\"w-5 h-5\" />}\n        </div>\n\n        {expandedSections.mme && (\n          <div className=\"mt-6\">\n            {totalMME > 90 && (\n              <Alert type=\"error\" title=\"High MME Alert\">\n                Total daily MME of {totalMME.toFixed(1)} exceeds CDC guideline of 90 MME/day. \n                Consider dose reduction, tapering plan, or specialist consultation.\n              </Alert>\n            )}\n            {totalMME > 50 && totalMME <= 90 && (\n              <Alert type=\"warning\" title=\"Moderate MME Alert\">\n                Total daily MME of {totalMME.toFixed(1)} exceeds 50 MME/day. \n                Enhanced monitoring and justification for continued therapy recommended.\n              </Alert>\n            )}\n\n            {mmeCalculations.length > 0 ? (\n              <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full divide-y divide-gray-200\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Medication\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Dose\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Frequency\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Conversion Factor\n                      </th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                        Daily MME\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\n                    {mmeCalculations.map((calc, index) => (\n                      <tr key={index}>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                          {calc.medication}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                          {calc.dose} mg\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                          {calc.frequency}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                          {calc.conversionFactor}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900\">\n                          {calc.dailyMME.toFixed(1)}\n                        </td>\n                      </tr>\n                    ))}\n                    <tr className=\"bg-gray-50\">\n                      <td colSpan={4} className=\"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900\">\n                        Total Daily MME:\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-lg font-bold text-gray-900\">\n                        {totalMME.toFixed(1)}\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            ) : (\n              <div className=\"text-center py-8\">\n                <Pill className=\"w-12 h-12 mx-auto mb-4 text-gray-300\" />\n                <p className=\"text-gray-500\">No opioid medications found in current medication list</p>\n              </div>\n            )}\n          </div>\n        )}\n      </Card>\n\n      {/* Clinical Recommendations Summary */}\n      <Card className=\"print-section\">\n        <div \n          className=\"flex items-center justify-between cursor-pointer\"\n          onClick={() => toggleSection('recommendations')}\n        >\n          <div className=\"flex items-center space-x-2\">\n            <FileText className=\"w-6 h-6 text-green-500\" />\n            <h2 className=\"text-xl font-semibold text-gray-900\">Clinical Summary & Recommendations</h2>\n          </div>\n          {expandedSections.recommendations ? <ChevronDown className=\"w-5 h-5\" /> : <ChevronRight className=\"w-5 h-5\" />}\n        </div>\n\n        {expandedSections.recommendations && (\n          <div className=\"mt-6 space-y-6\">\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-6\">\n              <h3 className=\"font-semibold text-blue-900 mb-4\">Key Clinical Findings</h3>\n              <div className=\"space-y-2 text-sm\">\n                <p><strong>Genetic Status:</strong> CYP2D6 Poor Metabolizer - Significantly impacts prodrug opioid efficacy</p>\n                <p><strong>Risk Level:</strong> {riskAssessment.overallRisk.replace('_', ' ')} addiction risk</p>\n                <p><strong>Current MME:</strong> {totalMME.toFixed(1)} mg/day</p>\n                <p><strong>Monitoring Level:</strong> {\n                  riskAssessment.overallRisk === 'low' ? 'Standard' :\n                  riskAssessment.overallRisk === 'moderate' ? 'Enhanced' :\n                  riskAssessment.overallRisk === 'high' ? 'Intensive' : 'Maximum'\n                }</p>\n              </div>\n            </div>\n\n            <div className=\"grid md:grid-cols-2 gap-6\">\n              <div>\n                <h3 className=\"font-semibold text-gray-900 mb-4\">Preferred Opioids</h3>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center space-x-2 p-3 bg-green-50 border border-green-200 rounded\">\n                    <CheckCircle className=\"w-5 h-5 text-green-600\" />\n                    <span className=\"text-sm\">Oxycodone (not CYP2D6 dependent)</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2 p-3 bg-green-50 border border-green-200 rounded\">\n                    <CheckCircle className=\"w-5 h-5 text-green-600\" />\n                    <span className=\"text-sm\">Morphine (direct acting)</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2 p-3 bg-green-50 border border-green-200 rounded\">\n                    <CheckCircle className=\"w-5 h-5 text-green-600\" />\n                    <span className=\"text-sm\">Tapentadol (if available)</span>\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <h3 className=\"font-semibold text-gray-900 mb-4\">Avoid/Use Caution</h3>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded\">\n                    <XCircle className=\"w-5 h-5 text-red-600\" />\n                    <span className=\"text-sm\">Codeine (poor efficacy)</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded\">\n                    <XCircle className=\"w-5 h-5 text-red-600\" />\n                    <span className=\"text-sm\">Hydrocodone (reduced efficacy)</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded\">\n                    <XCircle className=\"w-5 h-5 text-red-600\" />\n                    <span className=\"text-sm\">Tramadol (poor efficacy + seizure risk)</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-6\">\n              <h3 className=\"font-semibold text-yellow-900 mb-4\">Monitoring Requirements</h3>\n              <div className=\"grid md:grid-cols-2 gap-4 text-sm\">\n                <div>\n                  <h4 className=\"font-medium mb-2\">Clinical Monitoring:</h4>\n                  <ul className=\"space-y-1 list-disc list-inside text-gray-700\">\n                    <li>Pain and function assessments</li>\n                    <li>Signs of misuse or diversion</li>\n                    <li>Mental health status</li>\n                    <li>Sleep apnea screening</li>\n                  </ul>\n                </div>\n                <div>\n                  <h4 className=\"font-medium mb-2\">Laboratory/Tools:</h4>\n                  <ul className=\"space-y-1 list-disc list-inside text-gray-700\">\n                    <li>PDMP checks before prescribing</li>\n                    <li>Urine drug testing as indicated</li>\n                    <li>Risk assessment tools (ORT, SOAPP)</li>\n                    <li>Naloxone education and prescription</li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </Card>\n      {/* Print footer (visible only in print) */}\n      <div className=\"print-only print-footer text-[10px] text-gray-600\">\n        <div className=\"max-w-7xl mx-auto px-6 py-1 flex justify-between\">\n          <div>Generated by OncoSafeRx</div>\n          <div>Confidential — For clinical use only</div>\n        </div>\n      </div>\n\n      {/* Print styles */}\n      <style>{`\n        @page { margin: 14mm; }\n        @media print {\n          .no-print { display: none !important; }\n          .print-only { display: block !important; }\n          .print-header { position: fixed; top: 0; left: 0; right: 0; background: white; }\n          .print-footer { position: fixed; bottom: 0; left: 0; right: 0; background: white; }\n          .print-content { margin-top: 56px; margin-bottom: 36px; }\n          .print-section { break-inside: avoid; page-break-inside: avoid; }\n          .print-break { break-before: page; page-break-before: always; }\n        }\n        @media screen {\n          .print-only { display: none; }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default OpioidRiskReport;\n"],"names":["OpioidRiskReport","state","usePatient","currentPatient","expandedSections","setExpandedSections","useState","selectedMedications","setSelectedMedications","pharmacogenomicResults","calculateRiskAssessment","riskFactors","h","cond","med","n","riskScore","f","sum","factor","maxScore","overallRisk","recommendations","calculateMME","opioidList","opioidMedications","medName","op","mmeFactors","lowerName","opioidName","opioid","conversionFactor","rawDose","dose","rawFreq","frequency","freqLc","dailyDoses","dailyMME","riskAssessment","mmeCalculations","totalMME","calc","toggleSection","section","prev","getStatusIcon","status","jsx","CheckCircle","AlertTriangle","XCircle","getStatusColor","getRiskColor","risk","Card","jsxs","Pill","handleExport","data","blob","url","a","safeName","e","handlePrint","handleExportCsv","csv","m","r","x","s","Shield","Download","Printer","Target","Calculator","Activity","Dna","ChevronDown","ChevronRight","result","index","issue","idx","rec","Info","Alert","FileText"],"mappings":"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"}