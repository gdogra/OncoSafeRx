import{r as b,j as e,A as D,U as N,F as f,h as U,T as Y}from"./index-Bhw970Mt.js";import{C as v}from"./calendar-Bt6aR5VC.js";import{M as w}from"./message-circle-CDMzlRZ3.js";import{S as T}from"./square-check-big-7Qb0s8aO.js";import{P as j}from"./plus-S0wGj3RA.js";import{V as K}from"./video-DSDDCAAL.js";class F{constructor(){this.TEAMS_KEY="oncosaferx_teams",this.TUMOR_BOARDS_KEY="oncosaferx_tumor_boards",this.PATHWAYS_KEY="oncosaferx_pathways",this.COMMUNICATIONS_KEY="oncosaferx_communications",this.CONSULTATIONS_KEY="oncosaferx_consultations",this.WORKFLOWS_KEY="oncosaferx_workflows"}getTeams(){try{const s=localStorage.getItem(this.TEAMS_KEY);return s?JSON.parse(s):[]}catch(s){return console.error("Error retrieving teams:",s),[]}}getTeam(s){return this.getTeams().find(t=>t.id===s)||null}saveTeam(s){try{const a=this.getTeams(),t=a.findIndex(n=>n.id===s.id);t!==-1?a[t]=s:a.push(s),localStorage.setItem(this.TEAMS_KEY,JSON.stringify(a))}catch(a){throw console.error("Error saving team:",a),new Error("Failed to save team")}}addTeamMember(s,a){const t=this.getTeam(s);if(!t)throw new Error("Team not found");t.members.push(a),t.lastActivity=new Date().toISOString(),this.saveTeam(t)}removeTeamMember(s,a){const t=this.getTeam(s);if(!t)throw new Error("Team not found");t.members=t.members.filter(n=>n.id!==a),t.lastActivity=new Date().toISOString(),this.saveTeam(t)}updateMemberAvailability(s,a,t){const n=this.getTeam(s);if(!n)throw new Error("Team not found");const o=n.members.find(x=>x.id===a);if(!o)throw new Error("Member not found");o.availability=t,o.lastActive=new Date().toISOString(),this.saveTeam(n)}getTumorBoards(){try{const s=localStorage.getItem(this.TUMOR_BOARDS_KEY);return s?JSON.parse(s):[]}catch(s){return console.error("Error retrieving tumor boards:",s),[]}}getTumorBoard(s){return this.getTumorBoards().find(t=>t.id===s)||null}saveTumorBoard(s){try{const a=this.getTumorBoards(),t=a.findIndex(n=>n.id===s.id);t!==-1?a[t]=s:a.push(s),localStorage.setItem(this.TUMOR_BOARDS_KEY,JSON.stringify(a))}catch(a){throw console.error("Error saving tumor board:",a),new Error("Failed to save tumor board")}}addTumorBoardCase(s,a){const t=this.getTumorBoard(s);if(!t)throw new Error("Tumor board not found");t.cases.push(a),t.lastModified=new Date().toISOString(),this.saveTumorBoard(t)}updateTumorBoardCase(s,a,t){const n=this.getTumorBoard(s);if(!n)throw new Error("Tumor board not found");const o=n.cases.findIndex(x=>x.id===a);if(o===-1)throw new Error("Case not found");n.cases[o]={...n.cases[o],...t},n.lastModified=new Date().toISOString(),this.saveTumorBoard(n)}addActionItem(s,a){const t=this.getTumorBoard(s);if(!t)throw new Error("Tumor board not found");t.actionItems.push(a),t.lastModified=new Date().toISOString(),this.saveTumorBoard(t)}updateActionItem(s,a,t){const n=this.getTumorBoard(s);if(!n)throw new Error("Tumor board not found");const o=n.actionItems.findIndex(x=>x.id===a);if(o===-1)throw new Error("Action item not found");n.actionItems[o]={...n.actionItems[o],...t},n.lastModified=new Date().toISOString(),this.saveTumorBoard(n)}getClinicalPathways(){try{const s=localStorage.getItem(this.PATHWAYS_KEY);return s?JSON.parse(s):[]}catch(s){return console.error("Error retrieving clinical pathways:",s),[]}}getClinicalPathway(s){return this.getClinicalPathways().find(t=>t.id===s)||null}saveClinicalPathway(s){try{const a=this.getClinicalPathways(),t=a.findIndex(n=>n.id===s.id);t!==-1?a[t]=s:a.push(s),localStorage.setItem(this.PATHWAYS_KEY,JSON.stringify(a))}catch(a){throw console.error("Error saving clinical pathway:",a),new Error("Failed to save clinical pathway")}}findPathwaysForCondition(s,a){return this.getClinicalPathways().filter(n=>n.condition.toLowerCase().includes(s.toLowerCase())&&(!a||!n.stage||n.stage===a))}getCommunicationThreads(){try{const s=localStorage.getItem(this.COMMUNICATIONS_KEY);return s?JSON.parse(s):[]}catch(s){return console.error("Error retrieving communications:",s),[]}}getCommunicationThread(s){return this.getCommunicationThreads().find(t=>t.id===s)||null}saveCommunicationThread(s){try{const a=this.getCommunicationThreads(),t=a.findIndex(n=>n.id===s.id);t!==-1?a[t]=s:a.push(s),localStorage.setItem(this.COMMUNICATIONS_KEY,JSON.stringify(a))}catch(a){throw console.error("Error saving communication thread:",a),new Error("Failed to save communication thread")}}addMessage(s,a){const t=this.getCommunicationThread(s);if(!t)throw new Error("Communication thread not found");t.messages.push(a),t.lastActivity=new Date().toISOString(),this.saveCommunicationThread(t)}getThreadsForUser(s){return this.getCommunicationThreads().filter(t=>t.participants.includes(s))}getUnreadMessages(s){const a=this.getThreadsForUser(s),t=[];return a.forEach(n=>{n.messages.forEach(o=>{o.senderId!==s&&(o.acknowledgments.find(m=>m.userId===s)||t.push(o))})}),t}getConsultationRequests(){try{const s=localStorage.getItem(this.CONSULTATIONS_KEY);return s?JSON.parse(s):[]}catch(s){return console.error("Error retrieving consultation requests:",s),[]}}getConsultationRequest(s){return this.getConsultationRequests().find(t=>t.id===s)||null}saveConsultationRequest(s){try{const a=this.getConsultationRequests(),t=a.findIndex(n=>n.id===s.id);t!==-1?a[t]=s:a.push(s),localStorage.setItem(this.CONSULTATIONS_KEY,JSON.stringify(a))}catch(a){throw console.error("Error saving consultation request:",a),new Error("Failed to save consultation request")}}getConsultationRequestsForUser(s){return this.getConsultationRequests().filter(t=>t.requesterId===s||t.assignedTo===s||t.consultantResponse?.responderId===s)}getPendingConsultations(s){return this.getConsultationRequests().filter(t=>t.status==="pending"&&(!s||t.specialtyRequested===s))}getWorkflowTemplates(){try{const s=localStorage.getItem(this.WORKFLOWS_KEY);return s?JSON.parse(s):[]}catch(s){return console.error("Error retrieving workflow templates:",s),[]}}getWorkflowTemplate(s){return this.getWorkflowTemplates().find(t=>t.id===s)||null}saveWorkflowTemplate(s){try{const a=this.getWorkflowTemplates(),t=a.findIndex(n=>n.id===s.id);t!==-1?a[t]=s:a.push(s),localStorage.setItem(this.WORKFLOWS_KEY,JSON.stringify(a))}catch(a){throw console.error("Error saving workflow template:",a),new Error("Failed to save workflow template")}}getTeamActivitySummary(s,a=30){const t=this.getTeam(s);if(!t)return null;const n=new Date;n.setDate(n.getDate()-a);const o=this.getTumorBoards().filter(l=>l.attendees.some(d=>t.members.some(h=>h.id===d))&&new Date(l.scheduledDate)>=n),x=this.getCommunicationThreads().filter(l=>l.participants.some(d=>t.members.some(h=>h.id===d))&&new Date(l.lastActivity)>=n),m=this.getConsultationRequests().filter(l=>t.members.some(d=>d.id===l.requesterId||d.id===l.assignedTo)&&new Date(l.createdDate)>=n);return{teamId:s,period:`${a} days`,tumorBoards:o.length,casesPresented:o.reduce((l,d)=>l+d.cases.length,0),communicationThreads:x.length,messages:x.reduce((l,d)=>l+d.messages.length,0),consultations:m.length,actionItems:o.reduce((l,d)=>l+d.actionItems.length,0),completedActionItems:o.reduce((l,d)=>l+d.actionItems.filter(h=>h.status==="completed").length,0)}}getTumorBoardMetrics(s){let a=this.getTumorBoards();if(s){const m=this.getTumorBoard(s);a=m?[m]:[]}const t=a.reduce((m,l)=>m+l.cases.length,0),n=a.reduce((m,l)=>m+l.cases.filter(d=>d.consensusReached).length,0),o=a.reduce((m,l)=>m+l.actionItems.length,0),x=a.reduce((m,l)=>m+l.actionItems.filter(d=>d.status==="completed").length,0);return{totalBoards:a.length,totalCases:t,consensusRate:t>0?n/t*100:0,totalActionItems:o,actionItemCompletionRate:o>0?x/o*100:0,averageCasesPerBoard:a.length>0?t/a.length:0}}generateSampleData(){if(this.getTeams().length>0)return;const a={id:"team_001",name:"Thoracic Oncology Team",description:"Multidisciplinary team focused on lung cancer care",specialty:"oncology",members:[{id:"member_001",name:"Dr. Sarah Johnson",role:"physician",title:"Medical Oncologist",email:"sjohnson@hospital.com",phone:"555-0101",specialty:"Medical Oncology",credentials:["MD","FACP"],permissions:[{resource:"patients",actions:["view","create","edit","approve"]}],availability:{status:"available",message:"Available for consultations"},joinedDate:"2024-01-01",lastActive:new Date().toISOString()}],patients:["patient_001","patient_002"],createdDate:"2024-01-01",lastActivity:new Date().toISOString(),isActive:!0};this.saveTeam(a);const t={id:"board_001",name:"Weekly Thoracic Tumor Board",type:"weekly",scheduledDate:new Date().toISOString(),duration:60,location:"Conference Room A",chair:"member_001",presenters:["member_001"],attendees:["member_001"],cases:[],agenda:[],notes:"",decisions:[],actionItems:[],status:"scheduled",createdBy:"member_001",createdDate:new Date().toISOString(),lastModified:new Date().toISOString()};this.saveTumorBoard(t);const n={id:"pathway_001",name:"Stage IV NSCLC Treatment Pathway",version:"1.0",condition:"Non-small cell lung cancer",stage:"IV",lineOfTherapy:"First-line",steps:[],decisionPoints:[],evidenceBasis:"NCCN Guidelines 2024",lastReviewed:new Date().toISOString(),reviewBy:"Dr. Johnson",approvedBy:"Medical Director",effectiveDate:new Date().toISOString(),patientsEnrolled:0,completionRate:0,outcomeMetrics:[],varianceReporting:!0,qualityIndicators:[]};this.saveClinicalPathway(n)}}const y=new F,L=()=>{const[g,s]=b.useState("overview"),[a,t]=b.useState([]),[n,o]=b.useState([]),[x,m]=b.useState([]),[l,d]=b.useState([]),[h]=b.useState("member_001"),[O,I]=b.useState(!0);b.useEffect(()=>{E()},[]);const E=async()=>{I(!0);try{y.generateSampleData(),t(y.getTeams()),o(y.getTumorBoards()),m(y.getCommunicationThreads()),d(y.getConsultationRequests())}finally{I(!1)}},A=[{id:"overview",label:"Overview",icon:D,description:"Dashboard overview and key metrics"},{id:"teams",label:"Teams",icon:N,description:"Team management and member coordination"},{id:"tumor-boards",label:"Tumor Boards",icon:v,description:"Multidisciplinary case discussions"},{id:"communications",label:"Messages",icon:w,description:"Team communications and discussions"},{id:"consultations",label:"Consultations",icon:f,description:"Specialty consultation requests"},{id:"tasks",label:"Tasks",icon:T,description:"Action items and task management"}],S=()=>y.getUnreadMessages(h).length,C=()=>n.flatMap(c=>c.actionItems).filter(c=>c.assignedTo===h&&c.status==="pending").length,M=()=>{const r=new Date,c=new Date(r.getTime()+10080*60*1e3);return n.filter(i=>{const p=new Date(i.scheduledDate);return p>=r&&p<=c}).length},_=()=>{const r=S(),c=C(),i=M(),p=l.filter(u=>u.status==="pending").length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Unread Messages"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r})]}),e.jsx(w,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Tasks"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c})]}),e.jsx(T,{className:"w-8 h-8 text-orange-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming Boards"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i})]}),e.jsx(v,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Consultations"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p})]}),e.jsx(f,{className:"w-8 h-8 text-purple-600"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),e.jsx("div",{className:"space-y-4",children:n.slice(0,3).map(u=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 rounded-lg",children:[e.jsx(v,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:u.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(u.scheduledDate).toLocaleDateString()," â€¢ ",u.cases.length," cases"]})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${u.status==="scheduled"?"bg-blue-100 text-blue-800":u.status==="completed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:u.status})]},u.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>s("tumor-boards"),className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[e.jsx(j,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Schedule Board"})]}),e.jsxs("button",{onClick:()=>s("consultations"),className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[e.jsx(f,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Request Consult"})]}),e.jsxs("button",{onClick:()=>s("communications"),className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[e.jsx(w,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Start Discussion"})]}),e.jsxs("button",{onClick:()=>s("teams"),className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[e.jsx(N,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Manage Team"})]})]})]})]})},B=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Teams"}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Create Team"]})]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:a.map(r=>e.jsx("div",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:r.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(N,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[r.members.length," members"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(D,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[r.patients.length," patients"]})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.isActive?"Active":"Inactive"})]})]}),e.jsxs("div",{className:"flex -space-x-2",children:[r.members.slice(0,3).map((c,i)=>e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center border-2 border-white",title:c.name,children:e.jsx("span",{className:"text-xs font-medium text-blue-800",children:c.name.split(" ").map(p=>p[0]).join("")})},c.id)),r.members.length>3&&e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center border-2 border-white",children:e.jsxs("span",{className:"text-xs font-medium text-gray-600",children:["+",r.members.length-3]})})]})]})},r.id))})]})}),R=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tumor Boards"}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Schedule Board"]})]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:n.map(r=>e.jsx("div",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:r.name}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.status==="scheduled"?"bg-blue-100 text-blue-800":r.status==="completed"?"bg-green-100 text-green-800":r.status==="in_progress"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:r.status.replace("_"," ")})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(r.scheduledDate).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsxs("span",{children:[r.duration," min"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsxs("span",{children:[r.attendees.length," attendees"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsxs("span",{children:[r.cases.length," cases"]})]})]}),r.virtualMeetingUrl&&e.jsx("div",{className:"mt-3",children:e.jsxs("button",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm hover:bg-blue-200",children:[e.jsx(K,{className:"w-4 h-4 mr-1"}),"Join Meeting"]})})]}),e.jsx("div",{className:"flex items-center space-x-2",children:r.actionItems.length>0&&e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-orange-600",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{children:r.actionItems.filter(c=>c.status==="pending").length})]})})]})},r.id))})]})}),q=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Messages"}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"New Discussion"]})]})}),e.jsxs("div",{className:"divide-y divide-gray-200",children:[x.map(r=>e.jsx("div",{className:"p-6 hover:bg-gray-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:r.subject}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.priority==="high"?"bg-red-100 text-red-800":r.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:r.priority})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{children:[r.participants.length," participants"]}),e.jsxs("span",{children:[r.messages.length," messages"]}),e.jsx("span",{children:new Date(r.lastActivity).toLocaleDateString()})]}),r.messages.length>0&&e.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:r.messages[r.messages.length-1].content})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r.requiresResponse&&e.jsx(Y,{className:"w-5 h-5 text-orange-500"}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.status==="active"?"bg-green-100 text-green-800":r.status==="resolved"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:r.status})]})]})},r.id)),x.length===0&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(w,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Messages"}),e.jsx("p",{className:"text-gray-500",children:"Start a new discussion to collaborate with your team"})]})]})]})}),k=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Consultations"}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Request Consultation"]})]})}),e.jsxs("div",{className:"divide-y divide-gray-200",children:[l.map(r=>e.jsx("div",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900",children:[r.specialtyRequested," Consultation"]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.urgency==="emergent"?"bg-red-100 text-red-800":r.urgency==="urgent"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:r.urgency})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.clinicalQuestion}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{children:["Patient: ",r.patientId]}),e.jsxs("span",{children:["Requested: ",new Date(r.createdDate).toLocaleDateString()]}),r.responseDeadline&&e.jsxs("span",{children:["Due: ",new Date(r.responseDeadline).toLocaleDateString()]})]})]}),e.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${r.status==="pending"?"bg-yellow-100 text-yellow-800":r.status==="in_progress"?"bg-blue-100 text-blue-800":r.status==="completed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.status.replace("_"," ")})]})},r.id)),l.length===0&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(f,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Consultations"}),e.jsx("p",{className:"text-gray-500",children:"Request specialty consultations when needed"})]})]})]})}),P=()=>{const c=n.flatMap(i=>i.actionItems).filter(i=>i.assignedTo===h);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.filter(i=>i.status==="pending").length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c.filter(i=>i.status==="in_progress").length}),e.jsx("p",{className:"text-sm text-gray-600",children:"In Progress"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.filter(i=>i.status==="completed").length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Completed"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:c.filter(i=>i.status==="overdue").length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Overdue"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Tasks"})}),e.jsxs("div",{className:"divide-y divide-gray-200",children:[c.map(i=>e.jsx("div",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:i.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{children:["Due: ",new Date(i.dueDate).toLocaleDateString()]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${i.priority==="high"?"bg-red-100 text-red-800":i.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:i.priority})]}),i.notes&&e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:i.notes})]}),e.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${i.status==="pending"?"bg-yellow-100 text-yellow-800":i.status==="in_progress"?"bg-blue-100 text-blue-800":i.status==="completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i.status.replace("_"," ")})]})},i.id)),c.length===0&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(T,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tasks"}),e.jsx("p",{className:"text-gray-500",children:"You have no assigned tasks at this time"})]})]})]})]})};return O?e.jsx("div",{className:"flex items-center justify-center min-h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading collaboration data..."})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Collaboration Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Coordinate multidisciplinary care and manage team communications"})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:A.map(({id:r,label:c,icon:i,description:p})=>e.jsxs("button",{onClick:()=>s(r),className:`group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${g===r?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(i,{className:`w-5 h-5 mr-2 ${g===r?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{children:c}),e.jsx("div",{className:"text-xs text-gray-400",children:p})]}),r==="communications"&&S()>0&&e.jsx("span",{className:"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-red-500 rounded-full",children:S()}),r==="tasks"&&C()>0&&e.jsx("span",{className:"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-orange-500 rounded-full",children:C()})]},r))})}),e.jsxs("div",{className:"min-h-96",children:[g==="overview"&&_(),g==="teams"&&B(),g==="tumor-boards"&&R(),g==="communications"&&q(),g==="consultations"&&k(),g==="tasks"&&P()]})]})},G=()=>e.jsx(L,{});export{G as default};
//# sourceMappingURL=Collaboration-CG3N20LJ.js.map
