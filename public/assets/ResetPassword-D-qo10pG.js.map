{"version":3,"file":"ResetPassword-D-qo10pG.js","sources":["../../src/pages/ResetPassword.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { supabase } from '../lib/supabase';\nimport Card from '../components/UI/Card';\n\nconst ResetPassword: React.FC = () => {\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [status, setStatus] = useState<'idle'|'updating'|'success'|'error'>('idle');\n  const [message, setMessage] = useState<string>('');\n\n  useEffect(() => {\n    // No-op: Supabase session should be present via recovery link\n  }, []);\n\n  const handleUpdate = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setMessage('');\n    if (newPassword.length < 8) {\n      setMessage('Password must be at least 8 characters.');\n      return;\n    }\n    if (newPassword !== confirmPassword) {\n      setMessage('Passwords do not match.');\n      return;\n    }\n    setStatus('updating');\n    const { error } = await supabase.auth.updateUser({ password: newPassword });\n    if (error) {\n      setStatus('error');\n      setMessage(error.message || 'Failed to update password.');\n    } else {\n      setStatus('success');\n      setMessage('Password updated. You can now sign in with your new password.');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-6\">\n      <Card className=\"w-full max-w-md p-6\">\n        <h1 className=\"text-xl font-semibold text-gray-900 mb-1\">Reset Password</h1>\n        <p className=\"text-sm text-gray-600 mb-4\">Enter a new password for your account.</p>\n        <form onSubmit={handleUpdate} className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm text-gray-700 mb-1\">New Password</label>\n            <input\n              type=\"password\"\n              value={newPassword}\n              onChange={(e) => setNewPassword(e.target.value)}\n              className=\"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n              required\n              minLength={8}\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm text-gray-700 mb-1\">Confirm Password</label>\n            <input\n              type=\"password\"\n              value={confirmPassword}\n              onChange={(e) => setConfirmPassword(e.target.value)}\n              className=\"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n              required\n              minLength={8}\n            />\n          </div>\n          {message && (\n            <div className={`text-sm ${status === 'error' ? 'text-red-700' : 'text-green-700'}`}>{message}</div>\n          )}\n          <button\n            type=\"submit\"\n            className=\"w-full px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-60\"\n            disabled={status === 'updating'}\n          >\n            {status === 'updating' ? 'Updatingâ€¦' : 'Update Password'}\n          </button>\n        </form>\n      </Card>\n    </div>\n  );\n};\n\nexport default ResetPassword;\n\n"],"names":["ResetPassword","newPassword","setNewPassword","useState","confirmPassword","setConfirmPassword","status","setStatus","message","setMessage","useEffect","handleUpdate","e","error","supabase","jsxs","Card","jsx"],"mappings":"6FAIA,MAAMA,EAA0B,IAAM,CACpC,KAAM,CAACC,EAAaC,CAAc,EAAIC,EAAAA,SAAS,EAAE,EAC3C,CAACC,EAAiBC,CAAkB,EAAIF,EAAAA,SAAS,EAAE,EACnD,CAACG,EAAQC,CAAS,EAAIJ,EAAAA,SAA8C,MAAM,EAC1E,CAACK,EAASC,CAAU,EAAIN,EAAAA,SAAiB,EAAE,EAEjDO,EAAAA,UAAU,IAAM,CAEhB,EAAG,CAAA,CAAE,EAEL,MAAMC,EAAe,MAAOC,GAAuB,CAGjD,GAFAA,EAAE,eAAA,EACFH,EAAW,EAAE,EACTR,EAAY,OAAS,EAAG,CAC1BQ,EAAW,yCAAyC,EACpD,MACF,CACA,GAAIR,IAAgBG,EAAiB,CACnCK,EAAW,yBAAyB,EACpC,MACF,CACAF,EAAU,UAAU,EACpB,KAAM,CAAE,MAAAM,CAAA,EAAU,MAAMC,EAAS,KAAK,WAAW,CAAE,SAAUb,EAAa,EACtEY,GACFN,EAAU,OAAO,EACjBE,EAAWI,EAAM,SAAW,4BAA4B,IAExDN,EAAU,SAAS,EACnBE,EAAW,+DAA+D,EAE9E,EAEA,aACG,MAAA,CAAI,UAAU,+DACb,SAAAM,EAAAA,KAACC,EAAA,CAAK,UAAU,sBACd,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,2CAA2C,SAAA,iBAAc,EACvEA,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,yCAAsC,EAChFF,EAAAA,KAAC,OAAA,CAAK,SAAUJ,EAAc,UAAU,YACtC,SAAA,CAAAI,OAAC,MAAA,CACC,SAAA,CAAAE,EAAAA,IAAC,QAAA,CAAM,UAAU,mCAAmC,SAAA,eAAY,EAChEA,EAAAA,IAAC,QAAA,CACC,KAAK,WACL,MAAOhB,EACP,SAAWW,GAAMV,EAAeU,EAAE,OAAO,KAAK,EAC9C,UAAU,uHACV,SAAQ,GACR,UAAW,CAAA,CAAA,CACb,EACF,SACC,MAAA,CACC,SAAA,CAAAK,EAAAA,IAAC,QAAA,CAAM,UAAU,mCAAmC,SAAA,mBAAgB,EACpEA,EAAAA,IAAC,QAAA,CACC,KAAK,WACL,MAAOb,EACP,SAAWQ,GAAMP,EAAmBO,EAAE,OAAO,KAAK,EAClD,UAAU,uHACV,SAAQ,GACR,UAAW,CAAA,CAAA,CACb,EACF,EACCJ,GACCS,EAAAA,IAAC,MAAA,CAAI,UAAW,WAAWX,IAAW,QAAU,eAAiB,gBAAgB,GAAK,SAAAE,CAAA,CAAQ,EAEhGS,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,8FACV,SAAUX,IAAW,WAEpB,SAAAA,IAAW,WAAa,YAAc,iBAAA,CAAA,CACzC,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}