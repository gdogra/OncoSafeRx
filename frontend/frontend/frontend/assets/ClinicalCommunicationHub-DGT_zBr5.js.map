{"version":3,"file":"ClinicalCommunicationHub-DGT_zBr5.js","sources":["../../node_modules/lucide-react/dist/esm/icons/hash.js","../../node_modules/lucide-react/dist/esm/icons/image.js","../../node_modules/lucide-react/dist/esm/icons/mic-off.js","../../node_modules/lucide-react/dist/esm/icons/mic.js","../../node_modules/lucide-react/dist/esm/icons/paperclip.js","../../src/components/Communication/ClinicalCommunicationHub.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"9\", y2: \"9\", key: \"4lhtct\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"15\", y2: \"15\", key: \"vyu0kd\" }],\n  [\"line\", { x1: \"10\", x2: \"8\", y1: \"3\", y2: \"21\", key: \"1ggp8o\" }],\n  [\"line\", { x1: \"16\", x2: \"14\", y1: \"3\", y2: \"21\", key: \"weycgp\" }]\n];\nconst Hash = createLucideIcon(\"hash\", __iconNode);\n\nexport { __iconNode, Hash as default };\n//# sourceMappingURL=hash.js.map\n","/**\n * @license lucide-react v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", ry: \"2\", key: \"1m3agn\" }],\n  [\"circle\", { cx: \"9\", cy: \"9\", r: \"2\", key: \"af1f0g\" }],\n  [\"path\", { d: \"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21\", key: \"1xmnt7\" }]\n];\nconst Image = createLucideIcon(\"image\", __iconNode);\n\nexport { __iconNode, Image as default };\n//# sourceMappingURL=image.js.map\n","/**\n * @license lucide-react v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 19v3\", key: \"npa21l\" }],\n  [\"path\", { d: \"M15 9.34V5a3 3 0 0 0-5.68-1.33\", key: \"1gzdoj\" }],\n  [\"path\", { d: \"M16.95 16.95A7 7 0 0 1 5 12v-2\", key: \"cqa7eg\" }],\n  [\"path\", { d: \"M18.89 13.23A7 7 0 0 0 19 12v-2\", key: \"16hl24\" }],\n  [\"path\", { d: \"m2 2 20 20\", key: \"1ooewy\" }],\n  [\"path\", { d: \"M9 9v3a3 3 0 0 0 5.12 2.12\", key: \"r2i35w\" }]\n];\nconst MicOff = createLucideIcon(\"mic-off\", __iconNode);\n\nexport { __iconNode, MicOff as default };\n//# sourceMappingURL=mic-off.js.map\n","/**\n * @license lucide-react v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 19v3\", key: \"npa21l\" }],\n  [\"path\", { d: \"M19 10v2a7 7 0 0 1-14 0v-2\", key: \"1vc78b\" }],\n  [\"rect\", { x: \"9\", y: \"2\", width: \"6\", height: \"13\", rx: \"3\", key: \"s6n7sd\" }]\n];\nconst Mic = createLucideIcon(\"mic\", __iconNode);\n\nexport { __iconNode, Mic as default };\n//# sourceMappingURL=mic.js.map\n","/**\n * @license lucide-react v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551\",\n      key: \"1miecu\"\n    }\n  ]\n];\nconst Paperclip = createLucideIcon(\"paperclip\", __iconNode);\n\nexport { __iconNode, Paperclip as default };\n//# sourceMappingURL=paperclip.js.map\n","import React, { useState, useEffect, useRef } from 'react';\nimport { usePatient } from '../../context/PatientContext';\nimport Card from '../UI/Card';\nimport Alert from '../UI/Alert';\nimport Tooltip from '../UI/Tooltip';\nimport LoadingSpinner from '../UI/LoadingSpinner';\nimport { \n  MessageSquare, \n  Video,\n  Phone,\n  Mail,\n  Send,\n  Paperclip,\n  Image,\n  FileText,\n  Mic,\n  MicOff,\n  VideoOff,\n  Users,\n  Calendar,\n  Clock,\n  Bell,\n  Search,\n  Filter,\n  Settings,\n  Shield,\n  Download,\n  Eye,\n  AlertTriangle,\n  CheckCircle,\n  Star,\n  Hash,\n  AtSign,\n  Plus,\n  X,\n  Archive\n} from 'lucide-react';\n\ninterface CommunicationMessage {\n  id: string;\n  type: 'text' | 'voice' | 'video' | 'file' | 'image' | 'alert' | 'system';\n  sender: {\n    id: string;\n    name: string;\n    role: 'physician' | 'nurse' | 'pharmacist' | 'patient' | 'system' | 'ai_assistant';\n    avatar?: string;\n  };\n  content: string;\n  attachments?: {\n    id: string;\n    name: string;\n    type: string;\n    size: number;\n    url: string;\n  }[];\n  timestamp: string;\n  read_by: string[];\n  priority: 'low' | 'normal' | 'high' | 'urgent';\n  thread_id?: string;\n  patient_id: string;\n  encryption_level: 'standard' | 'hipaa' | 'phi_encrypted';\n  mentions?: string[];\n  tags?: string[];\n}\n\ninterface CommunicationChannel {\n  id: string;\n  name: string;\n  type: 'direct' | 'group' | 'department' | 'emergency' | 'ai_consultation';\n  participants: {\n    id: string;\n    name: string;\n    role: string;\n    status: 'online' | 'away' | 'busy' | 'offline';\n    last_seen?: string;\n  }[];\n  patient_id?: string;\n  unread_count: number;\n  last_message?: CommunicationMessage;\n  created_at: string;\n  security_level: 'standard' | 'hipaa_compliant' | 'phi_secure';\n}\n\ninterface VideoCallSession {\n  id: string;\n  participants: string[];\n  status: 'scheduled' | 'ongoing' | 'ended';\n  start_time: string;\n  end_time?: string;\n  recording_available: boolean;\n  patient_consent: boolean;\n  call_type: 'consultation' | 'rounds' | 'emergency' | 'education';\n}\n\nconst ClinicalCommunicationHub: React.FC = () => {\n  const { state } = usePatient();\n  const { currentPatient } = state;\n  const [activeChannel, setActiveChannel] = useState<string | null>(null);\n  const [messages, setMessages] = useState<CommunicationMessage[]>([]);\n  const [channels, setChannels] = useState<CommunicationChannel[]>([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [isRecording, setIsRecording] = useState(false);\n  const [activeCall, setActiveCall] = useState<VideoCallSession | null>(null);\n  const [selectedFiles, setSelectedFiles] = useState<File[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [isTyping, setIsTyping] = useState<string[]>([]);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    // Initialize demo data\n    initializeDemoData();\n    // Simulate real-time updates\n    const interval = setInterval(simulateRealTimeUpdates, 5000);\n    return () => clearInterval(interval);\n  }, [currentPatient]);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const initializeDemoData = () => {\n    if (!currentPatient) return;\n\n    const demoChannels: CommunicationChannel[] = [\n      {\n        id: 'channel-1',\n        name: 'Oncology Team',\n        type: 'group',\n        participants: [\n          { id: 'dr-smith', name: 'Dr. Sarah Smith', role: 'Oncologist', status: 'online' },\n          { id: 'nurse-jones', name: 'Nurse Emily Jones', role: 'Oncology Nurse', status: 'online' },\n          { id: 'pharm-brown', name: 'Dr. Michael Brown', role: 'Clinical Pharmacist', status: 'away' },\n          { id: 'ai-assistant', name: 'OncoAI Assistant', role: 'AI Assistant', status: 'online' }\n        ],\n        patient_id: currentPatient.id,\n        unread_count: 3,\n        created_at: new Date().toISOString(),\n        security_level: 'hipaa_compliant'\n      },\n      {\n        id: 'channel-2',\n        name: 'Patient Care Coordination',\n        type: 'department',\n        participants: [\n          { id: 'coord-wilson', name: 'Lisa Wilson', role: 'Care Coordinator', status: 'online' },\n          { id: 'soc-worker', name: 'James Davis', role: 'Social Worker', status: 'offline', last_seen: '2 hours ago' },\n          { id: 'nutrit-garcia', name: 'Maria Garcia', role: 'Nutritionist', status: 'busy' }\n        ],\n        patient_id: currentPatient.id,\n        unread_count: 1,\n        created_at: new Date().toISOString(),\n        security_level: 'phi_secure'\n      },\n      {\n        id: 'channel-3',\n        name: 'Emergency Consultation',\n        type: 'emergency',\n        participants: [\n          { id: 'er-doc', name: 'Dr. Robert Lee', role: 'Emergency Physician', status: 'online' },\n          { id: 'intensivist', name: 'Dr. Jennifer Chen', role: 'Intensivist', status: 'online' }\n        ],\n        unread_count: 0,\n        created_at: new Date().toISOString(),\n        security_level: 'hipaa_compliant'\n      },\n      {\n        id: 'channel-4',\n        name: 'AI Clinical Assistant',\n        type: 'ai_consultation',\n        participants: [\n          { id: 'ai-clinical', name: 'OncoSafeRx AI', role: 'AI Assistant', status: 'online' },\n          { id: 'current-user', name: 'You', role: 'Physician', status: 'online' }\n        ],\n        patient_id: currentPatient.id,\n        unread_count: 0,\n        created_at: new Date().toISOString(),\n        security_level: 'standard'\n      }\n    ];\n\n    const demoMessages: CommunicationMessage[] = [\n      {\n        id: 'msg-1',\n        type: 'text',\n        sender: { id: 'dr-smith', name: 'Dr. Sarah Smith', role: 'physician' },\n        content: 'Lab results for CBC are in. Neutrophil count looks good for next cycle.',\n        timestamp: new Date(Date.now() - 3600000).toISOString(),\n        read_by: ['current-user'],\n        priority: 'normal',\n        patient_id: currentPatient.id,\n        encryption_level: 'hipaa',\n        tags: ['lab-results', 'neutrophils']\n      },\n      {\n        id: 'msg-2',\n        type: 'alert',\n        sender: { id: 'system', name: 'OncoSafeRx System', role: 'system' },\n        content: 'Drug interaction alert: New medication may interact with current regimen.',\n        timestamp: new Date(Date.now() - 1800000).toISOString(),\n        read_by: [],\n        priority: 'high',\n        patient_id: currentPatient.id,\n        encryption_level: 'phi_encrypted',\n        tags: ['drug-interaction', 'alert']\n      },\n      {\n        id: 'msg-3',\n        type: 'text',\n        sender: { id: 'nurse-jones', name: 'Nurse Emily Jones', role: 'nurse' },\n        content: 'Patient reports mild nausea this morning. Administered ondansetron 4mg IV as ordered.',\n        timestamp: new Date(Date.now() - 900000).toISOString(),\n        read_by: ['dr-smith'],\n        priority: 'normal',\n        patient_id: currentPatient.id,\n        encryption_level: 'hipaa',\n        tags: ['side-effects', 'medication-admin']\n      },\n      {\n        id: 'msg-4',\n        type: 'text',\n        sender: { id: 'ai-assistant', name: 'OncoAI Assistant', role: 'ai_assistant' },\n        content: 'Based on latest lab values and patient response, treatment appears to be well-tolerated. Consider continuing current regimen.',\n        timestamp: new Date(Date.now() - 300000).toISOString(),\n        read_by: [],\n        priority: 'normal',\n        patient_id: currentPatient.id,\n        encryption_level: 'standard',\n        tags: ['ai-recommendation', 'treatment-plan']\n      }\n    ];\n\n    setChannels(demoChannels);\n    setMessages(demoMessages);\n    setActiveChannel('channel-1');\n  };\n\n  const simulateRealTimeUpdates = () => {\n    // Simulate new messages, typing indicators, status updates\n    const updates = [\n      () => simulateTypingIndicator(),\n      () => simulateStatusUpdate(),\n      () => simulateNewMessage()\n    ];\n    \n    const randomUpdate = updates[Math.floor(Math.random() * updates.length)];\n    if (Math.random() < 0.3) { // 30% chance of update\n      randomUpdate();\n    }\n  };\n\n  const simulateTypingIndicator = () => {\n    const users = ['dr-smith', 'nurse-jones', 'ai-assistant'];\n    const randomUser = users[Math.floor(Math.random() * users.length)];\n    \n    setIsTyping(prev => [...prev, randomUser]);\n    setTimeout(() => {\n      setIsTyping(prev => prev.filter(u => u !== randomUser));\n    }, 3000);\n  };\n\n  const simulateStatusUpdate = () => {\n    setChannels(prev => prev.map(channel => ({\n      ...channel,\n      participants: channel.participants.map(p => ({\n        ...p,\n        status: Math.random() < 0.1 ? \n          ['online', 'away', 'busy'][Math.floor(Math.random() * 3)] as any : \n          p.status\n      }))\n    })));\n  };\n\n  const simulateNewMessage = () => {\n    if (!currentPatient) return;\n\n    const aiResponses = [\n      'New clinical trial matching patient profile found. Would you like me to provide details?',\n      'Reminder: Patient due for follow-up labs in 2 days.',\n      'Drug interaction check complete. No significant interactions detected.',\n      'Patient vital signs monitoring shows stable trends.',\n      'New evidence-based treatment recommendation available based on recent publications.'\n    ];\n\n    const newMsg: CommunicationMessage = {\n      id: `msg-${Date.now()}`,\n      type: 'text',\n      sender: { id: 'ai-assistant', name: 'OncoAI Assistant', role: 'ai_assistant' },\n      content: aiResponses[Math.floor(Math.random() * aiResponses.length)],\n      timestamp: new Date().toISOString(),\n      read_by: [],\n      priority: 'normal',\n      patient_id: currentPatient.id,\n      encryption_level: 'standard',\n      tags: ['ai-update']\n    };\n\n    setMessages(prev => [...prev, newMsg]);\n    \n    // Update channel unread count\n    setChannels(prev => prev.map(channel => \n      channel.id === activeChannel \n        ? { ...channel, unread_count: channel.unread_count + 1, last_message: newMsg }\n        : channel\n    ));\n  };\n\n  const sendMessage = () => {\n    if (!newMessage.trim() || !currentPatient || !activeChannel) return;\n\n    const message: CommunicationMessage = {\n      id: `msg-${Date.now()}`,\n      type: 'text',\n      sender: { id: 'current-user', name: 'You', role: 'physician' },\n      content: newMessage,\n      timestamp: new Date().toISOString(),\n      read_by: ['current-user'],\n      priority: 'normal',\n      patient_id: currentPatient.id,\n      encryption_level: 'hipaa',\n      attachments: selectedFiles.length > 0 ? selectedFiles.map((file, idx) => ({\n        id: `att-${Date.now()}-${idx}`,\n        name: file.name,\n        type: file.type,\n        size: file.size,\n        url: URL.createObjectURL(file)\n      })) : undefined\n    };\n\n    setMessages(prev => [...prev, message]);\n    setNewMessage('');\n    setSelectedFiles([]);\n    \n    // Update channel\n    setChannels(prev => prev.map(channel => \n      channel.id === activeChannel \n        ? { ...channel, last_message: message }\n        : channel\n    ));\n  };\n\n  const startVideoCall = () => {\n    const callSession: VideoCallSession = {\n      id: `call-${Date.now()}`,\n      participants: ['current-user'],\n      status: 'ongoing',\n      start_time: new Date().toISOString(),\n      recording_available: false,\n      patient_consent: true,\n      call_type: 'consultation'\n    };\n    \n    setActiveCall(callSession);\n  };\n\n  const endVideoCall = () => {\n    if (activeCall) {\n      setActiveCall({\n        ...activeCall,\n        status: 'ended',\n        end_time: new Date().toISOString()\n      });\n      setTimeout(() => setActiveCall(null), 2000);\n    }\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const getMessageIcon = (type: string) => {\n    switch (type) {\n      case 'voice': return <Mic className=\"w-4 h-4\" />;\n      case 'video': return <Video className=\"w-4 h-4\" />;\n      case 'file': return <FileText className=\"w-4 h-4\" />;\n      case 'image': return <Image className=\"w-4 h-4\" />;\n      case 'alert': return <AlertTriangle className=\"w-4 h-4\" />;\n      case 'system': return <Settings className=\"w-4 h-4\" />;\n      default: return <MessageSquare className=\"w-4 h-4\" />;\n    }\n  };\n\n  const getRoleColor = (role: string) => {\n    switch (role) {\n      case 'physician': return 'text-blue-600';\n      case 'nurse': return 'text-green-600';\n      case 'pharmacist': return 'text-purple-600';\n      case 'ai_assistant': return 'text-orange-600';\n      case 'system': return 'text-gray-600';\n      default: return 'text-gray-600';\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'online': return 'bg-green-500';\n      case 'away': return 'bg-yellow-500';\n      case 'busy': return 'bg-red-500';\n      case 'offline': return 'bg-gray-400';\n      default: return 'bg-gray-400';\n    }\n  };\n\n  const getPriorityColor = (priority: string) => {\n    switch (priority) {\n      case 'urgent': return 'border-l-4 border-red-500 bg-red-50';\n      case 'high': return 'border-l-4 border-orange-500 bg-orange-50';\n      case 'normal': return 'border-l-4 border-blue-500 bg-blue-50';\n      case 'low': return 'border-l-4 border-gray-500 bg-gray-50';\n      default: return 'border-l-4 border-gray-500 bg-gray-50';\n    }\n  };\n\n  const filteredMessages = messages.filter(msg => \n    activeChannel && msg.patient_id === currentPatient?.id &&\n    (searchQuery === '' || \n     msg.content.toLowerCase().includes(searchQuery.toLowerCase()) ||\n     msg.sender.name.toLowerCase().includes(searchQuery.toLowerCase()))\n  );\n\n  if (!currentPatient) {\n    return (\n      <Card>\n        <div className=\"text-center py-12\">\n          <MessageSquare className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" />\n          <h3 className=\"text-xl font-semibold text-gray-500 mb-2\">Clinical Communication Hub</h3>\n          <p className=\"text-gray-400 max-w-md mx-auto\">\n            Select a patient to access secure clinical communication and collaboration tools\n          </p>\n        </div>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"h-screen flex flex-col space-y-4\">\n      {/* Header */}\n      <Card className=\"bg-gradient-to-r from-blue-50 to-green-50 border-blue-200\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center\">\n              <MessageSquare className=\"w-6 h-6 text-blue-600\" />\n            </div>\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">Clinical Communication Hub</h1>\n              <p className=\"text-gray-600\">\n                Secure communication for {currentPatient.demographics.firstName} {currentPatient.demographics.lastName}\n              </p>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-3\">\n            <Tooltip content=\"HIPAA-compliant secure messaging\">\n              <Shield className=\"w-5 h-5 text-green-600\" />\n            </Tooltip>\n            <span className=\"text-sm text-green-600 font-medium\">End-to-End Encrypted</span>\n          </div>\n        </div>\n      </Card>\n\n      {/* Active Video Call */}\n      {activeCall && (\n        <Card className=\"bg-gradient-to-r from-green-50 to-blue-50 border-green-200\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center\">\n                <Video className=\"w-5 h-5 text-green-600\" />\n              </div>\n              <div>\n                <div className=\"font-semibold text-gray-900\">Video Call Active</div>\n                <div className=\"text-sm text-gray-600\">\n                  {activeCall.call_type} - Started {new Date(activeCall.start_time).toLocaleTimeString()}\n                </div>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <button className=\"p-2 bg-white bg-opacity-50 rounded-lg hover:bg-opacity-75\">\n                <Mic className=\"w-4 h-4 text-green-600\" />\n              </button>\n              <button className=\"p-2 bg-white bg-opacity-50 rounded-lg hover:bg-opacity-75\">\n                <Video className=\"w-4 h-4 text-green-600\" />\n              </button>\n              <button \n                onClick={endVideoCall}\n                className=\"p-2 bg-red-500 text-white rounded-lg hover:bg-red-600\"\n              >\n                <Phone className=\"w-4 h-4\" />\n              </button>\n            </div>\n          </div>\n        </Card>\n      )}\n\n      {/* Main Communication Interface */}\n      <div className=\"flex-1 grid grid-cols-4 gap-4 h-0\">\n        {/* Channels Sidebar */}\n        <Card className=\"col-span-1 p-0 flex flex-col\">\n          <div className=\"p-4 border-b border-gray-200\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h3 className=\"font-semibold text-gray-900\">Channels</h3>\n              <button className=\"p-1 text-gray-400 hover:text-gray-600\">\n                <Plus className=\"w-4 h-4\" />\n              </button>\n            </div>\n            <div className=\"relative\">\n              <Search className=\"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search channels...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n          </div>\n          \n          <div className=\"flex-1 overflow-y-auto\">\n            {channels.map((channel) => (\n              <div\n                key={channel.id}\n                onClick={() => setActiveChannel(channel.id)}\n                className={`p-3 border-b border-gray-100 cursor-pointer hover:bg-gray-50 ${\n                  activeChannel === channel.id ? 'bg-blue-50 border-blue-200' : ''\n                }`}\n              >\n                <div className=\"flex items-center justify-between mb-2\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Hash className=\"w-4 h-4 text-gray-400\" />\n                    <span className=\"font-medium text-gray-900 truncate\">{channel.name}</span>\n                  </div>\n                  {channel.unread_count > 0 && (\n                    <span className=\"bg-red-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center\">\n                      {channel.unread_count}\n                    </span>\n                  )}\n                </div>\n                \n                <div className=\"flex items-center space-x-1 mb-2\">\n                  {channel.participants.slice(0, 3).map((participant, idx) => (\n                    <div key={idx} className=\"flex items-center space-x-1\">\n                      <div className={`w-2 h-2 rounded-full ${getStatusColor(participant.status)}`}></div>\n                      <span className=\"text-xs text-gray-600 truncate\">{participant.name.split(' ')[0]}</span>\n                    </div>\n                  ))}\n                  {channel.participants.length > 3 && (\n                    <span className=\"text-xs text-gray-500\">+{channel.participants.length - 3}</span>\n                  )}\n                </div>\n                \n                {channel.last_message && (\n                  <p className=\"text-xs text-gray-500 truncate\">\n                    {channel.last_message.sender.name}: {channel.last_message.content}\n                  </p>\n                )}\n                \n                <div className=\"flex items-center justify-between mt-2\">\n                  <span className={`text-xs px-2 py-1 rounded-full ${\n                    channel.type === 'emergency' ? 'bg-red-100 text-red-600' :\n                    channel.type === 'ai_consultation' ? 'bg-orange-100 text-orange-600' :\n                    'bg-gray-100 text-gray-600'\n                  }`}>\n                    {channel.type.replace('_', ' ')}\n                  </span>\n                  {channel.security_level === 'hipaa_compliant' && (\n                    <Shield className=\"w-3 h-3 text-green-500\" />\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        </Card>\n\n        {/* Messages Area */}\n        <Card className=\"col-span-3 p-0 flex flex-col\">\n          {/* Messages Header */}\n          <div className=\"p-4 border-b border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                {activeChannel && (\n                  <>\n                    <h3 className=\"font-semibold text-gray-900\">\n                      {channels.find(c => c.id === activeChannel)?.name}\n                    </h3>\n                    <div className=\"flex items-center space-x-4 text-sm text-gray-600\">\n                      <span>\n                        {channels.find(c => c.id === activeChannel)?.participants.length} members\n                      </span>\n                      <span>•</span>\n                      <span>\n                        {channels.find(c => c.id === activeChannel)?.participants.filter(p => p.status === 'online').length} online\n                      </span>\n                    </div>\n                  </>\n                )}\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={startVideoCall}\n                  className=\"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg\"\n                >\n                  <Video className=\"w-4 h-4\" />\n                </button>\n                <button className=\"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg\">\n                  <Phone className=\"w-4 h-4\" />\n                </button>\n                <button className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg\">\n                  <Settings className=\"w-4 h-4\" />\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Messages List */}\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n            {filteredMessages.map((message) => (\n              <div key={message.id} className={`flex space-x-3 ${getPriorityColor(message.priority)} p-3 rounded-lg`}>\n                <div className=\"flex-shrink-0\">\n                  <div className=\"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center\">\n                    <span className=\"text-xs font-medium text-gray-600\">\n                      {message.sender.name.split(' ').map(n => n[0]).join('').substring(0, 2)}\n                    </span>\n                  </div>\n                </div>\n                \n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-center space-x-2 mb-1\">\n                    <span className={`font-medium ${getRoleColor(message.sender.role)}`}>\n                      {message.sender.name}\n                    </span>\n                    <span className=\"text-xs text-gray-500\">\n                      {new Date(message.timestamp).toLocaleTimeString()}\n                    </span>\n                    {getMessageIcon(message.type)}\n                    {message.priority !== 'normal' && (\n                      <span className={`text-xs px-2 py-1 rounded-full ${\n                        message.priority === 'urgent' ? 'bg-red-100 text-red-600' :\n                        message.priority === 'high' ? 'bg-orange-100 text-orange-600' :\n                        'bg-blue-100 text-blue-600'\n                      }`}>\n                        {message.priority}\n                      </span>\n                    )}\n                  </div>\n                  \n                  <p className=\"text-gray-800\">{message.content}</p>\n                  \n                  {message.attachments && message.attachments.length > 0 && (\n                    <div className=\"mt-2 space-y-1\">\n                      {message.attachments.map((attachment) => (\n                        <div key={attachment.id} className=\"flex items-center space-x-2 p-2 bg-white bg-opacity-50 rounded\">\n                          <FileText className=\"w-4 h-4 text-blue-500\" />\n                          <span className=\"text-sm text-blue-600 hover:underline cursor-pointer\">\n                            {attachment.name}\n                          </span>\n                          <span className=\"text-xs text-gray-500\">\n                            ({(attachment.size / 1024).toFixed(1)} KB)\n                          </span>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                  \n                  {message.tags && message.tags.length > 0 && (\n                    <div className=\"mt-2 flex flex-wrap gap-1\">\n                      {message.tags.map((tag, idx) => (\n                        <span key={idx} className=\"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded\">\n                          #{tag}\n                        </span>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n            ))}\n            \n            {/* Typing Indicators */}\n            {isTyping.length > 0 && (\n              <div className=\"flex items-center space-x-2 text-gray-500 italic\">\n                <div className=\"flex space-x-1\">\n                  <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></div>\n                  <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\n                  <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\n                </div>\n                <span className=\"text-sm\">\n                  {isTyping.join(', ')} {isTyping.length > 1 ? 'are' : 'is'} typing...\n                </span>\n              </div>\n            )}\n            \n            <div ref={messagesEndRef} />\n          </div>\n\n          {/* Message Input */}\n          <div className=\"p-4 border-t border-gray-200 bg-gray-50\">\n            {selectedFiles.length > 0 && (\n              <div className=\"mb-3 flex flex-wrap gap-2\">\n                {selectedFiles.map((file, idx) => (\n                  <div key={idx} className=\"flex items-center space-x-2 bg-blue-100 text-blue-800 px-3 py-1 rounded-full\">\n                    <FileText className=\"w-3 h-3\" />\n                    <span className=\"text-xs\">{file.name}</span>\n                    <button\n                      onClick={() => setSelectedFiles(prev => prev.filter((_, i) => i !== idx))}\n                      className=\"text-blue-600 hover:text-blue-800\"\n                    >\n                      <X className=\"w-3 h-3\" />\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n            \n            <div className=\"flex items-center space-x-2\">\n              <button\n                onClick={() => fileInputRef.current?.click()}\n                className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg\"\n              >\n                <Paperclip className=\"w-4 h-4\" />\n              </button>\n              <button\n                onClick={() => setIsRecording(!isRecording)}\n                className={`p-2 rounded-lg ${\n                  isRecording \n                    ? 'text-red-600 bg-red-50 hover:bg-red-100' \n                    : 'text-gray-400 hover:text-gray-600 hover:bg-gray-100'\n                }`}\n              >\n                {isRecording ? <MicOff className=\"w-4 h-4\" /> : <Mic className=\"w-4 h-4\" />}\n              </button>\n              \n              <div className=\"flex-1 relative\">\n                <input\n                  type=\"text\"\n                  value={newMessage}\n                  onChange={(e) => setNewMessage(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && sendMessage()}\n                  placeholder=\"Type a secure message...\"\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n                <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-1\">\n                  <Shield className=\"w-3 h-3 text-green-500\" />\n                  <span className=\"text-xs text-green-600\">Encrypted</span>\n                </div>\n              </div>\n              \n              <button\n                onClick={sendMessage}\n                disabled={!newMessage.trim()}\n                className=\"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed\"\n              >\n                <Send className=\"w-4 h-4\" />\n              </button>\n            </div>\n            \n            <div className=\"flex items-center justify-between mt-2 text-xs text-gray-500\">\n              <span>Messages are HIPAA-compliant and end-to-end encrypted</span>\n              <div className=\"flex items-center space-x-2\">\n                <span>Patient ID: {currentPatient.id}</span>\n                <span>•</span>\n                <span>Secure Channel</span>\n              </div>\n            </div>\n          </div>\n        </Card>\n      </div>\n\n      {/* Hidden file input */}\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        multiple\n        onChange={(e) => {\n          if (e.target.files) {\n            setSelectedFiles(prev => [...prev, ...Array.from(e.target.files!)]);\n          }\n        }}\n        className=\"hidden\"\n      />\n    </div>\n  );\n};\n\nexport default ClinicalCommunicationHub;"],"names":["__iconNode","Hash","createLucideIcon","Image","MicOff","Mic","Paperclip","ClinicalCommunicationHub","state","usePatient","currentPatient","activeChannel","setActiveChannel","useState","messages","setMessages","channels","setChannels","newMessage","setNewMessage","isRecording","setIsRecording","activeCall","setActiveCall","selectedFiles","setSelectedFiles","searchQuery","setSearchQuery","showEmoji","setShowEmoji","isTyping","setIsTyping","fileInputRef","useRef","messagesEndRef","useEffect","initializeDemoData","interval","simulateRealTimeUpdates","scrollToBottom","demoChannels","demoMessages","updates","simulateTypingIndicator","simulateStatusUpdate","simulateNewMessage","randomUpdate","users","randomUser","prev","u","channel","p","aiResponses","newMsg","sendMessage","message","file","idx","startVideoCall","callSession","endVideoCall","getMessageIcon","type","jsx","Video","FileText","AlertTriangle","Settings","MessageSquare","getRoleColor","role","getStatusColor","status","getPriorityColor","priority","filteredMessages","msg","jsxs","Card","Tooltip","Shield","Phone","Plus","Search","e","participant","Fragment","c","n","attachment","tag","_","i","X","Send"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}