import{r as u,j as e}from"./index-8LC8IQKY.js";import{T as k}from"./Tooltip-CCp_Mki3.js";import{X as N}from"./x-CQXgGKGO.js";import{U as D}from"./user-Dpecevp5.js";import{P as q}from"./phone-BDjQDKh0.js";import{H as L}from"./heart-i3E_mUuI.js";import{A as V}from"./activity-BXSagPiR.js";import{S as $}from"./shield-BY4b8Nc2.js";import{H as T}from"./house-svls-J_z.js";import{S as _}from"./save-CZVRNu7b.js";import{I as S}from"./info-BEmptaGI.js";const C="osrx_draft_patient_server",re=({onSubmit:I,onCancel:A})=>{const[p,y]=u.useState("demographics"),[a,d]=u.useState({firstName:"",lastName:"",dateOfBirth:"",sex:"male",allergies:[],medicalHistory:[],familyHistory:[]});u.useEffect(()=>{try{const r=localStorage.getItem(C);if(r){const t=JSON.parse(r);t&&typeof t=="object"&&d(l=>({...l,...t}))}}catch{}},[]),u.useEffect(()=>{try{localStorage.setItem(C,JSON.stringify(a))}catch{}},[a]);const[x,f]=u.useState({allergen:"",reaction:"",severity:"mild"}),[g,v]=u.useState({condition:"",yearDiagnosed:"",status:"active"}),[c,j]=u.useState({relationship:"",condition:"",ageAtDiagnosis:""}),o=[{id:"demographics",label:"Demographics",icon:D},{id:"contact",label:"Contact Info",icon:q},{id:"clinical",label:"Clinical Info",icon:L},{id:"vitals",label:"Vitals & Labs",icon:V},{id:"history",label:"Medical History",icon:$},{id:"social",label:"Social History",icon:T},{id:"providers",label:"Care Team",icon:D}],s=(r,t)=>{d(l=>{const n=r.split("."),m={...l};let b=m;for(let h=0;h<n.length-1;h++)b[n[h]]||(b[n[h]]={}),b=b[n[h]];return b[n[n.length-1]]=t,m})},P=()=>{if(x.allergen&&x.reaction){const r={...x,id:`allergy-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,allergenType:"drug",dateReported:new Date().toISOString(),verified:!1};d(t=>({...t,allergies:[...t.allergies||[],r]})),f({allergen:"",reaction:"",severity:"mild"})}},F=()=>{g.condition&&(d(r=>({...r,medicalHistory:[...r.medicalHistory||[],{...g,yearDiagnosed:g.yearDiagnosed?parseInt(g.yearDiagnosed):void 0}]})),v({condition:"",yearDiagnosed:"",status:"active"}))},O=()=>{c.relationship&&c.condition&&(d(r=>({...r,familyHistory:[...r.familyHistory||[],{...c,ageAtDiagnosis:c.ageAtDiagnosis?parseInt(c.ageAtDiagnosis):void 0}]})),j({relationship:"",condition:"",ageAtDiagnosis:""}))},[i,B]=u.useState({}),R=()=>{const r={};return a.firstName?.trim()||(r.firstName="First name is required"),a.lastName?.trim()||(r.lastName="Last name is required"),a.dateOfBirth||(r.dateOfBirth="Date of birth is required"),a.sex||(r.sex="Sex is required"),a.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)&&(r.email="Please enter a valid email address"),a.phone&&!/^\+?[\d\s\-\(\)]{10,}$/.test(a.phone)&&(r.phone="Please enter a valid phone number"),(a.emergencyContact?.name||a.emergencyContact?.phone||a.emergencyContact?.relationship)&&(a.emergencyContact?.name?.trim()||(r["emergencyContact.name"]="Emergency contact name is required"),a.emergencyContact?.phone?.trim()||(r["emergencyContact.phone"]="Emergency contact phone is required"),a.emergencyContact?.relationship?.trim()||(r["emergencyContact.relationship"]="Emergency contact relationship is required")),B(r),Object.keys(r).length===0},w=()=>a.firstName?.trim()&&a.lastName?.trim()&&a.dateOfBirth&&a.sex,M=r=>{if(r.preventDefault(),R()){try{localStorage.removeItem(C)}catch{}I(a)}else i.firstName||i.lastName||i.dateOfBirth||i.sex?y("demographics"):(i.email||i.phone)&&y("contact")},H=()=>{try{localStorage.removeItem(C)}catch{}A()},E=()=>{switch(p){case"demographics":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:a.firstName,onChange:r=>s("firstName",r.target.value),required:!0,className:`w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${i.firstName?"border-red-500":"border-gray-300"}`}),i.firstName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.firstName})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:a.lastName,onChange:r=>s("lastName",r.target.value),required:!0,className:`w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${i.lastName?"border-red-500":"border-gray-300"}`}),i.lastName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.lastName})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:a.dateOfBirth,onChange:r=>s("dateOfBirth",r.target.value),required:!0,className:`w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${i.dateOfBirth?"border-red-500":"border-gray-300"}`}),i.dateOfBirth&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.dateOfBirth})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Biological Sex ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:a.sex,onChange:r=>s("sex",r.target.value),required:!0,className:`w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${i.sex?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other/Unknown"})]}),i.sex&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.sex})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Height (cm)"}),e.jsx("input",{type:"number",value:a.heightCm||"",onChange:r=>s("heightCm",r.target.value?parseFloat(r.target.value):void 0),min:"0",max:"300",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),e.jsx("input",{type:"number",value:a.weightKg||"",onChange:r=>s("weightKg",r.target.value?parseFloat(r.target.value):void 0),min:"0",max:"500",step:"0.1",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["BSA (mÂ²)",e.jsx(k,{content:"Body Surface Area - calculated automatically if height and weight provided",children:e.jsx(S,{className:"w-3 h-3 ml-1 inline"})})]}),e.jsx("input",{type:"number",value:a.bsa||"",onChange:r=>s("bsa",r.target.value?parseFloat(r.target.value):void 0),step:"0.01",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medical Record Number (MRN)"}),e.jsx("input",{type:"text",value:a.mrn||"",onChange:r=>s("mrn",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]});case"contact":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:a.email||"",onChange:r=>s("email",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:a.phone||"",onChange:r=>s("phone",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Address"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",placeholder:"Street Address",value:a.address?.street||"",onChange:r=>s("address.street",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("input",{type:"text",placeholder:"City",value:a.address?.city||"",onChange:r=>s("address.city",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("input",{type:"text",placeholder:"State",value:a.address?.state||"",onChange:r=>s("address.state",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("input",{type:"text",placeholder:"ZIP Code",value:a.address?.zipCode||"",onChange:r=>s("address.zipCode",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Emergency Contact"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("input",{type:"text",placeholder:"Contact Name",value:a.emergencyContact?.name||"",onChange:r=>s("emergencyContact.name",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("input",{type:"text",placeholder:"Relationship",value:a.emergencyContact?.relationship||"",onChange:r=>s("emergencyContact.relationship",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("input",{type:"tel",placeholder:"Phone Number",value:a.emergencyContact?.phone||"",onChange:r=>s("emergencyContact.phone",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Insurance Information"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("input",{type:"text",placeholder:"Insurance Provider",value:a.insurance?.provider||"",onChange:r=>s("insurance.provider",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("input",{type:"text",placeholder:"Member ID",value:a.insurance?.memberId||"",onChange:r=>s("insurance.memberId",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("input",{type:"text",placeholder:"Group Number",value:a.insurance?.groupNumber||"",onChange:r=>s("insurance.groupNumber",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]});case"clinical":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Diagnosis"}),e.jsx("input",{type:"text",value:a.primaryDiagnosis||"",onChange:r=>s("primaryDiagnosis",r.target.value),placeholder:"e.g., Breast Cancer, Lung Adenocarcinoma",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stage"}),e.jsx("input",{type:"text",value:a.stage||"",onChange:r=>s("stage",r.target.value),placeholder:"e.g., Stage IIIA, T2N1M0",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Diagnosis"}),e.jsx("input",{type:"date",value:a.dateOfDiagnosis||"",onChange:r=>s("dateOfDiagnosis",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Site"}),e.jsx("input",{type:"text",value:a.primarySite||"",onChange:r=>s("primarySite",r.target.value),placeholder:"e.g., Left breast, Right upper lobe",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Histology"}),e.jsx("input",{type:"text",value:a.histology||"",onChange:r=>s("histology",r.target.value),placeholder:"e.g., Invasive ductal carcinoma, Adenocarcinoma",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ECOG Performance Status",e.jsx(k,{content:"0=Fully active, 1=Restricted strenuous activity, 2=Ambulatory >50% of time, 3=Limited self-care, 4=Completely disabled",children:e.jsx(S,{className:"w-3 h-3 ml-1 inline"})})]}),e.jsxs("select",{value:a.ecogPerformanceStatus||"",onChange:r=>s("ecogPerformanceStatus",r.target.value?parseInt(r.target.value):void 0),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"Select ECOG Score"}),e.jsx("option",{value:"0",children:"0 - Fully active"}),e.jsx("option",{value:"1",children:"1 - Restricted strenuous activity"}),e.jsx("option",{value:"2",children:"2 - Ambulatory, self-care"}),e.jsx("option",{value:"3",children:"3 - Limited self-care"}),e.jsx("option",{value:"4",children:"4 - Completely disabled"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Karnofsky Score",e.jsx(k,{content:"Performance status scale 0-100, where 100 = normal activity",children:e.jsx(S,{className:"w-3 h-3 ml-1 inline"})})]}),e.jsx("input",{type:"number",value:a.karnofskyScore||"",onChange:r=>s("karnofskyScore",r.target.value?parseInt(r.target.value):void 0),min:"0",max:"100",step:"10",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]});case"vitals":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Vital Signs"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"BP Systolic"}),e.jsx("input",{type:"number",value:a.vitals?.bloodPressureSystolic||"",onChange:r=>s("vitals.bloodPressureSystolic",r.target.value?parseInt(r.target.value):void 0),placeholder:"mmHg",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"BP Diastolic"}),e.jsx("input",{type:"number",value:a.vitals?.bloodPressureDiastolic||"",onChange:r=>s("vitals.bloodPressureDiastolic",r.target.value?parseInt(r.target.value):void 0),placeholder:"mmHg",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Heart Rate"}),e.jsx("input",{type:"number",value:a.vitals?.heartRate||"",onChange:r=>s("vitals.heartRate",r.target.value?parseInt(r.target.value):void 0),placeholder:"bpm",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Laboratory Values"}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hemoglobin"}),e.jsx("input",{type:"number",value:a.labValues?.hemoglobin||"",onChange:r=>s("labValues.hemoglobin",r.target.value?parseFloat(r.target.value):void 0),placeholder:"g/dL",step:"0.1",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WBC"}),e.jsx("input",{type:"number",value:a.labValues?.wbc||"",onChange:r=>s("labValues.wbc",r.target.value?parseFloat(r.target.value):void 0),placeholder:"K/Î¼L",step:"0.1",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Platelets"}),e.jsx("input",{type:"number",value:a.labValues?.platelets||"",onChange:r=>s("labValues.platelets",r.target.value?parseFloat(r.target.value):void 0),placeholder:"K/Î¼L",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Creatinine"}),e.jsx("input",{type:"number",value:a.labValues?.creatinine||"",onChange:r=>s("labValues.creatinine",r.target.value?parseFloat(r.target.value):void 0),placeholder:"mg/dL",step:"0.01",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]})]});case"history":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Allergies"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsx("input",{type:"text",placeholder:"Allergen",value:x.allergen,onChange:r=>f(t=>({...t,allergen:r.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("input",{type:"text",placeholder:"Reaction",value:x.reaction,onChange:r=>f(t=>({...t,reaction:r.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsxs("select",{value:x.severity,onChange:r=>f(t=>({...t,severity:r.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"mild",children:"Mild"}),e.jsx("option",{value:"moderate",children:"Moderate"}),e.jsx("option",{value:"severe",children:"Severe"})]}),e.jsx("button",{type:"button",onClick:P,className:"px-3 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Add"})]}),a.allergies&&a.allergies.length>0&&e.jsx("div",{className:"space-y-2",children:a.allergies.map((r,t)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 rounded-md",children:[e.jsxs("span",{children:[r.allergen," - ",r.reaction," (",r.severity,")"]}),e.jsx("button",{type:"button",onClick:()=>d(l=>({...l,allergies:l.allergies?.filter((n,m)=>m!==t)})),className:"text-red-600 hover:text-red-800",children:e.jsx(N,{className:"w-4 h-4"})})]},t))})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Medical History"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsx("input",{type:"text",placeholder:"Condition",value:g.condition,onChange:r=>v(t=>({...t,condition:r.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("input",{type:"number",placeholder:"Year Diagnosed",value:g.yearDiagnosed,onChange:r=>v(t=>({...t,yearDiagnosed:r.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsxs("select",{value:g.status,onChange:r=>v(t=>({...t,status:r.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"chronic",children:"Chronic"}),e.jsx("option",{value:"resolved",children:"Resolved"})]}),e.jsx("button",{type:"button",onClick:F,className:"px-3 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Add"})]}),a.medicalHistory&&a.medicalHistory.length>0&&e.jsx("div",{className:"space-y-2",children:a.medicalHistory.map((r,t)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded-md",children:[e.jsxs("span",{children:[r.condition," ",r.yearDiagnosed&&`(${r.yearDiagnosed})`," - ",r.status]}),e.jsx("button",{type:"button",onClick:()=>d(l=>({...l,medicalHistory:l.medicalHistory?.filter((n,m)=>m!==t)})),className:"text-red-600 hover:text-red-800",children:e.jsx(N,{className:"w-4 h-4"})})]},t))})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Family History"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsx("input",{type:"text",placeholder:"Relationship",value:c.relationship,onChange:r=>j(t=>({...t,relationship:r.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("input",{type:"text",placeholder:"Condition",value:c.condition,onChange:r=>j(t=>({...t,condition:r.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("input",{type:"number",placeholder:"Age at Diagnosis",value:c.ageAtDiagnosis,onChange:r=>j(t=>({...t,ageAtDiagnosis:r.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("button",{type:"button",onClick:O,className:"px-3 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Add"})]}),a.familyHistory&&a.familyHistory.length>0&&e.jsx("div",{className:"space-y-2",children:a.familyHistory.map((r,t)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded-md",children:[e.jsxs("span",{children:[r.relationship," - ",r.condition," ",r.ageAtDiagnosis&&`(age ${r.ageAtDiagnosis})`]}),e.jsx("button",{type:"button",onClick:()=>d(l=>({...l,familyHistory:l.familyHistory?.filter((n,m)=>m!==t)})),className:"text-red-600 hover:text-red-800",children:e.jsx(N,{className:"w-4 h-4"})})]},t))})]})]})]});case"social":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Smoking Status"}),e.jsxs("select",{value:a.socialHistory?.smokingStatus||"",onChange:r=>s("socialHistory.smokingStatus",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"never",children:"Never smoker"}),e.jsx("option",{value:"former",children:"Former smoker"}),e.jsx("option",{value:"current",children:"Current smoker"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pack Years (if applicable)"}),e.jsx("input",{type:"number",value:a.socialHistory?.smokingPackYears||"",onChange:r=>s("socialHistory.smokingPackYears",r.target.value?parseFloat(r.target.value):void 0),step:"0.5",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alcohol Use"}),e.jsxs("select",{value:a.socialHistory?.alcoholUse||"",onChange:r=>s("socialHistory.alcoholUse",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"Select usage"}),e.jsx("option",{value:"none",children:"None"}),e.jsx("option",{value:"occasional",children:"Occasional"}),e.jsx("option",{value:"moderate",children:"Moderate"}),e.jsx("option",{value:"heavy",children:"Heavy"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marital Status"}),e.jsxs("select",{value:a.socialHistory?.maritalStatus||"",onChange:r=>s("socialHistory.maritalStatus",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"single",children:"Single"}),e.jsx("option",{value:"married",children:"Married"}),e.jsx("option",{value:"divorced",children:"Divorced"}),e.jsx("option",{value:"widowed",children:"Widowed"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupation"}),e.jsx("input",{type:"text",value:a.socialHistory?.occupation||"",onChange:r=>s("socialHistory.occupation",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]});case"providers":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Oncologist"}),e.jsx("input",{type:"text",value:a.primaryOncologist||"",onChange:r=>s("primaryOncologist",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Referring Physician"}),e.jsx("input",{type:"text",value:a.referringPhysician||"",onChange:r=>s("referringPhysician",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Treatment Center/Hospital"}),e.jsx("input",{type:"text",value:a.treatmentCenter||"",onChange:r=>s("treatmentCenter",r.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]});default:return null}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Patient"}),e.jsx("button",{onClick:H,className:"text-gray-400 hover:text-gray-600",children:e.jsx(N,{className:"w-6 h-6"})})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Complete patient information for comprehensive clinical management"})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsx("div",{className:"flex space-x-1 overflow-x-auto",children:o.map(({id:r,label:t,icon:l})=>e.jsxs("button",{onClick:()=>y(r),className:`flex items-center space-x-2 px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${p===r?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(l,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:t})]},r))})}),e.jsxs("form",{onSubmit:M,className:"flex-1 overflow-y-auto",children:[e.jsx("div",{className:"p-6",children:E()}),e.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{type:"button",onClick:H,className:"px-6 py-2 border border-gray-300 text-gray-700 bg-white rounded-md hover:bg-gray-50",children:"Cancel"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{const r=o.findIndex(t=>t.id===p);r>0&&y(o[r-1].id)},disabled:o.findIndex(r=>r.id===p)===0,className:"px-6 py-2 border border-gray-300 text-gray-700 bg-white rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{type:"button",onClick:()=>{const r=o.findIndex(t=>t.id===p);r<o.length-1&&y(o[r+1].id)},disabled:o.findIndex(r=>r.id===p)===o.length-1,className:"px-6 py-2 border border-gray-300 text-gray-700 bg-white rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"}),e.jsxs("button",{type:"submit",disabled:!w(),className:`flex items-center space-x-2 px-6 py-2 rounded-md transition-colors ${w()?"bg-primary-600 text-white hover:bg-primary-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:w()?"":"Please fill in all required fields (First Name, Last Name, Date of Birth, Sex)",children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{children:"Create Patient"})]})]})]})})]})]})})};export{re as C};
