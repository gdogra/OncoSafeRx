import{c as E,r as m,j as e,U as S,h as U,d as V,A as T,N as $,R as k,ab as n,S as J,T as X,k as I,o as Y,a as P,I as Z,ac as ee}from"./index-Bhw970Mt.js";import{W as se}from"./wifi-BvwRqpkY.js";import{R as D}from"./refresh-cw-CEIIBFss.js";import{E as _}from"./eye-B2OXPKvz.js";import{M as L}from"./map-pin-Bfp5l87-.js";import{M as F}from"./mouse-pointer-CBaX7r61.js";import{M as A}from"./monitor-ZDYpehXa.js";import{D as te}from"./download-BdaDgNV1.js";import{C as ae}from"./circle-check-big-BS3hXAhd.js";import{S as M}from"./settings-1im7aM1L.js";import{C as re}from"./chart-pie-BZ15eiJa.js";import{T as ie}from"./trending-down-BG9g-gf-.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ce=E("circle",ne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],B=E("tablet",le),oe=()=>{const[s,r]=m.useState({activeUsers:0,currentPageViews:0,recentActivities:[],deviceBreakdown:{},topPages:[],averageSessionTime:0,bounceRate:0}),[a,c]=m.useState(!1),[x,u]=m.useState(null),l=m.useRef(null),b=m.useRef(null);m.useEffect(()=>(N(),()=>{l.current&&l.current.close(),b.current&&clearTimeout(b.current)}),[]);const N=()=>{try{w(),c(!0)}catch(i){console.error("WebSocket connection failed:",i),c(!1),b.current=setTimeout(()=>{N()},5e3)}},w=()=>{const i=setInterval(()=>{const o={id:`activity-${Date.now()}`,type:["page_view","interaction","session_start"][Math.floor(Math.random()*3)],timestamp:new Date().toISOString(),userRole:["oncologist","pharmacist","nurse"][Math.floor(Math.random()*3)],deviceType:["desktop","mobile","tablet"][Math.floor(Math.random()*3)],location:["United States","Canada","United Kingdom"][Math.floor(Math.random()*3)],pageUrl:["/dashboard","/search","/interactions","/protocols"][Math.floor(Math.random()*4)],details:"User activity detected"};r(h=>({activeUsers:Math.max(1,h.activeUsers+(Math.random()>.7?Math.random()>.5?1:-1:0)),currentPageViews:h.currentPageViews+(o.type==="page_view"?1:0),recentActivities:[o,...h.recentActivities.slice(0,19)],deviceBreakdown:{desktop:(h.deviceBreakdown.desktop||0)+(o.deviceType==="desktop"?1:0),mobile:(h.deviceBreakdown.mobile||0)+(o.deviceType==="mobile"?1:0),tablet:(h.deviceBreakdown.tablet||0)+(o.deviceType==="tablet"?1:0)},topPages:[{url:"/dashboard",activeUsers:Math.floor(Math.random()*15)+5},{url:"/search",activeUsers:Math.floor(Math.random()*12)+3},{url:"/interactions",activeUsers:Math.floor(Math.random()*8)+2},{url:"/protocols",activeUsers:Math.floor(Math.random()*6)+1}],averageSessionTime:180+Math.floor(Math.random()*120),bounceRate:.2+Math.random()*.3})),u(new Date)},2e3+Math.random()*3e3);return setTimeout(()=>{clearInterval(i)},6e5),i},v=i=>{switch(i){case"page_view":return e.jsx(_,{className:"w-3 h-3"});case"interaction":return e.jsx(F,{className:"w-3 h-3"});case"session_start":return e.jsx(S,{className:"w-3 h-3"});case"session_end":return e.jsx(S,{className:"w-3 h-3"});default:return e.jsx(T,{className:"w-3 h-3"})}},g=i=>{switch(i){case"page_view":return"text-blue-600 bg-blue-100";case"interaction":return"text-green-600 bg-green-100";case"session_start":return"text-purple-600 bg-purple-100";case"session_end":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},p=i=>{switch(i){case"desktop":return e.jsx(A,{className:"w-4 h-4"});case"mobile":return e.jsx($,{className:"w-4 h-4"});case"tablet":return e.jsx(B,{className:"w-4 h-4"});default:return e.jsx(A,{className:"w-4 h-4"})}},f=i=>{const o=new Date,h=new Date(i),j=Math.floor((o.getTime()-h.getTime())/1e3);return j<60?`${j}s ago`:j<3600?`${Math.floor(j/60)}m ago`:`${Math.floor(j/3600)}h ago`};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:`flex items-center space-x-2 ${a?"text-green-600":"text-red-600"}`,children:[e.jsx(ce,{className:`w-2 h-2 ${a?"fill-green-600":"fill-red-600"}`}),e.jsx(se,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:a?"Live Tracking Active":"Connection Lost"})]}),x&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Last update: ",x.toLocaleTimeString()]})]}),e.jsxs("button",{onClick:N,className:"flex items-center space-x-1 px-3 py-1 text-sm text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[e.jsx(D,{className:"w-3 h-3"}),e.jsx("span",{children:"Refresh"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Users"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.activeUsers})]}),e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(S,{className:"w-5 h-5 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Page Views"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.currentPageViews})]}),e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(_,{className:"w-5 h-5 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Session"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[Math.floor(s.averageSessionTime/60),"m"]})]}),e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(U,{className:"w-5 h-5 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Bounce Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(s.bounceRate*100).toFixed(1),"%"]})]}),e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(V,{className:"w-5 h-5 text-orange-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Live Activity Feed"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:s.recentActivities.map(i=>e.jsxs("div",{className:"flex items-start space-x-3 p-2 hover:bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`p-1 rounded-full ${g(i.type)}`,children:v(i.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:i.type.replace("_"," ")}),e.jsx("span",{className:"text-xs text-gray-500",children:f(i.timestamp)})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[p(i.deviceType),e.jsx("span",{className:"text-xs text-gray-600 capitalize",children:i.userRole}),i.pageUrl&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-gray-400",children:"â€¢"}),e.jsx("span",{className:"text-xs text-gray-600",children:i.pageUrl})]}),i.location&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-gray-400",children:"â€¢"}),e.jsx(L,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:i.location})]})]})]})]},i.id))})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Live Device Breakdown"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:Object.entries(s.deviceBreakdown).map(([i,o])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[p(i),e.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:i})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:o}),e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(100,o/Math.max(1,Math.max(...Object.values(s.deviceBreakdown)))*100)}%`}})})]})]},i))})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Active Pages"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:s.topPages.map((i,o)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500 w-4",children:o+1}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:i.url})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[i.activeUsers," users"]}),e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${i.activeUsers/Math.max(1,s.topPages[0]?.activeUsers||1)*100}%`}})})]})]},i.url))})})]})]})]})]})},O={startPatientAssessment:s=>{n.trackCustomEvent("patient_assessment_started",{patientType:s,timestamp:new Date().toISOString()})},completePatientAssessment:(s,r,a)=>{n.trackCustomEvent("patient_assessment_completed",{patientType:s,duration:r,stepsCompleted:a,timestamp:new Date().toISOString()})},drugInteractionCheck:(s,r,a)=>{n.trackCustomEvent("drug_interaction_check",{drugCount:s,interactionsFound:r,severityLevels:a,timestamp:new Date().toISOString()})},protocolAccessed:(s,r,a)=>{n.trackCustomEvent("protocol_accessed",{protocolType:s,organization:r,section:a,timestamp:new Date().toISOString()})},treatmentPlanCreated:(s,r,a)=>{n.trackCustomEvent("treatment_plan_created",{cancerType:s,treatmentType:r,planningTime:a,timestamp:new Date().toISOString()})},labResultsReviewed:(s,r,a)=>{n.trackCustomEvent("lab_results_reviewed",{testCount:s,criticalResults:r,alertsTriggered:a,timestamp:new Date().toISOString()})},cdsAlertTriggered:(s,r,a)=>{n.trackCustomEvent("cds_alert_triggered",{alertType:s,severity:r,userAction:a,timestamp:new Date().toISOString()})}},R={searchPerformed:(s,r,a,c)=>{n.trackSearch(r,a),n.trackCustomEvent("feature_search",{searchType:s,resultCount:a,timeToResult:c,queryLength:r.length,timestamp:new Date().toISOString()})},reportGenerated:(s,r,a,c)=>{n.trackCustomEvent("report_generated",{reportType:s,dataPoints:r,generationTime:a,format:c,timestamp:new Date().toISOString()})},exportPerformed:(s,r,a)=>{n.trackDownload(`export_${s}.${r}`,r),n.trackCustomEvent("data_export",{dataType:s,format:r,recordCount:a,timestamp:new Date().toISOString()})},complianceCheckPerformed:(s,r,a)=>{n.trackCustomEvent("compliance_check",{framework:s,requirementsChecked:r,violations:a,timestamp:new Date().toISOString()})}},de={applicationError:(s,r,a,c="medium")=>{n.trackCustomEvent("application_error",{errorType:s,errorMessage:r.substring(0,200),stackTrace:a?a.substring(0,500):void 0,severity:c,timestamp:new Date().toISOString()})},validationError:(s,r,a)=>{n.trackCustomEvent("validation_error",{formName:s,fieldName:r,errorMessage:a,timestamp:new Date().toISOString()})},networkError:(s,r,a)=>{n.trackCustomEvent("network_error",{endpoint:s,errorCode:r,errorMessage:a,timestamp:new Date().toISOString()})}},me={timeOnFeature:(s,r,a)=>{n.trackCustomEvent("feature_engagement",{featureName:s,timeSpent:r,actionsPerformed:a,timestamp:new Date().toISOString()})},helpDocumentAccessed:(s,r,a)=>{n.trackCustomEvent("help_accessed",{documentName:s,section:r,timeSpent:a,timestamp:new Date().toISOString()})},userFeedbackSubmitted:(s,r,a)=>{n.trackCustomEvent("feedback_submitted",{feedbackType:s,rating:r,category:a,timestamp:new Date().toISOString()})}},xe=s=>{const r=k.useRef(Date.now()),a=k.useRef(0);k.useEffect(()=>(n.trackCustomEvent("feature_accessed",{featureName:s,timestamp:new Date().toISOString()}),()=>{const u=Date.now()-r.current;me.timeOnFeature(s,u,a.current)}),[s]);const c=k.useCallback((u,l)=>{a.current++,n.trackCustomEvent(`${s}_${u}`,{...l,timestamp:new Date().toISOString()})},[s]),x=k.useCallback((u,l,b)=>{const N=Date.now()-l;c(`${u}_timing`,{...b,duration:N,timestamp:new Date().toISOString()})},[c]);return{trackAction:c,trackTiming:x,startTimer:()=>Date.now()}},ge=()=>{const[s,r]=m.useState(""),[a,c]=m.useState([]),{trackAction:x,trackTiming:u,startTimer:l}=xe("drug_search_example"),b=async()=>{const g=l();try{x("search_initiated",{queryLength:s.length,hasFilters:!1}),await new Promise(f=>setTimeout(f,500));const p=[{id:1,name:"Acetaminophen",category:"Analgesic"},{id:2,name:"Ibuprofen",category:"NSAID"},{id:3,name:"Aspirin",category:"Antiplatelet"}];c(p),u("search_completed",g,{resultCount:p.length,query:s.substring(0,20)}),R.searchPerformed("drug_search",s,p.length,Date.now()-g)}catch(p){de.applicationError("search_error",p instanceof Error?p.message:"Unknown search error",void 0,"medium")}},N=()=>{O.drugInteractionCheck(2,1,["moderate"]),x("interaction_check",{drugCount:2,interactionsFound:1})},w=()=>{const g=l();setTimeout(()=>{R.reportGenerated("interaction_report",a.length,Date.now()-g,"pdf"),x("report_generated",{reportType:"interaction_summary",dataPoints:a.length})},1e3)},v=()=>{O.protocolAccessed("NCCN_breast_cancer","NCCN","treatment_recommendations"),x("protocol_accessed",{protocol:"NCCN_breast_cancer",section:"treatment_recommendations"})};return e.jsx("div",{className:"max-w-4xl mx-auto p-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Visitor Tracking Implementation Example"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Drug Search with Tracking"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("input",{type:"text",value:s,onChange:g=>r(g.target.value),placeholder:"Search for medications...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsx("span",{children:"Search"})]})]}),a.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Search Results (",a.length,"):"]}),e.jsx("div",{className:"space-y-2",children:a.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium",children:g.name}),e.jsx("span",{className:"text-sm text-gray-600",children:g.category})]},g.id))})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Clinical Workflow Tracking"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:N,className:"flex flex-col items-center space-y-2 p-4 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors",children:[e.jsx(X,{className:"w-6 h-6 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Check Drug Interactions"}),e.jsx("span",{className:"text-xs text-orange-700",children:"Tracks interaction analysis"})]}),e.jsxs("button",{onClick:w,className:"flex flex-col items-center space-y-2 p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(te,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Generate Report"}),e.jsx("span",{className:"text-xs text-green-700",children:"Tracks report creation"})]}),e.jsxs("button",{onClick:v,className:"flex flex-col items-center space-y-2 p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(ae,{className:"w-6 h-6 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Access Protocol"}),e.jsx("span",{className:"text-xs text-purple-700",children:"Tracks protocol usage"})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Implementation Example"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("pre",{className:"text-sm text-gray-800 overflow-x-auto",children:`// Import tracking utilities
import { useTracking, trackClinicalWorkflow } from '../utils/trackingHelpers';

// Use in your component
const { trackAction, trackTiming, startTimer } = useTracking('your_feature_name');

// Track user actions
trackAction('button_clicked', { buttonType: 'search' });

// Track clinical workflows
trackClinicalWorkflow.drugInteractionCheck(drugCount, interactionsFound, severityLevels);

// Track performance with timing
const timer = startTimer();
// ... perform action ...
trackTiming('action_completed', timer, { additionalData: 'value' });`})})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Current Tracking Status"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Page Views"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Automatically tracked on route changes"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"User Interactions"}),e.jsx("p",{className:"text-xs text-green-700",children:"Clicks, scrolls, and form submissions"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Session Data"}),e.jsx("p",{className:"text-xs text-purple-700",children:"Device info, duration, and engagement"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-medium text-orange-900",children:"Privacy Protected"}),e.jsx("p",{className:"text-xs text-orange-700",children:"HIPAA compliant, no PHI collected"})]})]})]})]})]})})},Ce=()=>{const[s,r]=m.useState(null),[a,c]=m.useState(!0),[x,u]=m.useState("7d"),[l,b]=m.useState(null),[N,w]=m.useState(!1),[v,g]=m.useState("overview"),p=[{label:"Last 24 Hours",value:"1d",days:1},{label:"Last 7 Days",value:"7d",days:7},{label:"Last 30 Days",value:"30d",days:30},{label:"Last 90 Days",value:"90d",days:90}];m.useEffect(()=>{f(),b(n.getCurrentSession())},[x]);const f=async()=>{c(!0);try{console.log("ðŸ“Š Loading visitor analytics for period:",x);const t=await n.getAnalytics(x);console.log("ðŸ“Š Real analytics data received:",t),r(t),c(!1);return}catch(t){console.error("Failed to load analytics:",t)}finally{c(!1)}},i=t=>{const d=Math.floor(t/60),y=t%60;return`${d}m ${y}s`},o=t=>t==null?"0":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString(),h=(t,d=!0)=>{const y=d?"text-green-600":"text-red-600",C=d?V:ie;return e.jsxs("div",{className:`flex items-center space-x-1 ${y}`,children:[e.jsx(C,{className:"w-3 h-3"}),e.jsxs("span",{className:"text-xs",children:[Math.abs(t),"%"]})]})},j=(t,d,y,C)=>{const Q=C;return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:t}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d}),y!==void 0&&e.jsx("div",{className:"mt-1",children:h(y,y>0)})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Q,{className:"w-6 h-6 text-blue-600"})})]})})},W=()=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Pages"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:s?.topPages.map((t,d)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500 w-6",children:d+1}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.path||t.url}),e.jsxs("p",{className:"text-xs text-gray-500",children:[o(t.views)," views"]})]})]}),e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${t.views/(s?.topPages[0]?.views||1)*100}%`}})})]},t.path||t.url||d))})})]}),G=()=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Roles"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:s?.userRoles.map(t=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ee,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:t.role})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t.count}),e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${t.count/(s?.totalVisitors||1)*100}%`}})})]})]},t.role))})})]}),z=()=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Device Types"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:s?.deviceTypes.map(t=>{const d=t.type==="desktop"?A:t.type==="mobile"?$:B;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(d,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:t.type})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t.count}),e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${t.count/(s?.totalVisitors||1)*100}%`}})})]})]},t.type)})})})]}),H=()=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Geographic Distribution"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:(s?.geographicDistribution||[]).map((t,d)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(L,{className:"w-4 h-4 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.location})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t.count}),e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-600 h-2 rounded-full",style:{width:`${t.count/(s?.geographicDistribution[0]?.count||1)*100}%`}})})]})]},t.location))})})]}),q=()=>l?e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Current Session"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Session ID"}),e.jsxs("p",{className:"text-sm font-mono text-gray-900",children:[l.sessionId.slice(0,8),"..."]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Device"}),e.jsx("p",{className:"text-sm text-gray-900 capitalize",children:l.deviceType})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Browser"}),e.jsx("p",{className:"text-sm text-gray-900",children:l.browser})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Page Views"}),e.jsx("p",{className:"text-sm text-gray-900",children:l.pageViews.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Start Time"}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(l.startTime).toLocaleTimeString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"User Role"}),e.jsx("p",{className:"text-sm text-gray-900 capitalize",children:l.userRole||"Anonymous"})]})]})})]}):null,K=()=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Privacy Settings"}),e.jsx(P,{className:"w-5 h-5 text-green-600"})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Z,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"HIPAA Compliant Tracking"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Our analytics system is designed to be HIPAA compliant. We do not track or store any patient health information (PHI) or personally identifiable information (PII)."})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Anonymous Analytics"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Track usage patterns without personal data"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs text-green-600",children:"Enabled"}),e.jsx("div",{className:"w-8 h-4 bg-green-500 rounded-full"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Performance Monitoring"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Monitor application performance and errors"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs text-green-600",children:"Enabled"}),e.jsx("div",{className:"w-8 h-4 bg-green-500 rounded-full"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Location Tracking"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Approximate geographic location (country/region only)"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-800",children:n.isOptedOut()?"Opt In":"Opt Out"})})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>{n.isOptedOut()?n.optIn():n.optOut(),window.location.reload()},className:`px-4 py-2 rounded-lg text-sm font-medium ${n.isOptedOut()?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,children:n.isOptedOut()?"Enable Analytics":"Disable All Analytics"})})]})})]});return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"w-6 h-6 animate-spin text-blue-600"}),e.jsx("span",{className:"text-gray-600",children:"Loading analytics data..."})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(I,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Visitor Analytics"}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive visitor tracking and usage analytics"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("select",{value:x,onChange:t=>u(t.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:p.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))}),e.jsxs("button",{onClick:()=>w(!N),className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:"Privacy"})]}),e.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh"})]})]})]})}),n.isOptedOut()&&e.jsx("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Y,{className:"w-5 h-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Analytics Disabled"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Visitor tracking is currently disabled. Enable it to see analytics data."})]})]})}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Analytics Overview",icon:I},{id:"realtime",label:"Real-Time Tracking",icon:T},{id:"implementation",label:"Implementation Guide",icon:M},{id:"privacy",label:"Privacy & Settings",icon:P}].map(t=>{const d=t.icon;return e.jsxs("button",{onClick:()=>g(t.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${v===t.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(d,{className:"w-4 h-4"}),e.jsx("span",{children:t.label})]},t.id)})})}),v==="overview"&&s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[j("Total Visitors",o(s.totalVisitors),12.5,S),j("Unique Visitors",o(s.uniqueVisitors),8.3,_),j("Page Views",o(s.pageViews),15.7,F),j("Avg. Session",i(s.averageSessionDuration),-2.1,U)]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Bounce Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(s.bounceRate*100).toFixed(1),"%"]}),h(-5.2,!1)]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(T,{className:"w-6 h-6 text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pages per Session"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(s.pageViews/s.totalVisitors).toFixed(1)}),h(7.8,!0)]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(re,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Return Visitors"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[((s.totalVisitors-s.uniqueVisitors)/s.totalVisitors*100).toFixed(1),"%"]}),h(3.4,!0)]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(S,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[W(),G()]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[z(),H()]}),l&&q()]}),v==="realtime"&&e.jsx(oe,{}),v==="implementation"&&e.jsx(ge,{}),v==="privacy"&&K()]})};export{Ce as default};
//# sourceMappingURL=VisitorAnalyticsDashboard-UiqhSC2E.js.map
