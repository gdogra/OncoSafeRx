const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/errorReporting-BBPDZWPi.js","assets/index-8LC8IQKY.js","assets/index-Bg--k4xn.css","assets/triangle-alert-BOEc2-VO.js","assets/createLucideIcon-DlukwGQd.js","assets/refresh-cw-COcu3qHG.js","assets/house-svls-J_z.js"])))=>i.map(i=>d[i]);
import{R as i,_ as d,j as e}from"./index-8LC8IQKY.js";import{T as l}from"./triangle-alert-BOEc2-VO.js";import{c}from"./createLucideIcon-DlukwGQd.js";import{R as h}from"./refresh-cw-COcu3qHG.js";import{H as m}from"./house-svls-J_z.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],u=c("bug",p),f=()=>{if(typeof window>"u")return"development";const t=window.location.hostname;return t.includes("localhost")||t.includes("127.0.0.1")?"development":t.includes("staging")||t.includes("dev")?"staging":"production"},n=f(),a="/api",x=()=>typeof window<"u"&&window.location?.hostname!=="localhost"?(console.log("ðŸš¨ Config: FORCING Netlify proxy for production API calls"),"/api"):a?.trim()?a.trim():n==="development"?"http://localhost:3000/api":"/api";x();const g={environment:n,version:"1.0.0"};class j extends i.Component{constructor(r){super(r),this.maxRetries=3,this.handleRetry=()=>{this.state.retryCount<this.maxRetries&&(this.setState(s=>({hasError:!1,error:void 0,retryCount:s.retryCount+1})),this.props.onRetry&&this.props.onRetry())},this.state={hasError:!1,retryCount:0}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){d(async()=>{const{errorReporter:o}=await import("./errorReporting-BBPDZWPi.js");return{errorReporter:o}},__vite__mapDeps([0,1,2,3,4,5,6])).then(({errorReporter:o})=>{o.reportError(r,{feature:this.props.featureName,component:s.componentStack?.split(`
`)[1]?.trim(),action:"Feature Component Error",severity:"medium",tags:["react","feature",this.props.featureName.toLowerCase()],retryCount:this.state.retryCount})})}render(){return this.state.hasError?e.jsx("div",{className:"bg-white border border-red-200 rounded-lg p-6 m-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(l,{className:"h-6 w-6 text-red-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:[this.props.featureName," Error"]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:this.props.fallbackMessage||`Something went wrong with the ${this.props.featureName} feature. This doesn't affect other parts of the application.`}),g.environment==="development"&&this.state.error&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-3 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(u,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm font-medium text-red-700",children:"Debug Info"})]}),e.jsx("p",{className:"text-xs text-red-700 font-mono break-all",children:this.state.error.message}),e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Retry count: ",this.state.retryCount,"/",this.maxRetries]})]}),e.jsxs("div",{className:"flex space-x-3",children:[this.props.showRetry!==!1&&this.state.retryCount<this.maxRetries&&e.jsxs("button",{onClick:this.handleRetry,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[e.jsx(h,{className:"h-4 w-4 mr-1"}),"Try Again"]}),e.jsxs("button",{onClick:()=>window.location.href="/",className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[e.jsx(m,{className:"h-4 w-4 mr-1"}),"Go to Dashboard"]})]}),this.state.retryCount>=this.maxRetries&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded",children:e.jsx("p",{className:"text-sm text-yellow-800",children:"This feature appears to be having persistent issues. Please try refreshing the page or contact support if the problem continues."})})]})]})}):this.props.children}}export{j as F,g as c};
