import{r as c,j as e}from"./index-8LC8IQKY.js";import{c as R}from"./App-oj_FpO4B.js";import{C as S}from"./Card-D3HCI77k.js";import{T as k}from"./Tooltip-CCp_Mki3.js";import{U as D}from"./users-CyD4O_24.js";import{R as $}from"./refresh-cw-COcu3qHG.js";import{C as G}from"./chevron-up-HRNYCB1D.js";import{C as V}from"./chevron-down-jYw-9Eg6.js";import{C as O}from"./circle-check-big-CYsdojUB.js";import{T as z}from"./triangle-alert-BOEc2-VO.js";import{C as H}from"./clock-cnhIl4So.js";import{U as y}from"./user-Dpecevp5.js";import{S as q}from"./star-BHZprFQJ.js";import{B as _}from"./book-open-Bz3m9MPO.js";import{c as U}from"./createLucideIcon-DlukwGQd.js";import{S as W}from"./settings-BOlIvdsj.js";import{E as w}from"./eye-DBjH61aH.js";import{S as N}from"./save-CZVRNu7b.js";import{M as J}from"./mail-CBMmcK37.js";import{S as Y}from"./stethoscope-t2AjCGlG.js";import{B as K}from"./building-D239CqS1.js";import{A as Q}from"./award-Dw27Xyxt.js";import{C as X}from"./calendar-B3krNJ8E.js";import{B as Z}from"./bell-8nCoQylQ.js";import{M as ee}from"./monitor-DSWzcTCy.js";import{E as T}from"./eye-off-wZTBMD5g.js";import"./info-BEmptaGI.js";import"./circle-alert-DFeyOpEy.js";import"./circle-question-mark-UIDQGT3E.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],re=U("camera",se);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],ae=U("palette",te),ie=()=>{const{state:P,actions:x}=R(),{user:a}=P,[d,b]=c.useState(!1),[i,u]=c.useState(a?.persona||null);if(!a)return null;const n=(r=>({oncologist:[{id:"oncologist-novice",name:"New Attending Oncologist",description:"Recently completed fellowship, cautious approach to complex cases",role:"oncologist",experienceLevel:"novice",specialties:["general oncology"],preferences:{riskTolerance:"conservative",alertSensitivity:"high",workflowStyle:"thorough",decisionSupport:"guided"},customSettings:{requiredApprovals:!0,detailedExplanations:!0,stepByStepGuidance:!0}},{id:"oncologist-experienced",name:"Experienced Medical Oncologist",description:"Senior physician with 8+ years, balanced approach to patient care",role:"oncologist",experienceLevel:"intermediate",specialties:["breast cancer","lung cancer","precision medicine"],preferences:{riskTolerance:"moderate",alertSensitivity:"medium",workflowStyle:"efficient",decisionSupport:"consultative"},customSettings:{quickActions:!0,summaryView:!0,advancedFeatures:!0}},{id:"oncologist-expert",name:"Department Chief",description:"Leading expert with 15+ years, comfortable with complex decisions",role:"oncologist",experienceLevel:"expert",specialties:["precision medicine","clinical trials","rare cancers"],preferences:{riskTolerance:"aggressive",alertSensitivity:"low",workflowStyle:"collaborative",decisionSupport:"autonomous"},customSettings:{expertMode:!0,minimalAlerts:!0,researchFeatures:!0}}],pharmacist:[{id:"pharmacist-clinical",name:"Clinical Pharmacist",description:"Hospital-based pharmacist focused on medication safety",role:"pharmacist",experienceLevel:"intermediate",specialties:["oncology pharmacy","drug interactions"],preferences:{riskTolerance:"conservative",alertSensitivity:"high",workflowStyle:"thorough",decisionSupport:"guided"},customSettings:{detailedDrugInfo:!0,interactionAlerts:!0,dosingCalculators:!0}},{id:"pharmacist-expert",name:"Pharmacy Director",description:"Senior pharmacist with advanced clinical experience",role:"pharmacist",experienceLevel:"expert",specialties:["oncology pharmacy","drug safety","formulary management"],preferences:{riskTolerance:"moderate",alertSensitivity:"medium",workflowStyle:"efficient",decisionSupport:"consultative"},customSettings:{advancedAnalytics:!0,protocolReview:!0,costAnalysis:!0}}],nurse:[{id:"nurse-new",name:"New Graduate Nurse",description:"Recently graduated, learning oncology protocols",role:"nurse",experienceLevel:"novice",specialties:["patient care","medication administration"],preferences:{riskTolerance:"conservative",alertSensitivity:"high",workflowStyle:"thorough",decisionSupport:"guided"},customSettings:{stepByStepProtocols:!0,safetyChecks:!0,supervisorAlerts:!0}},{id:"nurse-experienced",name:"Senior Oncology Nurse",description:"Experienced nurse with strong clinical skills",role:"nurse",experienceLevel:"intermediate",specialties:["chemotherapy administration","patient education"],preferences:{riskTolerance:"moderate",alertSensitivity:"medium",workflowStyle:"efficient",decisionSupport:"consultative"},customSettings:{patientEducation:!0,rapidResponse:!0,teamCoordination:!0}}],researcher:[{id:"researcher-data",name:"Data Scientist",description:"Focuses on data analysis and research insights",role:"researcher",experienceLevel:"expert",specialties:["data analysis","genomics research"],preferences:{riskTolerance:"moderate",alertSensitivity:"low",workflowStyle:"collaborative",decisionSupport:"autonomous"},customSettings:{advancedAnalytics:!0,dataExport:!0,researchTools:!0}},{id:"researcher-clinical",name:"Principal Investigator",description:"Leading clinical trials and research studies",role:"researcher",experienceLevel:"expert",specialties:["clinical trials","protocol development"],preferences:{riskTolerance:"aggressive",alertSensitivity:"low",workflowStyle:"collaborative",decisionSupport:"autonomous"},customSettings:{trialManagement:!0,protocolDesign:!0,regulatoryTools:!0}}],student:[{id:"student-medical",name:"Medical Student",description:"Learning clinical oncology fundamentals",role:"student",experienceLevel:"novice",specialties:["general medicine"],preferences:{riskTolerance:"conservative",alertSensitivity:"high",workflowStyle:"thorough",decisionSupport:"guided"},customSettings:{educationalContent:!0,explanations:!0,practiceMode:!0}},{id:"student-pharmacy",name:"Pharmacy Student",description:"Learning medication therapy management",role:"student",experienceLevel:"novice",specialties:["pharmacology"],preferences:{riskTolerance:"conservative",alertSensitivity:"high",workflowStyle:"thorough",decisionSupport:"guided"},customSettings:{drugInformation:!0,calculators:!0,learningMode:!0}}]})[r]||[])(a.role),o=a.persona||n[0]||{id:"default",name:"Default Oncologist",description:"Standard oncology practice",experienceLevel:"intermediate",specialties:["Medical Oncology"],preferences:{riskTolerance:"moderate"}},p=r=>{x.switchPersona(r),u(r),b(!1)},v=r=>{switch(r){case"novice":return e.jsx(_,{className:"w-4 h-4"});case"intermediate":return e.jsx(y,{className:"w-4 h-4"});case"expert":return e.jsx(q,{className:"w-4 h-4"});default:return e.jsx(y,{className:"w-4 h-4"})}},f=r=>{switch(r){case"novice":return"text-blue-600 bg-blue-50";case"intermediate":return"text-green-600 bg-green-50";case"expert":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},g=r=>{switch(r){case"conservative":return"text-green-700 bg-green-100";case"moderate":return"text-yellow-700 bg-yellow-100";case"aggressive":return"text-red-700 bg-red-100";default:return"text-gray-700 bg-gray-100"}};return e.jsx(S,{className:"mb-6",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Testing Persona"}),e.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:[e.jsx($,{className:"w-3 h-3"}),e.jsx("span",{children:"Test Mode"})]})]}),e.jsxs("button",{onClick:()=>b(!d),className:"flex items-center space-x-2 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:[e.jsx("span",{children:"Switch Persona"}),d?e.jsx(G,{className:"w-4 h-4"}):e.jsx(V,{className:"w-4 h-4"})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(k,{content:`Experience Level: ${o?.experienceLevel||"intermediate"} - affects UI complexity and available features`,type:"clinical",children:e.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${f(o?.experienceLevel||"intermediate")} cursor-help`,children:[v(o?.experienceLevel||"intermediate"),e.jsx("span",{className:"capitalize",children:o?.experienceLevel||"intermediate"})]})}),e.jsx(k,{content:`Risk Tolerance: ${o?.preferences?.riskTolerance||"moderate"} - influences alert sensitivity and decision support`,type:"warning",children:e.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(o?.preferences?.riskTolerance||"moderate")} cursor-help`,children:[o?.preferences?.riskTolerance||"moderate"," risk"]})})]}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:o?.name||"Default User"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:o?.description||"Standard practice profile"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(o.specialties||[]).map((r,m)=>e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs rounded-md",children:r},m))})]}),e.jsx("div",{className:"ml-4",children:e.jsx(O,{className:"w-6 h-6 text-green-600"})})]})}),d&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:"Switching personas will change how the system behaves and what features are available"})]}),n.map(r=>e.jsx("div",{onClick:()=>p(r),className:`p-4 border rounded-lg cursor-pointer transition-all ${r.id===o?.id?"border-primary-300 bg-primary-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${f(r.experienceLevel)}`,children:[v(r.experienceLevel),e.jsx("span",{className:"capitalize",children:r.experienceLevel})]}),e.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(r.preferences.riskTolerance)}`,children:[r.preferences.riskTolerance," risk"]}),e.jsxs("div",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:[r.preferences.workflowStyle," workflow"]})]}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:r.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:r.description}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.specialties.map((m,j)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-md",children:m},j))})]}),e.jsx("div",{className:"ml-4",children:r.id===o?.id?e.jsx(O,{className:"w-6 h-6 text-green-600"}):e.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full"})})]})},r.id))]}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Testing Mode Active"}),e.jsx("p",{children:"Different personas provide different UI experiences, alert sensitivities, and available features. Switch between personas to test various user workflows and system behaviors."})]})]})})]})})},oe=()=>{const{state:P,actions:x}=R(),{user:a}=P,[d,b]=c.useState("profile"),[i,u]=c.useState(!1),[l,n]=c.useState(a||{}),[o,p]=c.useState(a?.preferences||{}),[v,f]=c.useState(""),[g,r]=c.useState(""),[m,j]=c.useState(""),[h,C]=c.useState({current:!1,new:!1,confirm:!1});if(!a)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("p",{className:"text-gray-500",children:"Please log in to view your profile."})});const L=async()=>{console.log("ðŸ‘¤ === PROFILE SAVE DEBUG START ==="),console.log("ðŸ‘¤ Profile save button clicked!"),console.log("ðŸ‘¤ Current user from state:",a),console.log("ðŸ‘¤ Current editedUser:",l),console.log("ðŸ‘¤ Actions available:",!!x),console.log("ðŸ‘¤ updateProfile function type:",typeof x?.updateProfile);try{console.log("ðŸ‘¤ Calling actions.updateProfile with editedUser..."),console.log("ðŸ‘¤ editedUser details:",JSON.stringify(l,null,2));const s=await x.updateProfile(l);console.log("ðŸ‘¤ âœ… Profile update successful, result:",s),u(!1),console.log("ðŸ‘¤ âœ… Editing mode disabled"),window.showToast?(window.showToast("success","Profile updated successfully"),console.log("ðŸ‘¤ âœ… Success toast shown")):(alert("Profile updated successfully!"),console.log("ðŸ‘¤ âœ… Success alert shown")),console.log("ðŸ‘¤ === PROFILE SAVE DEBUG END (SUCCESS) ===")}catch(s){console.log("ðŸ‘¤ âŒ Profile update error caught:",s),console.log("ðŸ‘¤ Error name:",s?.name),console.log("ðŸ‘¤ Error message:",s?.message),console.log("ðŸ‘¤ Error stack:",s?.stack),window.showToast?(window.showToast("warning","Profile saved locally (server error)"),console.log("ðŸ‘¤ âš ï¸ Warning toast shown")):(alert("Profile saved locally due to server issues"),console.log("ðŸ‘¤ âš ï¸ Warning alert shown")),u(!1),console.log("ðŸ‘¤ âš ï¸ Editing mode disabled after error"),console.log("ðŸ‘¤ === PROFILE SAVE DEBUG END (ERROR) ===")}},M=async()=>{console.log("ðŸŽ¨ Preferences save button clicked!"),console.log("ðŸ” Current editedPreferences:",o);try{console.log("ðŸš€ Calling actions.updateProfile with preferences..."),await x.updateProfile({preferences:o}),console.log("âœ… Preferences update successful"),window.showToast?window.showToast("success","Preferences updated successfully"):alert("Preferences updated successfully!")}catch(s){console.error("âŒ Failed to update preferences:",s),window.showToast?window.showToast("warning","Preferences saved locally (server error)"):alert("Preferences saved locally due to server issues")}},I=async()=>{if(g!==m){alert("New passwords do not match");return}if(g.length<8){alert("Password must be at least 8 characters long");return}try{console.log("Password change requested"),f(""),r(""),j(""),alert("Password updated successfully")}catch(s){console.error("Failed to change password:",s)}},B=["Medical Oncology","Surgical Oncology","Radiation Oncology","Hematology-Oncology","Gynecologic Oncology","Pediatric Oncology","Thoracic Oncology","Neuro-Oncology","Breast Oncology","Gastrointestinal Oncology","Genitourinary Oncology","Head and Neck Oncology"],F=[{id:"profile",label:"Profile Information",icon:y},{id:"preferences",label:"Preferences",icon:W},{id:"persona",label:"Testing Persona",icon:D},{id:"security",label:"Security",icon:w}];return e.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Profile"}),e.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("a",{href:"/auth-diagnostics",className:"hidden sm:inline-flex items-center px-3 py-2 text-sm bg-gray-100 border border-gray-300 rounded hover:bg-gray-200",title:"Open Auth Diagnostics",children:"Auth Diagnostics"}),e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-lg font-semibold text-primary-700",children:[a.firstName.charAt(0),a.lastName.charAt(0)]})}),e.jsx(k,{content:"Upload profile picture (feature coming soon)",position:"left",children:e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 cursor-not-allowed",children:e.jsx(re,{className:"w-5 h-5"})})})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:F.map(({id:s,label:t,icon:E})=>e.jsxs("button",{onClick:()=>b(s),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${d===s?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{children:t})]},s))})}),d==="profile"&&e.jsxs(S,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Profile Information"}),e.jsx(k,{content:i?"Save your profile changes":"Edit your profile information",position:"bottom",children:e.jsx("button",{onClick:()=>i?L():u(!0),className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:i?e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{children:"Save Changes"})]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{children:"Edit Profile"})]})})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:i?l.firstName||"":a.firstName,onChange:s=>n(t=>({...t,firstName:s.target.value})),disabled:!i,className:"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-50"}),e.jsx(y,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:i?l.lastName||"":a.lastName,onChange:s=>n(t=>({...t,lastName:s.target.value})),disabled:!i,className:"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",value:i?l.email||"":a.email,onChange:s=>n(t=>({...t,email:s.target.value})),disabled:!i,className:"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-50"}),e.jsx(J,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Professional Role"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:i?l.role||"":a.role,onChange:s=>n(t=>({...t,role:s.target.value})),disabled:!i,className:"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-50",children:[e.jsx("option",{value:"oncologist",children:"Oncologist"}),e.jsx("option",{value:"pharmacist",children:"Pharmacist"}),e.jsx("option",{value:"nurse",children:"Nurse"}),e.jsx("option",{value:"researcher",children:"Researcher"}),e.jsx("option",{value:"student",children:"Student"})]}),e.jsx(Y,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"})]})]}),(a.role==="oncologist"||i&&l.role==="oncologist")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialty"}),e.jsxs("select",{value:i?l.specialty||"":a.specialty||"",onChange:s=>n(t=>({...t,specialty:s.target.value})),disabled:!i,className:"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-50",children:[e.jsx("option",{value:"",children:"Select specialty..."}),B.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Institution"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:i?l.institution||"":a.institution||"",onChange:s=>n(t=>({...t,institution:s.target.value})),disabled:!i,className:"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-50"}),e.jsx(K,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"})]})]}),(a.role==="oncologist"||a.role==="pharmacist"||i&&(l.role==="oncologist"||l.role==="pharmacist"))&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Number"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:i?l.licenseNumber||"":a.licenseNumber||"",onChange:s=>n(t=>({...t,licenseNumber:s.target.value})),disabled:!i,className:"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-50"}),e.jsx(Q,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:"0",max:"50",value:i?l.yearsExperience||"":a.yearsExperience||"",onChange:s=>n(t=>({...t,yearsExperience:parseInt(s.target.value)||void 0})),disabled:!i,className:"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-50"}),e.jsx(X,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"})]})]})]}),i&&e.jsxs("div",{className:"mt-6 flex space-x-3",children:[e.jsxs("button",{onClick:L,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{children:"Save Changes"})]}),e.jsx("button",{onClick:()=>{u(!1),n(a)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancel"})]})]}),d==="preferences"&&e.jsx(S,{className:"p-6",children:e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Preferences"}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-md font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Theme"]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["light","dark","auto"].map(s=>e.jsx("button",{onClick:()=>p(t=>({...t,theme:s})),className:`p-3 border rounded-lg text-sm font-medium capitalize ${o.theme===s?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:bg-gray-50"}`,children:s},s))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-md font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Notifications"]}),e.jsx("div",{className:"space-y-3",children:[{key:"email",label:"Email notifications"},{key:"push",label:"Push notifications"},{key:"criticalAlerts",label:"Critical alerts"},{key:"weeklyReports",label:"Weekly reports"}].map(({key:s,label:t})=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:t}),e.jsx("input",{type:"checkbox",checked:o.notifications?.[s]||!1,onChange:E=>p(A=>({...A,notifications:{...A.notifications,[s]:E.target.checked}})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]},s))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-md font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default View"}),e.jsxs("select",{value:o.dashboard?.defaultView||"overview",onChange:s=>p(t=>({...t,dashboard:{...t.dashboard,defaultView:s.target.value}})),className:"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"overview",children:"Overview"}),e.jsx("option",{value:"patients",children:"Patients"}),e.jsx("option",{value:"interactions",children:"Interactions"}),e.jsx("option",{value:"genomics",children:"Genomics"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Compact mode"}),e.jsx("input",{type:"checkbox",checked:o.dashboard?.compactMode||!1,onChange:s=>p(t=>({...t,dashboard:{...t.dashboard,compactMode:s.target.checked}})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]})]}),e.jsxs("button",{onClick:M,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{children:"Save Preferences"})]})]})})}),d==="persona"&&e.jsx("div",{children:e.jsx(ie,{})}),d==="security"&&e.jsxs(S,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Security Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium text-gray-900 mb-4",children:"Change Password"}),e.jsxs("div",{className:"max-w-md space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:h.current?"text":"password",value:v,onChange:s=>f(s.target.value),className:"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500"}),e.jsx("button",{type:"button",onClick:()=>C(s=>({...s,current:!s.current})),className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400 hover:text-gray-600",children:h.current?e.jsx(T,{}):e.jsx(w,{})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:h.new?"text":"password",value:g,onChange:s=>r(s.target.value),className:"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500"}),e.jsx("button",{type:"button",onClick:()=>C(s=>({...s,new:!s.new})),className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400 hover:text-gray-600",children:h.new?e.jsx(T,{}):e.jsx(w,{})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:h.confirm?"text":"password",value:m,onChange:s=>j(s.target.value),className:"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500"}),e.jsx("button",{type:"button",onClick:()=>C(s=>({...s,confirm:!s.confirm})),className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400 hover:text-gray-600",children:h.confirm?e.jsx(T,{}):e.jsx(w,{})})]})]}),e.jsxs("button",{onClick:I,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{children:"Update Password"})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-md font-medium text-gray-900 mb-4",children:"Account Information"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Account Created:"}),e.jsx("div",{className:"text-gray-600",children:new Date(a.createdAt).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Last Login:"}),e.jsx("div",{className:"text-gray-600",children:new Date(a.lastLogin).toLocaleDateString()})]})]})})]})]})]})]})},Me=()=>e.jsx(oe,{});export{Me as default};
