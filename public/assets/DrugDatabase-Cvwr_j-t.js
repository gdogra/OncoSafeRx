import{c as U,r as u,j as e,X as F,S as M,h as O,P as X,E as P,V as Z,A as _,a as z,b as V,U as q,Z as Q,H as ee,l as se,i as te,I as ae,T as B,k as $,d as G,W as H}from"./index-Bhw970Mt.js";import{F as Y}from"./funnel-BH8iwznT.js";import{H as J}from"./history-0FG2O_UK.js";import{S as L}from"./star-CZ330yHD.js";import{B as ie}from"./bookmark-BhUrsiZM.js";import{C as R}from"./circle-check-big-BS3hXAhd.js";import{C as re}from"./circle-x-pntuk0KV.js";import{P as ne}from"./plus-S0wGj3RA.js";import{D as ce}from"./database-DVBy81T8.js";import{E as le}from"./eye-B2OXPKvz.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],de=U("grid-3x3",oe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],xe=U("list",me),T={SEARCH_HISTORY:"oncosaferx_search_history",FAVORITES:"oncosaferx_favorites",RECENT_SEARCHES:"oncosaferx_recent_searches"},K=()=>{const[n,o]=u.useState({query:"",filters:{category:"",subcategory:"",mechanism:"",indication:"",routeOfAdministration:"",isOncology:void 0,hasGenomicData:void 0,isOrphan:void 0,fdaApproved:void 0,clinicalTrialPhase:""},results:[],isLoading:!1,history:[],favorites:[],suggestions:[],recentSearches:[]});u.useEffect(()=>{try{const r=localStorage.getItem(T.SEARCH_HISTORY),c=localStorage.getItem(T.FAVORITES),m=localStorage.getItem(T.RECENT_SEARCHES);o(x=>({...x,history:r?JSON.parse(r):[],favorites:c?JSON.parse(c):[],recentSearches:m?JSON.parse(m):[]}))}catch(r){console.error("Error loading search data from localStorage:",r)}},[]),u.useEffect(()=>{try{localStorage.setItem(T.SEARCH_HISTORY,JSON.stringify(n.history)),localStorage.setItem(T.FAVORITES,JSON.stringify(n.favorites)),localStorage.setItem(T.RECENT_SEARCHES,JSON.stringify(n.recentSearches))}catch(r){console.error("Error saving search data to localStorage:",r)}},[n.history,n.favorites,n.recentSearches]);const N=r=>{o(c=>({...c,query:r})),p(r)},d=r=>{o(c=>({...c,filters:{...c.filters,...r}}))},l=()=>{o(r=>({...r,filters:{category:"",subcategory:"",mechanism:"",indication:"",routeOfAdministration:"",isOncology:void 0,hasGenomicData:void 0,isOrphan:void 0,fdaApproved:void 0,clinicalTrialPhase:""}}))},p=r=>{if(r.length<2){o(x=>({...x,suggestions:[]}));return}const m=["carboplatin","cisplatin","paclitaxel","docetaxel","doxorubicin","cyclophosphamide","bevacizumab","trastuzumab","pembrolizumab","nivolumab","rituximab","cetuximab","imatinib","erlotinib","gefitinib","sorafenib","sunitinib","regorafenib","lenvatinib","breast cancer","lung cancer","colorectal cancer","melanoma","lymphoma","leukemia","ovarian cancer","prostate cancer","EGFR inhibitor","PD-1 inhibitor","VEGF inhibitor","HER2 targeted","tyrosine kinase inhibitor","monoclonal antibody","checkpoint inhibitor"].filter(x=>x.toLowerCase().includes(r.toLowerCase())).slice(0,8);o(x=>({...x,suggestions:m}))},f=async()=>{o(r=>({...r,isLoading:!0}));try{await new Promise(m=>setTimeout(m,500));const r=he(n.query,n.filters),c={id:`search_${Date.now()}`,query:n.query,filters:{...n.filters},timestamp:new Date,resultCount:r.length};if(n.query.trim()){const m=[n.query,...n.recentSearches.filter(x=>x!==n.query)].slice(0,10);o(x=>({...x,results:r,isLoading:!1,history:[c,...x.history].slice(0,50),recentSearches:m}))}else o(m=>({...m,results:r,isLoading:!1}))}catch(r){console.error("Search error:",r),o(c=>({...c,isLoading:!1,results:[]}))}},w=r=>{const c={...r,id:`fav_${Date.now()}`,timestamp:new Date};o(m=>({...m,favorites:[c,...m.favorites]}))},v=r=>{o(c=>({...c,favorites:c.favorites.filter(m=>m.id!==r)}))},C=(r,c)=>{o(m=>({...m,favorites:m.favorites.map(x=>x.id===r?{...x,...c}:x)}))},y=()=>{o(r=>({...r,history:[]}))},S=()=>{o(r=>({...r,recentSearches:[]}))},k=(r,c)=>n.favorites.some(m=>m.type===r&&m.itemId===c),A=u.useMemo(()=>{const r=n.filters;let c=0;return r.category&&c++,r.subcategory&&c++,r.mechanism&&c++,r.indication&&c++,r.routeOfAdministration&&c++,r.isOncology!==void 0&&c++,r.hasGenomicData!==void 0&&c++,r.isOrphan!==void 0&&c++,r.fdaApproved!==void 0&&c++,r.clinicalTrialPhase&&c++,c},[n.filters]),b=u.useMemo(()=>n.favorites.reduce((r,c)=>(r[c.type]||(r[c.type]=[]),r[c.type].push(c),r),{}),[n.favorites]);return{query:n.query,filters:n.filters,results:n.results,isLoading:n.isLoading,history:n.history,favorites:n.favorites,suggestions:n.suggestions,recentSearches:n.recentSearches,activeFiltersCount:A,favoritesByType:b,setQuery:N,setFilters:d,clearFilters:l,performSearch:f,addToFavorites:w,removeFromFavorites:v,updateFavorite:C,clearHistory:y,clearRecentSearches:S,isFavorite:k}},he=(n,o)=>{let d=[{id:"1",name:"Carboplatin",genericName:"carboplatin",brandNames:["Paraplatin"],category:"Alkylating Agent",mechanism:"DNA crosslinking agent",indications:["Ovarian cancer","Lung cancer","Bladder cancer"],contraindications:["Severe bone marrow depression","Significant bleeding"],sideEffects:["Myelosuppression","Nephrotoxicity","Neurotoxicity"],interactions:[],dosing:{standard:"AUC 5-6 mg/mL*min IV every 3-4 weeks",renal:"Adjust based on creatinine clearance",hepatic:"No adjustment needed for mild-moderate impairment"},monitoring:["CBC","Renal function","Hearing tests"],fdaApproved:!0,oncologyDrug:!0},{id:"2",name:"Pembrolizumab",genericName:"pembrolizumab",brandNames:["Keytruda"],category:"Immunotherapy",mechanism:"PD-1 checkpoint inhibitor",indications:["Melanoma","NSCLC","Head and neck cancer","Hodgkin lymphoma"],contraindications:["Active autoimmune disease"],sideEffects:["Immune-related adverse events","Fatigue","Rash"],interactions:[],dosing:{standard:"200 mg IV every 3 weeks or 400 mg IV every 6 weeks",renal:"No adjustment needed",hepatic:"No adjustment needed for mild impairment"},monitoring:["Liver function","Thyroid function","Pulmonary function"],fdaApproved:!0,oncologyDrug:!0}];if(n){const l=n.toLowerCase();d=d.filter(p=>p.name.toLowerCase().includes(l)||p.genericName.toLowerCase().includes(l)||p.brandNames.some(f=>f.toLowerCase().includes(l))||p.category.toLowerCase().includes(l)||p.mechanism.toLowerCase().includes(l)||p.indications.some(f=>f.toLowerCase().includes(l)))}return o.category&&(d=d.filter(l=>l.category.toLowerCase().includes(o.category.toLowerCase()))),o.mechanism&&(d=d.filter(l=>l.mechanism.toLowerCase().includes(o.mechanism.toLowerCase()))),o.indication&&(d=d.filter(l=>l.indications.some(p=>p.toLowerCase().includes(o.indication.toLowerCase())))),o.isOncology!==void 0&&(d=d.filter(l=>l.oncologyDrug===o.isOncology)),o.fdaApproved!==void 0&&(d=d.filter(l=>l.fdaApproved===o.fdaApproved)),d},ue=({isOpen:n,onClose:o,onSearch:N})=>{const{query:d,filters:l,suggestions:p,recentSearches:f,history:w,favoritesByType:v,activeFiltersCount:C,setQuery:y,setFilters:S,clearFilters:k,performSearch:A}=K(),[b,r]=u.useState("search");if(!n)return null;const c=()=>{N(d,l),A(),o()},m=(a,t)=>{S({[a]:t})},x=["Alkylating Agents","Antimetabolites","Topoisomerase Inhibitors","Targeted Therapy","Immunotherapy","Hormone Therapy","Supportive Care","Investigational"],D=["DNA crosslinking","DNA synthesis inhibition","Topoisomerase inhibition","Tyrosine kinase inhibition","Checkpoint inhibition","Monoclonal antibody","Hormone receptor antagonist","Growth factor inhibition"],s=["Breast cancer","Lung cancer","Colorectal cancer","Ovarian cancer","Prostate cancer","Melanoma","Lymphoma","Leukemia","Head and neck cancer","Gastric cancer"],i=["Oral","Intravenous","Intramuscular","Subcutaneous","Topical","Intrathecal"];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Y,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Advanced Search"}),C>0&&e.jsxs("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded-full",children:[C," filter",C!==1?"s":""]})]}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(F,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsx("button",{onClick:()=>r("search"),className:`px-6 py-3 font-medium ${b==="search"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Search & Filters"}),e.jsx("button",{onClick:()=>r("history"),className:`px-6 py-3 font-medium ${b==="history"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Search History"}),e.jsx("button",{onClick:()=>r("favorites"),className:`px-6 py-3 font-medium ${b==="favorites"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Favorites"})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[b==="search"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Query"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:d,onChange:a=>y(a.target.value),placeholder:"Enter drug name, indication, or mechanism...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx(M,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"})]}),p.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:p.map((a,t)=>e.jsx("button",{onClick:()=>y(a),className:"text-sm bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full transition-colors",children:a},t))}),f.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recent searches:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.slice(0,5).map((a,t)=>e.jsx("button",{onClick:()=>y(a),className:"text-sm text-blue-600 hover:text-blue-800 underline",children:a},t))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Drug Category"}),e.jsxs("select",{value:l.category,onChange:a=>m("category",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Categories"}),x.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mechanism of Action"}),e.jsxs("select",{value:l.mechanism,onChange:a=>m("mechanism",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Mechanisms"}),D.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Indication"}),e.jsxs("select",{value:l.indication,onChange:a=>m("indication",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Indications"}),s.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Route of Administration"}),e.jsxs("select",{value:l.routeOfAdministration,onChange:a=>m("routeOfAdministration",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Routes"}),i.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:l.isOncology===!0,onChange:a=>m("isOncology",a.target.checked?!0:void 0),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Oncology drugs only"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:l.hasGenomicData===!0,onChange:a=>m("hasGenomicData",a.target.checked?!0:void 0),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Has genomic data"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:l.fdaApproved===!0,onChange:a=>m("fdaApproved",a.target.checked?!0:void 0),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"FDA approved"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:l.isOrphan===!0,onChange:a=>m("isOrphan",a.target.checked?!0:void 0),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Orphan drugs"})]})]})]}),b==="history"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Search History"}),e.jsx("button",{onClick:()=>{},className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear History"})]}),w.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(J,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No search history yet"})]}):e.jsx("div",{className:"space-y-3",children:w.slice(0,10).map(a=>e.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>{y(a.query),S(a.filters),r("search")},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:a.query||"Advanced search"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[a.resultCount," result",a.resultCount!==1?"s":""]})]}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:new Date(a.timestamp).toLocaleString()})]},a.id))})]}),b==="favorites"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Favorites"}),Object.keys(v).length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(L,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No favorites yet"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Save drugs, interactions, and protocols for quick access"})]}):e.jsx("div",{className:"space-y-6",children:Object.entries(v).map(([a,t])=>e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 capitalize",children:[a,"s (",t.length,")"]}),e.jsx("div",{className:"space-y-2",children:t.map(h=>e.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:h.name}),e.jsx("button",{className:"text-yellow-500 hover:text-yellow-600",children:e.jsx(L,{className:"w-4 h-4 fill-current"})})]}),h.notes&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.notes}),h.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:h.tags.map((j,I)=>e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:j},I))})]},h.id))})]},a))})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:k,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:C===0,children:"Clear Filters"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:o,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:c,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:"Search"})]})]})]})]})})},ge=({onSearch:n,placeholder:o="Search drugs, interactions, protocols...",showFilters:N=!0,className:d=""})=>{const{query:l,suggestions:p,recentSearches:f,favoritesByType:w,activeFiltersCount:v,setQuery:C,performSearch:y,addToFavorites:S,isFavorite:k}=K(),[A,b]=u.useState(!1),[r,c]=u.useState(!1),[m,x]=u.useState(!1),D=u.useRef(null),s=u.useRef(null);u.useEffect(()=>{const g=E=>{D.current&&!D.current.contains(E.target)&&(c(!1),x(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const i=g=>{C(g),c(g.length>0),x(!1)},a=g=>{const E=g||l;E.trim()&&(n(E),y(),c(!1),x(!1),s.current?.blur())},t=(g,E)=>{n(g,E),c(!1),x(!1)},h=()=>{l.length===0?(x(!0),c(!1)):(c(!0),x(!1))},j=g=>{g.key==="Enter"?a():g.key==="Escape"&&(c(!1),x(!1),s.current?.blur())},I=(g,E)=>{S({type:E,itemId:`search_${Date.now()}`,name:g,notes:`Added from search: "${l}"`,tags:["search"]})};return e.jsxs("div",{ref:D,className:`relative ${d}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(M,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{ref:s,type:"text",value:l,onChange:g=>i(g.target.value),onFocus:h,onKeyDown:j,placeholder:o,className:"w-full pl-10 pr-20 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),e.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center space-x-1 pr-3",children:[l&&e.jsx("button",{onClick:()=>{C(""),c(!1),x(!0),s.current?.focus()},className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(F,{className:"h-4 w-4 text-gray-400"})}),N&&e.jsxs("button",{onClick:()=>b(!0),className:`p-2 rounded-lg transition-colors ${v>0?"bg-blue-100 text-blue-600 hover:bg-blue-200":"hover:bg-gray-100 text-gray-400 hover:text-gray-600"}`,title:"Advanced Search & Filters",children:[e.jsx(Y,{className:"h-4 w-4"}),v>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:v})]})]})]}),(r||m)&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto",children:[m&&e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[f.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(O,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Recent Searches"})]}),e.jsx("div",{className:"space-y-1",children:f.slice(0,5).map((g,E)=>e.jsxs("button",{onClick:()=>a(g),className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded flex items-center justify-between group",children:[e.jsx("span",{children:g}),e.jsx(J,{className:"h-3 w-3 text-gray-400 opacity-0 group-hover:opacity-100"})]},E))})]}),w.drug&&w.drug.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(L,{className:"h-4 w-4 text-yellow-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Favorite Drugs"})]}),e.jsx("div",{className:"space-y-1",children:w.drug.slice(0,3).map(g=>e.jsxs("button",{onClick:()=>a(g.name),className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded flex items-center justify-between group",children:[e.jsx("span",{children:g.name}),e.jsx(L,{className:"h-3 w-3 text-yellow-500 fill-current"})]},g.id))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ie,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quick Actions"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>a("oncology drugs"),className:"px-3 py-2 text-sm text-blue-600 bg-blue-50 hover:bg-blue-100 rounded transition-colors",children:"Oncology Drugs"}),e.jsx("button",{onClick:()=>a("drug interactions"),className:"px-3 py-2 text-sm text-green-600 bg-green-50 hover:bg-green-100 rounded transition-colors",children:"Interactions"}),e.jsx("button",{onClick:()=>a("clinical protocols"),className:"px-3 py-2 text-sm text-purple-600 bg-purple-50 hover:bg-purple-100 rounded transition-colors",children:"Protocols"}),e.jsx("button",{onClick:()=>b(!0),className:"px-3 py-2 text-sm text-gray-600 bg-gray-50 hover:bg-gray-100 rounded transition-colors",children:"Advanced Search"})]})]})]})}),r&&p.length>0&&e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"text-xs text-gray-500 px-3 py-2 border-b border-gray-100",children:"Suggestions"}),p.map((g,E)=>e.jsxs("button",{onClick:()=>a(g),className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded flex items-center justify-between group",children:[e.jsx("span",{children:g}),e.jsx("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100",children:e.jsx("button",{onClick:W=>{W.stopPropagation(),I(g,"drug")},className:"p-1 hover:bg-gray-200 rounded",title:"Add to favorites",children:e.jsx(L,{className:`h-3 w-3 ${k("drug",g)?"text-yellow-500 fill-current":"text-gray-400"}`})})})]},E))]}),r&&p.length===0&&l.length>2&&e.jsxs("div",{className:"p-4 text-center text-gray-500",children:[e.jsx("p",{className:"text-sm",children:"No suggestions found"}),e.jsx("button",{onClick:()=>b(!0),className:"text-sm text-blue-600 hover:text-blue-800 mt-2",children:"Try advanced search"})]})]}),e.jsx(ue,{isOpen:A,onClose:()=>b(!1),onSearch:t})]})},pe=({drug:n,className:o=""})=>{const[N,d]=u.useState("overview"),[l,p]=u.useState(new Set(["basic-info"])),[f,w]=u.useState([]),[v,C]=u.useState([]),[y,S]=u.useState([]),[k,A]=u.useState(!1);u.useEffect(()=>{b()},[n.rxcui]);const b=async()=>{A(!0);try{await Promise.all([r(),c(),m()])}catch(t){console.error("Error loading enhanced drug data:",t)}finally{A(!1)}},r=async()=>{const t=[{id:"mechanism",category:"pharmacology",title:"Mechanism of Action",content:n.mechanism||"Detailed mechanism of action data not available.",severity:"info",sources:["DrugBank","PubMed","FDA Label"],lastUpdated:"2024-01-15"},{id:"pharmacokinetics",category:"pharmacology",title:"Pharmacokinetics",content:e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Absorption:"}),e.jsx("p",{className:"text-gray-600",children:"Rapidly absorbed, bioavailability 85-95%"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Distribution:"}),e.jsx("p",{className:"text-gray-600",children:"Volume of distribution: 0.6-1.2 L/kg"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Metabolism:"}),e.jsx("p",{className:"text-gray-600",children:"Hepatic via CYP3A4, CYP2D6"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Elimination:"}),e.jsx("p",{className:"text-gray-600",children:"Half-life: 8-12 hours, renal excretion 60%"})]})]})}),severity:"info",sources:["Clinical Pharmacology","Drug Label"],lastUpdated:"2024-01-10"},{id:"contraindications",category:"safety",title:"Contraindications & Precautions",content:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Absolute Contraindications:"}),e.jsx("ul",{className:"list-disc list-inside text-sm text-red-700 space-y-1",children:n.contraindications?.map((h,j)=>e.jsx("li",{children:h},j))||e.jsx("li",{children:"No specific contraindications listed"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Precautions:"}),e.jsxs("ul",{className:"list-disc list-inside text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"Monitor renal function in elderly patients"}),e.jsx("li",{children:"Use with caution in hepatic impairment"}),e.jsx("li",{children:"May interact with CYP3A4 inhibitors"})]})]})]}),severity:"warning",sources:["FDA Label","Clinical Guidelines"],lastUpdated:"2024-01-12"},{id:"adverse-events",category:"safety",title:"Adverse Events Profile",content:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded",children:[e.jsxs("h5",{className:"font-medium text-red-800 mb-2",children:["Common (",">10%",")"]}),e.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:n.sideEffects?.slice(0,3).map((h,j)=>e.jsxs("li",{children:["• ",h]},j))||e.jsx("li",{children:"• Nausea"})})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded",children:[e.jsx("h5",{className:"font-medium text-yellow-800 mb-2",children:"Uncommon (1-10%)"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"• Headache"}),e.jsx("li",{children:"• Dizziness"}),e.jsx("li",{children:"• Rash"})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded",children:[e.jsxs("h5",{className:"font-medium text-gray-800 mb-2",children:["Rare (","<1%",")"]}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"• Severe hypersensitivity"}),e.jsx("li",{children:"• Hepatotoxicity"}),e.jsx("li",{children:"• Serious skin reactions"})]})]})]})}),severity:"warning",sources:["FAERS","Clinical Trials","Post-marketing surveillance"],lastUpdated:"2024-01-08"}];w(t)},c=async()=>{const t=[{id:"trial1",title:`Phase III Study of ${n.name} in Advanced Cancer`,phase:"Phase III",status:"recruiting",condition:"Advanced Solid Tumors",sponsor:"National Cancer Institute",enrollmentTarget:450,location:"Multiple centers (US, EU)",nctId:"NCT05123456"},{id:"trial2",title:`Combination Therapy with ${n.name} and Immunotherapy`,phase:"Phase II",status:"active",condition:"Metastatic Melanoma",sponsor:"Academic Medical Center",enrollmentTarget:120,location:"Johns Hopkins, Mayo Clinic",nctId:"NCT05234567"}];C(t)},m=async()=>{const t=[{id:"nccn1",organization:"NCCN",title:`${n.name} Guidelines for Cancer Treatment`,recommendation:"Category 1 recommendation for first-line therapy in specific indications",evidenceLevel:"A",lastReviewed:"2024-01-01",url:"https://nccn.org"},{id:"fda1",organization:"FDA",title:"Safety Communication",recommendation:"Monitor for cardiac toxicity in high-risk patients",evidenceLevel:"B",lastReviewed:"2023-12-15"}];S(t)},x=t=>{const h=new Set(l);h.has(t)?h.delete(t):h.add(t),p(h)},D=t=>{switch(t){case"error":return e.jsx(re,{className:"w-4 h-4 text-red-500"});case"warning":return e.jsx(B,{className:"w-4 h-4 text-yellow-500"});case"success":return e.jsx(R,{className:"w-4 h-4 text-green-500"});default:return e.jsx(ae,{className:"w-4 h-4 text-blue-500"})}},s=t=>{switch(t){case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"success":return"bg-green-50 border-green-200";default:return"bg-blue-50 border-blue-200"}},i=t=>{const h={recruiting:{bg:"bg-green-100",text:"text-green-800",label:"Recruiting"},active:{bg:"bg-blue-100",text:"text-blue-800",label:"Active"},completed:{bg:"bg-gray-100",text:"text-gray-800",label:"Completed"},suspended:{bg:"bg-red-100",text:"text-red-800",label:"Suspended"}},j=h[t]||h.active;return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j.bg} ${j.text}`,children:j.label})},a=[{id:"overview",label:"Overview",icon:Z},{id:"clinical",label:"Clinical Data",icon:_},{id:"safety",label:"Safety Profile",icon:z},{id:"guidelines",label:"Guidelines",icon:V},{id:"trials",label:"Clinical Trials",icon:q}];return e.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg shadow-sm ${o}`,children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(X,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n.name}),n.fdaApproved&&e.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:"FDA Approved"})]}),e.jsx("p",{className:"text-lg text-gray-600",children:n.genericName}),n.brandNames&&n.brandNames.length>0&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Brand names: ",n.brandNames.join(", ")]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-yellow-500 transition-colors",children:e.jsx(L,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",children:e.jsx(P,{className:"w-5 h-5"})})]})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:a.map(t=>{const h=t.icon;return e.jsxs("button",{onClick:()=>d(t.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${N===t.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(h,{className:"w-4 h-4"}),e.jsx("span",{children:t.label})]},t.id)})})}),e.jsxs("div",{className:"p-6",children:[N==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(V,{className:"w-4 h-4 text-blue-600"}),e.jsx("h3",{className:"font-medium text-blue-900",children:"Category"})]}),e.jsx("p",{className:"text-blue-800",children:n.category})]}),e.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Q,{className:"w-4 h-4 text-purple-600"}),e.jsx("h3",{className:"font-medium text-purple-900",children:"Mechanism"})]}),e.jsx("p",{className:"text-purple-800 text-sm",children:n.mechanism})]}),e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ee,{className:"w-4 h-4 text-green-600"}),e.jsx("h3",{className:"font-medium text-green-900",children:"Primary Indications"})]}),e.jsx("div",{className:"text-green-800 text-sm space-y-1",children:n.indications?.slice(0,3).map((t,h)=>e.jsxs("div",{children:["• ",t]},h))})]})]})}),e.jsx("div",{className:"space-y-4",children:f.filter(t=>t.category==="pharmacology").map(t=>e.jsxs("div",{className:`border rounded-lg ${s(t.severity||"info")}`,children:[e.jsxs("button",{onClick:()=>x(t.id),className:"w-full p-4 text-left flex items-center justify-between hover:bg-opacity-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[D(t.severity||"info"),e.jsx("h3",{className:"font-medium text-gray-900",children:t.title})]}),l.has(t.id)?e.jsx(se,{className:"w-4 h-4 text-gray-500"}):e.jsx(te,{className:"w-4 h-4 text-gray-500"})]}),l.has(t.id)&&e.jsx("div",{className:"px-4 pb-4",children:e.jsxs("div",{className:"border-t pt-4",children:[typeof t.content=="string"?e.jsx("p",{className:"text-gray-700",children:t.content}):t.content,e.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{children:["Sources: ",t.sources.join(", ")]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(O,{className:"w-3 h-3"}),e.jsxs("span",{children:["Updated: ",t.lastUpdated]})]})]})]})})]},t.id))})]}),N==="safety"&&e.jsx("div",{className:"space-y-6",children:f.filter(t=>t.category==="safety").map(t=>e.jsx("div",{className:`border rounded-lg ${s(t.severity||"info")}`,children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[D(t.severity||"info"),e.jsx("h3",{className:"font-medium text-gray-900",children:t.title})]}),typeof t.content=="string"?e.jsx("p",{className:"text-gray-700",children:t.content}):t.content,e.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{children:["Sources: ",t.sources.join(", ")]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(O,{className:"w-3 h-3"}),e.jsxs("span",{children:["Updated: ",t.lastUpdated]})]})]})]})},t.id))}),N==="trials"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Active Clinical Trials"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[v.length," trials found"]})]}),e.jsx("div",{className:"space-y-4",children:v.map(t=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600",children:t.condition})]}),i(t.status)]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Phase:"}),e.jsx("p",{className:"text-gray-600",children:t.phase})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Sponsor:"}),e.jsx("p",{className:"text-gray-600",children:t.sponsor})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Enrollment:"}),e.jsxs("p",{className:"text-gray-600",children:[t.enrollmentTarget," patients"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"NCT ID:"}),e.jsxs("a",{href:`https://clinicaltrials.gov/ct2/show/${t.nctId}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center space-x-1",children:[e.jsx("span",{children:t.nctId}),e.jsx(P,{className:"w-3 h-3"})]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Locations:"})," ",t.location]})})]},t.id))})]}),N==="guidelines"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Clinical Guidelines & Recommendations"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[y.length," guidelines"]})]}),e.jsx("div",{className:"space-y-4",children:y.map(t=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:t.title}),e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded ${t.evidenceLevel==="A"?"bg-green-100 text-green-800":t.evidenceLevel==="B"?"bg-blue-100 text-blue-800":t.evidenceLevel==="C"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:["Level ",t.evidenceLevel]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.organization})]})}),e.jsx("p",{className:"text-gray-700 mb-3",children:t.recommendation}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("span",{children:["Last reviewed: ",t.lastReviewed]}),t.url&&e.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center space-x-1",children:[e.jsx("span",{children:"View guideline"}),e.jsx(P,{className:"w-3 h-3"})]})]})]},t.id))})]}),k&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]})]})},ye=({initialDrugs:n=[],onAddDrug:o,className:N=""})=>{const[d,l]=u.useState([]),[p,f]=u.useState(""),[w,v]=u.useState(!1),[C]=u.useState([{id:"1",rxcui:"1001",name:"Carboplatin",genericName:"carboplatin",brandNames:["Paraplatin"],category:"Alkylating Agent",mechanism:"DNA crosslinking",indications:["Ovarian cancer","Lung cancer"],contraindications:["Severe bone marrow depression"],sideEffects:["Myelosuppression","Nephrotoxicity"],interactions:[],dosing:{standard:"AUC 5-6 mg/mL*min IV",renal:"Adjust based on CrCl",hepatic:"No adjustment needed"},monitoring:["CBC","Renal function"],fdaApproved:!0,oncologyDrug:!0},{id:"2",rxcui:"1002",name:"Cisplatin",genericName:"cisplatin",brandNames:["Platinol"],category:"Alkylating Agent",mechanism:"DNA crosslinking",indications:["Testicular cancer","Ovarian cancer","Bladder cancer"],contraindications:["Renal impairment","Hearing impairment"],sideEffects:["Nephrotoxicity","Ototoxicity","Neuropathy"],interactions:[],dosing:{standard:"20 mg/m² IV daily × 5 days",renal:"Contraindicated if CrCl < 60",hepatic:"No adjustment needed"},monitoring:["Renal function","Hearing tests","Neurologic exam"],fdaApproved:!0,oncologyDrug:!0}]);u.useEffect(()=>{n.length>0&&l(n.map(s=>y(s)))},[n]);const y=s=>({...s,comparisonScore:S(s),strengths:k(s),weaknesses:A(s),clinicalNotes:b(s)}),S=s=>{let i=50;return s.fdaApproved&&(i+=20),s.oncologyDrug&&(i+=15),s.sideEffects&&s.sideEffects.length<5&&(i+=10),s.contraindications&&s.contraindications.length<3&&(i+=5),Math.min(100,Math.max(0,i))},k=s=>{const i=[];return s.fdaApproved&&i.push("FDA approved with established safety profile"),s.oncologyDrug&&i.push("Specifically designed for oncology indications"),s.sideEffects&&s.sideEffects.length<5&&i.push("Favorable side effect profile"),s.indications&&s.indications.length>3&&i.push("Broad spectrum of indications"),i},A=s=>{const i=[];return s.contraindications&&s.contraindications.length>2&&i.push("Multiple contraindications limit patient eligibility"),s.sideEffects&&s.sideEffects.length>5&&i.push("Extensive side effect profile requires careful monitoring"),s.monitoring&&s.monitoring.length>4&&i.push("Intensive monitoring requirements"),i},b=s=>{const i=[];return s.category?.includes("Alkylating")&&i.push("Consider premedication for hypersensitivity reactions"),s.sideEffects?.includes("Nephrotoxicity")&&i.push("Ensure adequate hydration and monitor renal function closely"),s.sideEffects?.includes("Myelosuppression")&&i.push("Monitor CBC regularly and adjust dose for hematologic toxicity"),i},r=[{id:"name",label:"Drug Name",icon:V,getValue:s=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.genericName})]})},{id:"category",label:"Category",icon:Q,getValue:s=>s.category||"Not specified"},{id:"mechanism",label:"Mechanism",icon:_,getValue:s=>s.mechanism||"Not specified"},{id:"indications",label:"Indications",icon:q,getValue:s=>e.jsxs("div",{className:"space-y-1",children:[s.indications?.slice(0,3).map((i,a)=>e.jsxs("div",{className:"text-sm",children:["• ",i]},a)),s.indications&&s.indications.length>3&&e.jsxs("div",{className:"text-xs text-gray-500",children:["+",s.indications.length-3," more"]})]})},{id:"sideEffects",label:"Side Effects",icon:B,getValue:s=>e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium mb-1",children:[s.sideEffects?.length||0," reported"]}),e.jsx("div",{className:"space-y-1",children:s.sideEffects?.slice(0,3).map((i,a)=>e.jsxs("div",{className:"text-xs text-gray-600",children:["• ",i]},a))})]}),compare:(s,i)=>(s.sideEffects?.length||0)-(i.sideEffects?.length||0)},{id:"contraindications",label:"Contraindications",icon:z,getValue:s=>e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium mb-1",children:[s.contraindications?.length||0," listed"]}),e.jsx("div",{className:"space-y-1",children:s.contraindications?.slice(0,2).map((i,a)=>e.jsxs("div",{className:"text-xs text-gray-600",children:["• ",i]},a))})]}),compare:(s,i)=>(s.contraindications?.length||0)-(i.contraindications?.length||0)},{id:"monitoring",label:"Monitoring",icon:O,getValue:s=>e.jsx("div",{className:"space-y-1",children:s.monitoring?.slice(0,3).map((i,a)=>e.jsxs("div",{className:"text-sm",children:["• ",i]},a))})},{id:"fdaStatus",label:"FDA Status",icon:R,getValue:s=>e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s.fdaApproved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.fdaApproved?"Approved":"Investigational"})},{id:"comparisonScore",label:"Overall Score",icon:L,getValue:s=>{const a=s.comparisonScore||0;return e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a}),e.jsx("div",{className:"text-xs text-gray-500",children:"/ 100"})]})},compare:(s,i)=>(i.comparisonScore||0)-(s.comparisonScore||0)}],c=s=>{if(d.length<4&&!d.find(i=>i.rxcui===s.rxcui)){const i=y(s);l(a=>[...a,i]),v(!1),f(""),o?.(s)}},m=s=>{l(i=>i.filter(a=>a.rxcui!==s))},x=C.filter(s=>s.name.toLowerCase().includes(p.toLowerCase())||s.genericName.toLowerCase().includes(p.toLowerCase())||s.category.toLowerCase().includes(p.toLowerCase())),D=(s,i)=>{if(!s.compare||d.length<2)return null;const a=d[i],t=d.reduce((j,I)=>s.compare(I,j)>0?I:j),h=d.reduce((j,I)=>s.compare(I,j)<0?I:j);return a.rxcui===t.rxcui&&a.rxcui!==h.rxcui?e.jsx(G,{className:"w-4 h-4 text-green-500",title:"Best in category"}):a.rxcui===h.rxcui&&a.rxcui!==t.rxcui?e.jsx(G,{className:"w-4 h-4 text-red-500 rotate-180",title:"Needs attention"}):null};return e.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg shadow-sm ${N}`,children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx($,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Drug Comparison"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Compare up to 4 drugs side by side"})]})]}),d.length<4&&e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Drug"})]})]})}),w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Add Drug to Comparison"}),e.jsx("button",{onClick:()=>v(!1),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(F,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"p-4",children:[e.jsx("input",{type:"text",value:p,onChange:s=>f(s.target.value),placeholder:"Search for drugs...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),e.jsxs("div",{className:"mt-4 max-h-60 overflow-y-auto space-y-2",children:[x.filter(s=>!d.find(i=>i.rxcui===s.rxcui)).map(s=>e.jsxs("button",{onClick:()=>c(s),className:"w-full p-3 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-gray-600",children:s.category})]},s.rxcui)),x.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No drugs found"})]})]})]})}),d.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left p-4 font-medium text-gray-700 w-32",children:"Metric"}),d.map(s=>e.jsx("th",{className:"text-left p-4 min-w-64",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.genericName})]}),e.jsx("button",{onClick:()=>m(s.rxcui),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(F,{className:"w-4 h-4"})})]})},s.rxcui))]})}),e.jsx("tbody",{children:r.map(s=>{const i=s.icon;return e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(i,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-medium text-gray-700",children:s.label})]})}),d.map((a,t)=>e.jsx("td",{className:"p-4 align-top",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"flex-1",children:s.getValue(a)}),D(s,t)]})},a.rxcui))]},s.id)})})]})}):e.jsxs("div",{className:"p-12 text-center",children:[e.jsx($,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No drugs selected"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Add drugs to compare their features, efficacy, and safety profiles side by side."}),e.jsx("button",{onClick:()=>v(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Your First Drug"})]}),d.length>1&&e.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Comparison Insights"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.map(s=>e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.name}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(L,{className:"w-4 h-4 text-yellow-500"}),e.jsxs("span",{className:"text-sm font-medium",children:[s.comparisonScore,"/100"]})]})]}),s.strengths&&s.strengths.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("h5",{className:"text-sm font-medium text-green-800 mb-1",children:"Strengths:"}),e.jsx("ul",{className:"text-sm text-green-700 space-y-1",children:s.strengths.slice(0,2).map((i,a)=>e.jsxs("li",{className:"flex items-start space-x-1",children:[e.jsx(R,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:i})]},a))})]}),s.weaknesses&&s.weaknesses.length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-orange-800 mb-1",children:"Considerations:"}),e.jsx("ul",{className:"text-sm text-orange-700 space-y-1",children:s.weaknesses.slice(0,2).map((i,a)=>e.jsxs("li",{className:"flex items-start space-x-1",children:[e.jsx(B,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:i})]},a))})]})]},s.rxcui))})]})]})},De=()=>{const[n,o]=u.useState("grid"),[N,d]=u.useState(null),[l,p]=u.useState([]),[f,w]=u.useState(!1),[v,C]=u.useState([]),[y,S]=u.useState([]),[k]=u.useState([{id:"1",rxcui:"1001",name:"Carboplatin",genericName:"carboplatin",brandNames:["Paraplatin"],category:"Alkylating Agent",mechanism:"DNA crosslinking agent that forms intrastrand and interstrand DNA crosslinks",indications:["Ovarian cancer","Lung cancer","Bladder cancer","Head and neck cancer"],contraindications:["Severe bone marrow depression","Significant bleeding","Severe renal impairment"],sideEffects:["Myelosuppression","Nephrotoxicity","Neurotoxicity","Ototoxicity","Nausea","Vomiting"],interactions:[],dosing:{standard:"AUC 5-6 mg/mL*min IV every 3-4 weeks",renal:"Adjust based on creatinine clearance using Calvert formula",hepatic:"No adjustment needed for mild-moderate impairment"},monitoring:["CBC with differential","Comprehensive metabolic panel","Renal function","Hearing tests"],fdaApproved:!0,oncologyDrug:!0},{id:"2",rxcui:"1002",name:"Pembrolizumab",genericName:"pembrolizumab",brandNames:["Keytruda"],category:"Immunotherapy",mechanism:"Monoclonal antibody that blocks PD-1 receptor on T-cells, enhancing immune response",indications:["Melanoma","NSCLC","Head and neck cancer","Hodgkin lymphoma","Urothelial carcinoma"],contraindications:["Active autoimmune disease requiring systemic therapy"],sideEffects:["Immune-related adverse events","Fatigue","Rash","Pruritus","Diarrhea","Decreased appetite"],interactions:[],dosing:{standard:"200 mg IV every 3 weeks or 400 mg IV every 6 weeks",renal:"No adjustment needed",hepatic:"No adjustment needed for mild impairment"},monitoring:["Liver function tests","Thyroid function","Pulmonary function","Skin examination"],fdaApproved:!0,oncologyDrug:!0},{id:"3",rxcui:"1003",name:"Imatinib",genericName:"imatinib",brandNames:["Gleevec","Glivec"],category:"Targeted Therapy",mechanism:"Tyrosine kinase inhibitor targeting BCR-ABL, KIT, and PDGFR",indications:["Chronic myeloid leukemia","Acute lymphoblastic leukemia","GIST"],contraindications:["Hypersensitivity to imatinib or excipients"],sideEffects:["Edema","Nausea","Muscle cramps","Rash","Diarrhea","Fatigue"],interactions:[],dosing:{standard:"400-800 mg daily orally with food",renal:"Reduce dose for severe impairment",hepatic:"Reduce dose for moderate to severe impairment"},monitoring:["CBC","Liver function","Weight monitoring","Echocardiogram"],fdaApproved:!0,oncologyDrug:!0},{id:"4",rxcui:"1004",name:"Doxorubicin",genericName:"doxorubicin",brandNames:["Adriamycin"],category:"Anthracycline",mechanism:"DNA intercalation and topoisomerase II inhibition causing DNA strand breaks",indications:["Breast cancer","Lymphoma","Sarcoma","Acute leukemia"],contraindications:["Severe cardiac dysfunction","Recent myocardial infarction","Severe hepatic impairment"],sideEffects:["Cardiotoxicity","Myelosuppression","Mucositis","Alopecia","Nausea","Vomiting"],interactions:[],dosing:{standard:"60-75 mg/m² IV every 3 weeks",renal:"No adjustment needed",hepatic:"Reduce dose based on bilirubin level"},monitoring:["Echocardiogram","CBC","Liver function","Mucositis assessment"],fdaApproved:!0,oncologyDrug:!0}]);u.useEffect(()=>{A()},[]);const A=()=>{C([{category:"Immunotherapy",count:45,trending:!0,newAdditions:8},{category:"Targeted Therapy",count:123,trending:!0,newAdditions:15},{category:"Alkylating Agent",count:34,trending:!1,newAdditions:2},{category:"Antimetabolite",count:28,trending:!1,newAdditions:1},{category:"Anthracycline",count:12,trending:!1,newAdditions:0},{category:"Hormone Therapy",count:56,trending:!1,newAdditions:3}])},b=(s,i)=>{w(!0),setTimeout(()=>{let a=k;if(s){const t=s.toLowerCase();a=a.filter(h=>h.name.toLowerCase().includes(t)||h.genericName.toLowerCase().includes(t)||h.category.toLowerCase().includes(t)||h.mechanism.toLowerCase().includes(t)||h.indications?.some(j=>j.toLowerCase().includes(t)))}i&&(i.category&&(a=a.filter(t=>t.category.toLowerCase().includes(i.category.toLowerCase()))),i.isOncology&&(a=a.filter(t=>t.oncologyDrug===!0)),i.fdaApproved&&(a=a.filter(t=>t.fdaApproved===!0))),p(a),w(!1)},500)},r=s=>{d(s),o("grid")},c=s=>{y.length<4&&!y.find(i=>i.rxcui===s.rxcui)&&S(i=>[...i,s])},m=()=>e.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>o("grid"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${n==="grid"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:e.jsx(de,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>o("list"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${n==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:e.jsx(xe,{className:"w-4 h-4"})}),e.jsxs("button",{onClick:()=>o("comparison"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center space-x-1 ${n==="comparison"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx($,{className:"w-4 h-4"}),y.length>0&&e.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y.length})]})]}),x=({drug:s})=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.genericName}),e.jsx("span",{className:"inline-block mt-1 px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:s.category})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[s.fdaApproved&&e.jsx(R,{className:"w-4 h-4 text-green-500",title:"FDA Approved"}),e.jsx("button",{onClick:()=>c(s),className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",disabled:y.length>=4,title:"Add to comparison",children:e.jsx(H,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:s.mechanism}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Indications:"}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[s.indications?.slice(0,3).map((i,a)=>e.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:i},a)),s.indications&&s.indications.length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",s.indications.length-3," more"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:[s.sideEffects?.length||0," side effects"]}),e.jsxs("button",{onClick:()=>r(s),className:"text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center space-x-1",children:[e.jsx(le,{className:"w-3 h-3"}),e.jsx("span",{children:"View Details"})]})]})]})]}),D=({drug:s})=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(_,{className:"w-5 h-5 text-blue-600"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:s.name}),e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:s.category}),s.fdaApproved&&e.jsx(R,{className:"w-4 h-4 text-green-500 flex-shrink-0"})]}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:s.mechanism}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-xs text-gray-500",children:[e.jsxs("span",{children:[s.indications?.length||0," indications"]}),e.jsxs("span",{children:[s.sideEffects?.length||0," side effects"]}),e.jsxs("span",{children:[s.contraindications?.length||0," contraindications"]})]})]})]})}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>c(s),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",disabled:y.length>=4,title:"Add to comparison",children:e.jsx(H,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>r(s),className:"px-3 py-2 text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View Details"})]})]})});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[e.jsx(ce,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Drug Information Database"})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Comprehensive drug information with advanced search, detailed profiles, and comparison tools."})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:v.map(s=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:s.count}),s.trending&&e.jsx(G,{className:"w-4 h-4 text-green-500"})]}),e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:s.category}),s.newAdditions>0&&e.jsxs("div",{className:"text-xs text-blue-600",children:["+",s.newAdditions," new"]})]},s.category))}),e.jsx(ge,{onSearch:b,placeholder:"Search drugs by name, category, indication, or mechanism...",showFilters:!0,className:"w-full"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l.length>0?`Search Results (${l.length})`:"Featured Drugs"}),y.length>0&&e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsxs("span",{children:[y.length," drugs selected for comparison"]})]})]}),e.jsx(m,{})]}),n==="comparison"?e.jsx(ye,{initialDrugs:y,onAddDrug:c}):N?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("button",{onClick:()=>d(null),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 font-medium",children:[e.jsx("span",{children:"←"}),e.jsx("span",{children:"Back to Search Results"})]}),e.jsx(pe,{drug:N})]}):e.jsxs("div",{children:[f?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsx("div",{className:`${n==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4"}`,children:(l.length>0?l:k).map(s=>n==="grid"?e.jsx(x,{drug:s},s.rxcui):e.jsx(D,{drug:s},s.rxcui))}),!f&&l.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(M,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No results found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search terms or filters."})]})]})]})};export{De as default};
//# sourceMappingURL=DrugDatabase-Cvwr_j-t.js.map
