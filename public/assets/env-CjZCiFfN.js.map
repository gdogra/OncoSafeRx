{"version":3,"file":"env-CjZCiFfN.js","sources":["../../src/utils/env.ts"],"sourcesContent":["let cachedApiUrl: string | null = null;\n\nexport function apiBaseUrl(): string {\n  if (cachedApiUrl) {\n    return cachedApiUrl;\n  }\n\n  const vite = (import.meta as any)?.env?.VITE_API_URL as string | undefined;\n  // @ts-ignore\n  const cra = typeof process !== 'undefined' ? (process as any)?.env?.REACT_APP_API_URL as string | undefined : undefined;\n  \n  \n  if (vite?.trim()) {\n    cachedApiUrl = vite;\n    return vite;\n  }\n  if (cra?.trim()) {\n    cachedApiUrl = cra;\n    return cra;\n  }\n  \n  // For development, always use localhost:3000 API\n  if (typeof window !== 'undefined' && window.location?.hostname === 'localhost') {\n    const devUrl = 'http://localhost:3000/api';\n    cachedApiUrl = devUrl;\n    return devUrl;\n  }\n  \n  // Prefer same-origin '/api' in production to avoid CSP issues\n  if (typeof window !== 'undefined' && window.location && window.location.origin) {\n    const fallbackUrl = `${window.location.origin}/api`;\n    cachedApiUrl = fallbackUrl;\n    return fallbackUrl;\n  }\n  \n  const fallback = 'http://localhost:3000/api';\n  cachedApiUrl = fallback;\n  return fallback;\n}\n\nexport function appVersion(): string {\n  const vite = (import.meta as any)?.env?.VITE_APP_VERSION;\n  // @ts-ignore\n  const cra = typeof process !== 'undefined' ? (process as any)?.env?.REACT_APP_VERSION : undefined;\n  return vite || cra || 'dev';\n}\n"],"names":["cachedApiUrl","apiBaseUrl","vite","cra","define_process_env_default","devUrl","fallbackUrl","fallback"],"mappings":"6BAAA,IAAIA,EAA8B,KAE3B,SAASC,GAAqB,CACnC,GAAID,EACF,OAAOA,EAGT,MAAME,EAAQ,iCAERC,EAAM,OAAO,QAAY,IAAeC,GAAsB,kBAA0C,OAG9G,GAAIF,GAAM,OACR,OAAAF,EAAeE,EACRA,EAET,GAAIC,GAAK,OACP,OAAAH,EAAeG,EACRA,EAIT,GAAI,OAAO,OAAW,KAAe,OAAO,UAAU,WAAa,YAAa,CAC9E,MAAME,EAAS,4BACf,OAAAL,EAAeK,EACRA,CACT,CAGA,GAAI,OAAO,OAAW,KAAe,OAAO,UAAY,OAAO,SAAS,OAAQ,CAC9E,MAAMC,EAAc,GAAG,OAAO,SAAS,MAAM,OAC7C,OAAAN,EAAeM,EACRA,CACT,CAEA,MAAMC,EAAW,4BACjB,OAAAP,EAAeO,EACRA,CACT"}