import{r,a9 as A,u as E,ae as C,m as S,R as L,j as e,a as g,n as k}from"./index-4Ly-s4cr.js";import{U as R}from"./user-BBF1fMpu.js";import{L as P}from"./lock-U1qkn8RF.js";import{E as U}from"./eye-off-DGjjVpUS.js";import{E as O}from"./eye-BNehSfOP.js";const T=()=>{const[a,f]=r.useState({email:"",password:""}),[o,p]=r.useState(!1),[d,m]=r.useState(!1),[i,l]=r.useState(""),[b,j]=r.useState(!1),{actions:y,state:t}=A(),x=E(),u=C(t.user),w=S(),c=new URLSearchParams(w.search).get("next")||"/admin";L.useEffect(()=>{if(console.log("AdminLogin useEffect - Auth state:",{isAuthenticated:t.isAuthenticated,hasUser:!!t.user}),t.isAuthenticated&&t.user){const s=u.canAccessAdminConsole();console.log("AdminLogin useEffect - Can access admin console:",s),s?(console.log("AdminLogin useEffect - Navigating to",c),x(c)):(console.log("AdminLogin useEffect - User lacks admin privileges"),l("Current user does not have administrator privileges. Please login with an admin account."))}},[t.isAuthenticated,t.user,u,x,c]);const v=async s=>{s.preventDefault(),m(!0),l("");try{await y.login(a)}catch(n){l(n instanceof Error?n.message:"Login failed")}finally{m(!1)}},h=(s,n)=>{f(N=>({...N,[s]:n})),i&&l("")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mx-auto h-16 w-16 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(g,{className:"h-8 w-8 text-red-600"})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Console Access"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your administrator account"})]}),e.jsx("form",{className:"mt-8 space-y-6",onSubmit:v,children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 space-y-6",children:[i&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"h-5 w-5 text-red-400 mr-2"}),e.jsx("span",{className:"text-sm text-red-700",children:i})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Administrator Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(R,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a.email,onChange:s=>h("email",s.target.value),className:"pl-10 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"Enter your admin email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(P,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:o?"text":"password",autoComplete:"current-password",required:!0,value:a.password,onChange:s=>h("password",s.target.value),className:"pl-10 pr-10 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"Enter your password"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("button",{type:"button",onClick:()=>p(!o),className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o?e.jsx(U,{className:"h-5 w-5"}):e.jsx(O,{className:"h-5 w-5"})})})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:b,onChange:s=>j(s.target.checked),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me for 30 days"})]}),e.jsx("button",{type:"submit",disabled:d||!a.email||!a.password,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Authenticating..."]}):"Sign In to Admin Console"})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Development Access"}),e.jsxs("div",{className:"space-y-2 text-xs text-blue-800",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Test Credentials:"})," Use gdogra@gmail.com or demo@oncosaferx.com with any password"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Role:"})," Authenticated as Oncologist with admin privileges"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Demo Mode:"})," Use demo@oncosaferx.com / demo123 if VITE_ALLOW_DEMO_LOGIN is enabled"]})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(g,{className:"h-5 w-5 text-yellow-400 mr-2 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-medium",children:"Security Notice"}),e.jsx("p",{className:"mt-1",children:"Admin access is logged and monitored. All administrative actions are recorded for audit purposes."})]})]})}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"OncoSafeRx Admin Console â€¢ Secure Healthcare Analytics Platform"})})]})})};export{T as default};
//# sourceMappingURL=AdminLogin-XizwxtCv.js.map
