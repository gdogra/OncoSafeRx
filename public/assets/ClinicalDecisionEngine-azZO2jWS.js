import{c as G,q as T,r as l,j as e,B as g,Q as B,e as u,I as o,k as p,A as b,d as v,b as N,a as w,Z as E,h as L,T as F}from"./index-Bhw970Mt.js";import{C as n}from"./Card-xxJ0N2iO.js";import{L as A}from"./LoadingSpinner-DmXCsUX4.js";import{S as H}from"./star-CZ330yHD.js";import{D as K}from"./database-DVBy81T8.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],$=G("cpu",O),V=()=>{const{state:C}=T(),{currentPatient:c}=C,[d,y]=l.useState(!1),[a,_]=l.useState([]),[j,k]=l.useState([]),[f,M]=l.useState([]),[x,P]=l.useState("all"),[m,I]=l.useState("all"),S=async()=>{if(!c)return;y(!0),await new Promise(r=>setTimeout(r,2e3));const s=[],t=[],i=[];c.medications?.length>1&&s.push({id:"drug-interaction-1",type:"interaction",priority:"high",title:"Potential Drug-Drug Interaction Detected",description:"QTc prolongation risk with current medication combination",reasoning:"Multiple QTc-prolonging agents may increase risk of torsades de pointes",evidence_level:"A",confidence_score:87,source:"FDA Drug Safety Database + Literature Analysis",action_required:!0,alternatives:["Consider alternative antiemetic","Monitor ECG weekly"],references:["PMID: 12345678","FDA Safety Alert 2023-001"]}),c.genetics?.some(r=>r.metabolizerStatus==="poor"||r.metabolizerStatus==="ultra-rapid")&&s.push({id:"genomic-dosing-1",type:"genomic",priority:"critical",title:"Pharmacogenomic Dosing Adjustment Required",description:"Patient genetic profile indicates altered drug metabolism",reasoning:"CYP2D6 poor metabolizer status requires 50% dose reduction for current medications",evidence_level:"A",confidence_score:95,source:"CPIC Guidelines + PharmGKB Database",action_required:!0,alternatives:["Reduce dose by 50%","Consider alternative drug"],references:["CPIC Guideline 2023","PharmGKB Level 1A Evidence"]}),s.push({id:"monitoring-1",type:"monitoring",priority:"medium",title:"Enhanced Cardiac Monitoring Recommended",description:"Current treatment regimen requires cardiac function surveillance",reasoning:"Cardiotoxic agents in regimen with baseline risk factors present",evidence_level:"B",confidence_score:78,source:"Cardio-Oncology Guidelines",action_required:!1,alternatives:["ECHO every 3 months","Biomarker monitoring"],references:["J Clin Oncol 2023","ASCO Guidelines"]}),t.push({category:"safety",insight:"Patient shows 23% higher risk for severe toxicity based on age, comorbidities, and genetic profile",impact_score:78,data_points:["Age >65","CKD Stage 3","CYP2D6 variant","Prior cardiotoxicity"]},{category:"efficacy",insight:"Current regimen shows 89% probability of achieving partial response or better",impact_score:89,data_points:["Tumor genetics","Prior response","Performance status","Biomarkers"]},{category:"cost",insight:"Alternative biosimilar options could reduce treatment costs by 40% with equivalent efficacy",impact_score:65,data_points:["Insurance coverage","Biosimilar availability","Efficacy equivalence data"]}),i.push({model_name:"Treatment Response Predictor",prediction:"High likelihood of partial response (87% confidence)",probability:.87,risk_factors:["Large tumor burden","Multiple metastases"],protective_factors:["Good performance status","Favorable genetics","Young age"]},{model_name:"Toxicity Risk Model",prediction:"Moderate risk for Grade 3+ toxicity (34% probability)",probability:.34,risk_factors:["Age","Baseline organ function","Comorbidities"],protective_factors:["No prior severe toxicity","Good nutritional status"]}),_(s),k(t),M(i),y(!1)},h=l.useMemo(()=>a.filter(s=>{const t=x==="all"||s.type===x,i=m==="all"||s.priority===m;return t&&i}),[a,x,m]),D=s=>{switch(s){case"critical":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},R=s=>{switch(s){case"critical":return e.jsx(F,{className:"w-4 h-4"});case"high":return e.jsx(v,{className:"w-4 h-4"});case"medium":return e.jsx(L,{className:"w-4 h-4"});case"low":return e.jsx(o,{className:"w-4 h-4"});default:return e.jsx(o,{className:"w-4 h-4"})}},q=s=>{switch(s){case"drug_selection":return e.jsx(N,{className:"w-4 h-4"});case"dosing":return e.jsx(b,{className:"w-4 h-4"});case"monitoring":return e.jsx(p,{className:"w-4 h-4"});case"contraindication":return e.jsx(w,{className:"w-4 h-4"});case"interaction":return e.jsx(E,{className:"w-4 h-4"});case"genomic":return e.jsx(K,{className:"w-4 h-4"});default:return e.jsx(o,{className:"w-4 h-4"})}},z=s=>{switch(s){case"safety":return e.jsx(w,{className:"w-4 h-4"});case"efficacy":return e.jsx(N,{className:"w-4 h-4"});case"cost":return e.jsx(v,{className:"w-4 h-4"});case"quality_of_life":return e.jsx(b,{className:"w-4 h-4"});default:return e.jsx(o,{className:"w-4 h-4"})}};return c?e.jsxs("div",{className:"space-y-6",children:[e.jsx(n,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(g,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Clinical Decision Engine"}),e.jsxs("p",{className:"text-gray-600",children:["Advanced AI analysis for ",c.demographics.firstName," ",c.demographics.lastName]})]})]}),e.jsxs("button",{onClick:S,disabled:d,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:[d?e.jsx(A,{size:"sm"}):e.jsx($,{className:"w-5 h-5"}),e.jsx("span",{children:d?"Analyzing...":"Run AI Analysis"})]})]})}),d&&e.jsx(n,{children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(A,{size:"lg"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Analysis in Progress"}),e.jsx("p",{className:"text-gray-600",children:"Analyzing patient data across multiple clinical databases and AI models..."}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[e.jsx("span",{children:"• Drug interaction screening"}),e.jsx("span",{children:"• Genomic analysis"}),e.jsx("span",{children:"• Safety risk assessment"}),e.jsx("span",{children:"• Efficacy prediction"})]})]})]})}),j.length>0&&e.jsxs(n,{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(B,{className:"w-6 h-6 text-yellow-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI Insights"}),e.jsx(u,{content:"Machine learning insights based on patient data and clinical outcomes database",children:e.jsx(o,{className:"w-4 h-4 text-gray-400"})})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map((s,t)=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gradient-to-br from-white to-gray-50",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[z(s.category),e.jsx("span",{className:"font-medium text-gray-900 capitalize",children:s.category.replace("_"," ")}),e.jsxs("div",{className:"ml-auto flex items-center space-x-1",children:[e.jsx(H,{className:"w-3 h-3 text-yellow-500"}),e.jsxs("span",{className:"text-xs font-medium text-gray-600",children:[s.impact_score,"%"]})]})]}),e.jsx("p",{className:"text-sm text-gray-800 mb-3",children:s.insight}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Key Data Points:"}),s.data_points.slice(0,3).map((i,r)=>e.jsxs("div",{className:"text-xs text-gray-500",children:["• ",i]},r))]})]},t))})]}),f.length>0&&e.jsxs(n,{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(p,{className:"w-6 h-6 text-purple-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Predictive Models"}),e.jsx(u,{content:"AI-powered predictive analytics for treatment outcomes and safety",children:e.jsx(o,{className:"w-4 h-4 text-gray-400"})})]}),e.jsx("div",{className:"space-y-4",children:f.map((s,t)=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.model_name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full",style:{width:`${s.probability*100}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[Math.round(s.probability*100),"%"]})]})]}),e.jsx("p",{className:"text-gray-800 mb-3",children:s.prediction}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-red-600 mb-1",children:"Risk Factors:"}),s.risk_factors.map((i,r)=>e.jsxs("div",{className:"text-sm text-gray-600",children:["• ",i]},r))]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Protective Factors:"}),s.protective_factors.map((i,r)=>e.jsxs("div",{className:"text-sm text-gray-600",children:["• ",i]},r))]})]})]},t))})]}),a.length>0&&e.jsx(n,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:x,onChange:s=>P(s.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"drug_selection",children:"Drug Selection"}),e.jsx("option",{value:"dosing",children:"Dosing"}),e.jsx("option",{value:"monitoring",children:"Monitoring"}),e.jsx("option",{value:"contraindication",children:"Contraindications"}),e.jsx("option",{value:"interaction",children:"Interactions"}),e.jsx("option",{value:"genomic",children:"Genomic"})]}),e.jsxs("select",{value:m,onChange:s=>I(s.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Priorities"}),e.jsx("option",{value:"critical",children:"Critical"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[h.length," recommendation",h.length!==1?"s":""]})]})}),e.jsxs("div",{className:"space-y-4",children:[h.length===0&&a.length===0&&!d&&e.jsx(n,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(g,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-lg font-medium text-gray-500 mb-2",children:"No Analysis Available"}),e.jsx("p",{className:"text-gray-400",children:'Click "Run AI Analysis" to generate clinical recommendations'})]})}),h.map(s=>e.jsx(n,{className:`border-l-4 ${s.priority==="critical"?"border-red-500":s.priority==="high"?"border-orange-500":s.priority==="medium"?"border-yellow-500":"border-blue-500"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[q(s.type),e.jsx("span",{className:"text-sm font-medium text-gray-600 capitalize",children:s.type.replace("_"," ")})]}),e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${D(s.priority)}`,children:[R(s.priority),e.jsx("span",{className:"ml-1 capitalize",children:s.priority})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Confidence:"}),e.jsxs("span",{className:"text-xs font-bold text-blue-600",children:[s.confidence_score,"%"]})]}),e.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${s.evidence_level==="A"?"bg-green-100 text-green-800":s.evidence_level==="B"?"bg-blue-100 text-blue-800":s.evidence_level==="C"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:["Level ",s.evidence_level]})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.title}),e.jsx("p",{className:"text-gray-700 mb-3",children:s.description}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg mb-3",children:[e.jsx("div",{className:"text-sm font-medium text-blue-800 mb-1",children:"AI Reasoning:"}),e.jsx("p",{className:"text-sm text-blue-700",children:s.reasoning})]}),s.alternatives&&s.alternatives.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Recommended Actions:"}),s.alternatives.map((t,i)=>e.jsxs("div",{className:"text-sm text-gray-600",children:["• ",t]},i))]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Source: ",s.source]}),s.references&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"References:"}),s.references.slice(0,2).map((t,i)=>e.jsx("span",{className:"underline cursor-pointer",children:t},i))]})]})]}),s.action_required&&e.jsx("div",{className:"ml-4",children:e.jsx(u,{content:"Action required - review and implement recommendation",children:e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"})})})]})},s.id))]}),a.length>0&&e.jsxs(n,{className:"bg-gray-50",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(p,{className:"w-5 h-5 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Analysis Summary"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.filter(s=>s.priority==="critical").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Critical"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:a.filter(s=>s.priority==="high").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"High Priority"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.filter(s=>s.action_required).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Action Required"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(a.reduce((s,t)=>s+t.confidence_score,0)/a.length),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg. Confidence"})]})]})]})]}):e.jsx(n,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(g,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-500 mb-2",children:"AI Clinical Decision Support"}),e.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Select a patient to access AI-powered clinical recommendations and decision support"})]})})};export{V as default};
//# sourceMappingURL=ClinicalDecisionEngine-azZO2jWS.js.map
