import{r as s,j as t}from"./index-8LC8IQKY.js";import{r as m}from"./index-DthtDp8X.js";function v({anchorId:a,title:x="Quick Tip",description:l,ctaLabel:p="Got it",onCta:b,onClose:r,tone:c="blue"}){const[e,d]=s.useState(null),o=s.useRef(null),u=()=>{try{const i=document.getElementById(a);if(!i){d(null);return}const g=i.getBoundingClientRect();d(g)}catch{d(null)}};s.useLayoutEffect(()=>{u();const i=()=>{o.current&&cancelAnimationFrame(o.current),o.current=requestAnimationFrame(u)};return window.addEventListener("scroll",i,{passive:!0}),window.addEventListener("resize",i),()=>{window.removeEventListener("scroll",i),window.removeEventListener("resize",i),o.current&&cancelAnimationFrame(o.current)}},[a]);const n=s.useMemo(()=>c==="green"?{ring:"#34D399",bg:"#ECFDF5",text:"#065F46",btn:"#10B981"}:{ring:"#60A5FA",bg:"#EFF6FF",text:"#1E40AF",btn:"#2563EB"},[c]),f=e?t.jsxs("div",{style:{position:"fixed",inset:0,zIndex:1e4},children:[t.jsx("div",{onClick:r,style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.45)"}}),t.jsx("div",{style:{position:"absolute",left:Math.max(8,e.left-8),top:Math.max(8,e.top-8),width:e.width+16,height:e.height+16,borderRadius:8,boxShadow:`0 0 0 4px ${n.ring}`,pointerEvents:"none"}}),t.jsxs("div",{style:{position:"absolute",left:Math.min(e.left,window.innerWidth-320),top:e.bottom+12,maxWidth:320,background:n.bg,color:n.text,border:`1px solid ${n.ring}40`,borderRadius:8,padding:12,boxShadow:"0 8px 24px rgba(0,0,0,0.2)"},children:[t.jsx("div",{style:{fontWeight:700,marginBottom:6},children:x}),l&&t.jsx("div",{style:{fontSize:13,lineHeight:1.4,marginBottom:10},children:l}),t.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[t.jsx("button",{onClick:r,style:{fontSize:12,padding:"6px 10px",background:"#fff",border:`1px solid ${n.ring}66`,color:n.text,borderRadius:6},children:"Close"}),t.jsx("button",{onClick:b||r,style:{fontSize:12,padding:"6px 10px",background:n.btn,border:0,color:"#fff",borderRadius:6},children:p})]})]})]}):t.jsxs("div",{style:{position:"fixed",inset:0,zIndex:1e4},children:[t.jsx("div",{onClick:r,style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.45)"}}),t.jsx("div",{style:{position:"absolute",top:"40%",left:"50%",transform:"translate(-50%,-50%)",background:"#fff",padding:16,borderRadius:8},children:"Trying to locate the targetâ€¦"})]});return m.createPortal(f,document.body)}export{v as C};
