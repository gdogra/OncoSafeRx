import{g as Cd,r as Se}from"./index-Bhw970Mt.js";import{r as xd}from"./index-CnyDuYXe.js";const za=Object.prototype.toString;function pt(e){switch(za.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Ue(e,Error)}}function sn(e,t){return za.call(e)===`[object ${t}]`}function ii(e){return sn(e,"ErrorEvent")}function Xi(e){return sn(e,"DOMError")}function Ad(e){return sn(e,"DOMException")}function Ne(e){return sn(e,"String")}function oi(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function ai(e){return e===null||oi(e)||typeof e!="object"&&typeof e!="function"}function St(e){return sn(e,"Object")}function Dr(e){return typeof Event<"u"&&Ue(e,Event)}function Md(e){return typeof Element<"u"&&Ue(e,Element)}function Od(e){return sn(e,"RegExp")}function On(e){return!!(e&&e.then&&typeof e.then=="function")}function Nd(e){return St(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Ga(e){return typeof e=="number"&&e!==e}function Ue(e,t){try{return e instanceof t}catch{return!1}}function qa(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Wt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function us(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let s=Math.max(t-60,0);s<5&&(s=0);let i=Math.min(s+140,r);return i>r-5&&(i=r),i===r&&(s=Math.max(i-140,0)),n=n.slice(s,i),s>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function hr(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{qa(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Dd(e,t,n=!1){return Ne(e)?Od(t)?t.test(e):Ne(t)?n?e===t:e.includes(t):!1:!1}function on(e,t=[],n=!1){return t.some(r=>Dd(e,r,n))}function Ya(e,t,n=250,r,s,i,o){if(!i.exception||!i.exception.values||!o||!Ue(o.originalException,Error))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=Ld(Rs(e,t,s,o.originalException,r,i.exception.values,a,0),n))}function Rs(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(Ue(r[s],Error)){Ji(o,a);const u=e(t,r[s]),l=c.length;Zi(u,s,l,a),c=Rs(e,t,n,r[s],s,[u,...c],u,l)}return Array.isArray(r.errors)&&r.errors.forEach((u,l)=>{if(Ue(u,Error)){Ji(o,a);const d=e(t,u),f=c.length;Zi(d,`errors[${l}]`,f,a),c=Rs(e,t,n,u,s,[d,...c],d,f)}}),c}function Ji(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Zi(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Ld(e,t){return e.map(n=>(n.value&&(n.value=Wt(n.value,t)),n))}function Vn(e){return e&&e.Math==Math?e:void 0}const M=typeof globalThis=="object"&&Vn(globalThis)||typeof window=="object"&&Vn(window)||typeof self=="object"&&Vn(self)||typeof global=="object"&&Vn(global)||(function(){return this})()||{};function ci(){return M}function Va(e,t,n){const r=n||M,s=r.__SENTRY__=r.__SENTRY__||{};return s[e]||(s[e]=t())}const zt=ci(),Pd=80;function et(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||Pd;for(;n&&i++<r&&(u=$d(n,l),!(u==="html"||i>1&&o+s.length*c+u.length>=d));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function $d(e,t){const n=e,r=[];let s,i,o,a,c;if(!n||!n.tagName)return"";if(zt.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const u=t&&t.length?t.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(u&&u.length)u.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&Ne(s))for(i=s.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);const l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)o=l[c],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function Ka(){try{return zt.document.location.href}catch{return""}}function Xa(e){return zt.document&&zt.document.querySelector?zt.document.querySelector(e):null}function Ja(e){if(!zt.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const an=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Fd="Sentry Logger ",mr=["debug","info","warn","error","log","assert","trace"],gr={};function tt(e){if(!("console"in M))return e();const t=M.console,n={},r=Object.keys(gr);r.forEach(s=>{const i=gr[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function Bd(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return an?mr.forEach(n=>{t[n]=(...r)=>{e&&tt(()=>{M.console[n](`${Fd}[${n}]:`,...r)})}}):mr.forEach(n=>{t[n]=()=>{}}),t}const m=Bd(),Hd=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ud(e){return e==="http"||e==="https"}function It(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function Za(e){const t=Hd.exec(e);if(!t){tt(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",i,o="",a]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return Qa({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function Qa(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function jd(e){if(!an)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(m.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?Ud(r)?t&&isNaN(parseInt(t,10))?(m.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(m.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(m.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function ec(e){const t=typeof e=="string"?Za(e):Qa(e);if(!(!t||!jd(t)))return t}class Me extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function ae(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&tc(s,r),e[t]=s}function je(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{an&&m.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function tc(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,je(e,"__sentry_original__",t)}catch{}}function ui(e){return e.__sentry_original__}function Wd(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function nc(e){if(pt(e))return{message:e.message,name:e.name,stack:e.stack,...eo(e)};if(Dr(e)){const t={type:e.type,target:Qi(e.target),currentTarget:Qi(e.currentTarget),...eo(e)};return typeof CustomEvent<"u"&&Ue(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Qi(e){try{return Md(e)?et(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function eo(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function zd(e,t=40){const n=Object.keys(nc(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Wt(n[0],t);for(let r=n.length;r>0;r--){const s=n.slice(0,r).join(", ");if(!(s.length>t))return r===n.length?s:Wt(s,t)}return""}function ce(e){return Cs(e,new Map)}function Cs(e,t){if(Gd(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.keys(e))typeof e[s]<"u"&&(r[s]=Cs(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(Cs(s,t))}),r}return e}function Gd(e){if(!St(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const rc=50,to=/\(error: (.*)\)/,no=/captureMessage|captureException/;function sc(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const s=[],i=n.split(`
`);for(let o=r;o<i.length;o++){const a=i[o];if(a.length>1024)continue;const c=to.test(a)?a.replace(to,"$1"):a;if(!c.match(/\S*Error: /)){for(const u of t){const l=u(c);if(l){s.push(l);break}}if(s.length>=rc)break}}return Yd(s)}}function qd(e){return Array.isArray(e)?sc(...e):e}function Yd(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),no.test(t[t.length-1].function||"")&&(t.pop(),no.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,rc).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}const ls="<anonymous>";function We(e){try{return!e||typeof e!="function"?ls:e.name||ls}catch{return ls}}const ur={},ro={};function wt(e,t){ur[e]=ur[e]||[],ur[e].push(t)}function kt(e,t){ro[e]||(t(),ro[e]=!0)}function Re(e,t){const n=e&&ur[e];if(n)for(const r of n)try{r(t)}catch(s){an&&m.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${We(r)}
Error:`,s)}}function ic(e){const t="console";wt(t,e),kt(t,Vd)}function Vd(){"console"in M&&mr.forEach(function(e){e in M.console&&ae(M.console,e,function(t){return gr[e]=t,function(...n){Re("console",{args:n,level:e});const s=gr[e];s&&s.apply(M.console,n)}})})}function W(){const e=M,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function oc(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Je(e){const{message:t,event_id:n}=e;if(t)return t;const r=oc(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function xs(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function bt(e,t){const n=oc(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s&&s.data,...t.data};n.mechanism.data=i}}function Kd(e,t,n=5){if(t.lineno===void 0)return;const r=e.length,s=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,s-n),s).map(i=>us(i,0)),t.context_line=us(e[Math.min(r-1,s)],t.colno||0),t.post_context=e.slice(Math.min(s+1,r),s+1+n).map(i=>us(i,0))}function so(e){if(e&&e.__sentry_captured__)return!0;try{je(e,"__sentry_captured__",!0)}catch{}return!1}function ac(e){return Array.isArray(e)?e:[e]}const Nt=M,Xd=1e3;let io,As,Ms;function cc(e){wt("dom",e),kt("dom",Jd)}function Jd(){if(!Nt.document)return;const e=Re.bind(null,"dom"),t=oo(e,!0);Nt.document.addEventListener("click",t,!1),Nt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Nt[n]&&Nt[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(ae(r,"addEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[i]=u[i]||{refCount:0};if(!l.handler){const d=oo(e);l.handler=d,s.call(this,i,d,a)}l.refCount++}catch{}return s.call(this,i,o,a)}}),ae(r,"removeEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[i];l&&(l.refCount--,l.refCount<=0&&(s.call(this,i,l.handler,a),l.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return s.call(this,i,o,a)}}))})}function Zd(e){if(e.type!==As)return!1;try{if(!e.target||e.target._sentryId!==Ms)return!1}catch{}return!0}function Qd(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function oo(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=ef(n);if(Qd(n.type,r))return;je(n,"_sentryCaptured",!0),r&&!r._sentryId&&je(r,"_sentryId",W());const s=n.type==="keypress"?"input":n.type;Zd(n)||(e({event:n,name:s,global:t}),As=n.type,Ms=r?r._sentryId:void 0),clearTimeout(io),io=Nt.setTimeout(()=>{Ms=void 0,As=void 0},Xd)}}function ef(e){try{return e.target}catch{return null}}const _r=ci();function uc(){if(!("fetch"in _r))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Os(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function lc(){if(typeof EdgeRuntime=="string")return!0;if(!uc())return!1;if(Os(_r.fetch))return!0;let e=!1;const t=_r.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Os(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){an&&m.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function tf(){return"ReportingObserver"in _r}function Lr(e){const t="fetch";wt(t,e),kt(t,nf)}function nf(){lc()&&ae(M,"fetch",function(e){return function(...t){const{method:n,url:r}=rf(t),s={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Re("fetch",{...s}),e.apply(M,t).then(i=>{const o={...s,endTimestamp:Date.now(),response:i};return Re("fetch",o),i},i=>{const o={...s,endTimestamp:Date.now(),error:i};throw Re("fetch",o),i})}})}function Ns(e,t){return!!e&&typeof e=="object"&&!!e[t]}function ao(e){return typeof e=="string"?e:e?Ns(e,"url")?e.url:e.toString?e.toString():"":""}function rf(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:ao(n),method:Ns(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:ao(t),method:Ns(t,"method")?String(t.method).toUpperCase():"GET"}}let Kn=null;function dc(e){const t="error";wt(t,e),kt(t,sf)}function sf(){Kn=M.onerror,M.onerror=function(e,t,n,r,s){return Re("error",{column:r,error:s,line:n,msg:e,url:t}),Kn&&!Kn.__SENTRY_LOADER__?Kn.apply(this,arguments):!1},M.onerror.__SENTRY_INSTRUMENTED__=!0}let Xn=null;function fc(e){const t="unhandledrejection";wt(t,e),kt(t,of)}function of(){Xn=M.onunhandledrejection,M.onunhandledrejection=function(e){return Re("unhandledrejection",e),Xn&&!Xn.__SENTRY_LOADER__?Xn.apply(this,arguments):!0},M.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Jn=ci();function af(){const e=Jn.chrome,t=e&&e.app&&e.app.runtime,n="history"in Jn&&!!Jn.history.pushState&&!!Jn.history.replaceState;return!t&&n}const mn=M;let Zn;function Nn(e){const t="history";wt(t,e),kt(t,cf)}function cf(){if(!af())return;const e=mn.onpopstate;mn.onpopstate=function(...n){const r=mn.location.href,s=Zn;if(Zn=r,Re("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=Zn,o=String(s);Zn=o,Re("history",{from:i,to:o})}return n.apply(this,r)}}ae(mn.history,"pushState",t),ae(mn.history,"replaceState",t)}const uf=M,Be="__sentry_xhr_v3__";function Pr(e){wt("xhr",e),kt("xhr",lf)}function lf(){if(!uf.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;ae(e,"open",function(t){return function(...n){const r=Date.now(),s=Ne(n[0])?n[0].toUpperCase():void 0,i=df(n[1]);if(!s||!i)return t.apply(this,n);this[Be]={method:s,url:i,request_headers:{}},s==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[Be];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const c={args:[s,i],endTimestamp:Date.now(),startTimestamp:r,xhr:this};Re("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?ae(this,"onreadystatechange",function(a){return function(...c){return o(),a.apply(this,c)}}):this.addEventListener("readystatechange",o),ae(this,"setRequestHeader",function(a){return function(...c){const[u,l]=c,d=this[Be];return d&&Ne(u)&&Ne(l)&&(d.request_headers[u.toLowerCase()]=l),a.apply(this,c)}}),t.apply(this,n)}}),ae(e,"send",function(t){return function(...n){const r=this[Be];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const s={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return Re("xhr",s),t.apply(this,n)}})}function df(e){if(Ne(e))return e;try{return e.toString()}catch{}}function ff(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function pf(){return"npm"}function hf(){return!ff()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Ds(){return typeof window<"u"&&(!hf()||mf())}function mf(){return M.process!==void 0&&M.process.type==="renderer"}function gf(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(s){if(e)return t.has(s)?!0:(t.add(s),!1);for(let i=0;i<t.length;i++)if(t[i]===s)return!0;return t.push(s),!1}function r(s){if(e)t.delete(s);else for(let i=0;i<t.length;i++)if(t[i]===s){t.splice(i,1);break}}return[n,r]}function Ie(e,t=100,n=1/0){try{return Ls("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function pc(e,t=3,n=100*1024){const r=Ie(e,t);return bf(r)>n?pc(e,t-1,n):r}function Ls(e,t,n=1/0,r=1/0,s=gf()){const[i,o]=s;if(t==null||["number","boolean","string"].includes(typeof t)&&!Ga(t))return t;const a=_f(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const p=u.toJSON();return Ls("",p,c-1,r,s)}catch{}const l=Array.isArray(t)?[]:{};let d=0;const f=nc(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(d>=r){l[p]="[MaxProperties ~]";break}const h=f[p];l[p]=Ls(p,h,c-1,r,s),d++}return o(t),l}function _f(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(qa(t))return"[VueViewModel]";if(Nd(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${We(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=yf(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function yf(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function Sf(e){return~-encodeURI(e).split(/%..|./).length}function bf(e){return Sf(JSON.stringify(e))}function Ef(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const s=e[r];s==="."?e.splice(r,1):s===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}const vf=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function Tf(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=vf.exec(t);return n?n.slice(1):[]}function co(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const s=r>=0?e[r]:"/";s&&(t=`${s}/${t}`,n=s.charAt(0)==="/")}return t=Ef(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function uo(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function If(e,t){e=co(e).slice(1),t=co(t).slice(1);const n=uo(e.split("/")),r=uo(t.split("/")),s=Math.min(n.length,r.length);let i=s;for(let a=0;a<s;a++)if(n[a]!==r[a]){i=a;break}let o=[];for(let a=i;a<n.length;a++)o.push("..");return o=o.concat(r.slice(i)),o.join("/")}function wf(e,t){return Tf(e)[2]}var $e;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})($e||($e={}));function Yt(e){return new ge(t=>{t(e)})}function li(e){return new ge((t,n)=>{n(e)})}class ge{constructor(t){ge.prototype.__init.call(this),ge.prototype.__init2.call(this),ge.prototype.__init3.call(this),ge.prototype.__init4.call(this),this._state=$e.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new ge((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new ge((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=t=>{this._setResult($e.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult($e.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===$e.PENDING){if(On(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===$e.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===$e.RESOLVED&&n[1](this._value),this._state===$e.REJECTED&&n[2](this._value),n[0]=!0)})}}}function kf(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]}function s(o){if(!n())return li(new Me("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(o){return new ge((a,c)=>{let u=t.length;if(!u)return a(!0);const l=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(d=>{Yt(d).then(()=>{--u||(clearTimeout(l),a(!0))},c)})})}return{$:t,add:s,drain:i}}function ht(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Rf(e){return e.split(/[\?#]/,1)[0]}function lo(e){return e.split(/\\?\//).filter(t=>t.length>0&&t!==",").length}const Cf=["fatal","error","warning","log","info","debug"];function hc(e){return e==="warn"?"warning":Cf.includes(e)?e:"log"}const mc=1e3;function Dn(){return Date.now()/mc}function xf(){const{performance:e}=M;if(!e||!e.now)return Dn;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/mc}const De=xf(),le=(()=>{const{performance:e}=M;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):t,u=c<t;return i||u?s<=c?e.timeOrigin:o:r})(),Ps="baggage",gc="sentry-",Af=/^sentry-/,Mf=8192;function _c(e){if(!Ne(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((r,s)=>{const i=fo(s);for(const o of Object.keys(i))r[o]=i[o];return r},{});else{if(!e)return;t=fo(e)}const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(Af)){const o=s.slice(gc.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function yc(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${gc}${r}`]=s),n),{});return Of(t)}function fo(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}function Of(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${t},${i}`;return o.length>Mf?(an&&m.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const Nf=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function di(e){if(!e)return;const t=e.match(Nf);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Df(e,t){const n=di(e),r=_c(t),{traceId:s,parentSpanId:i,parentSampled:o}=n||{};return n?{traceparentData:n,dynamicSamplingContext:r||{},propagationContext:{traceId:s||W(),parentSpanId:i||W().substring(16),spanId:W().substring(16),sampled:o,dsc:r||{}}}:{traceparentData:n,dynamicSamplingContext:void 0,propagationContext:{traceId:s||W(),spanId:W().substring(16)}}}function Sc(e,t){const n=di(e),r=_c(t),{traceId:s,parentSpanId:i,parentSampled:o}=n||{};return n?{traceId:s||W(),parentSpanId:i||W().substring(16),spanId:W().substring(16),sampled:o,dsc:r||{}}:{traceId:s||W(),spanId:W().substring(16)}}function fi(e=W(),t=W().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Ge(e,t=[]){return[e,t]}function Lf(e,t){const[n,r]=e;return[n,[...r,t]]}function Vt(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function Pf(e,t){return Vt(e,(n,r)=>t.includes(r))}function $s(e,t){return(t||new TextEncoder).encode(e)}function bc(e,t){const[n,r]=e;let s=JSON.stringify(n);function i(o){typeof s=="string"?s=typeof o=="string"?s+o:[$s(s,t),o]:s.push(typeof o=="string"?$s(o,t):o)}for(const o of r){const[a,c]=o;if(i(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(Ie(c))}i(u)}}return typeof s=="string"?s:$f(s)}function $f(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Ff(e,t,n){let r=typeof e=="string"?t.encode(e):e;function s(c){const u=r.subarray(0,c);return r=r.subarray(c+1),u}function i(){let c=r.indexOf(10);return c<0&&(c=r.length),JSON.parse(n.decode(s(c)))}const o=i(),a=[];for(;r.length;){const c=i(),u=typeof c.length=="number"?c.length:void 0;a.push([c,u?s(u):i()])}return[o,a]}function Bf(e,t){const n=typeof e.data=="string"?$s(e.data,t):e.data;return[ce({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const Hf={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function po(e){return Hf[e]}function pi(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Ec(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:It(r)},...s&&{trace:ce({...s})}}}function Uf(e,t,n){const r=[{type:"client_report"},{timestamp:Dn(),discarded_events:e}];return Ge(t?{dsn:t}:{},[r])}const jf=60*1e3;function vc(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?jf:r-t}function Wf(e,t){return e[t]||e.all||0}function Tc(e,t,n=Date.now()){return Wf(e,t)>n}function Ic(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u,,,l]=a.split(":",5),d=parseInt(c,10),f=(isNaN(d)?60:d)*1e3;if(!u)s.all=r+f;else for(const p of u.split(";"))p==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(s[p]=r+f):s[p]=r+f}else o?s.all=r+vc(o,r):t===429&&(s.all=r+60*1e3);return s}function zf(e,t){return e(t.stack||"",1)}function Gf(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=zf(e,t);return r.length&&(n.stacktrace={frames:r}),n}function qf(e,t){return e??t()}function lr(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}const I=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ln="production";function hi(){return Va("globalEventProcessors",()=>[])}function Yf(e){hi().push(e)}function yr(e,t,n,r=0){return new ge((s,i)=>{const o=e[r];if(t===null||typeof o!="function")s(t);else{const a=o({...t},n);I&&o.id&&a===null&&m.log(`Event processor "${o.id}" dropped event`),On(a)?a.then(c=>yr(e,c,n,r+1).then(s)).then(null,i):yr(e,a,n,r+1).then(s).then(null,i)}})}function wc(e){const t=De(),n={sid:W(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Vf(n)};return e&&Et(n,e),n}function Et(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||De(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:W()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function kc(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Et(e,n)}function Vf(e){return ce({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const Kf=0,Rc=1;function mi(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,tags:a,origin:c}=H(e);return ce({data:r,op:s,parent_span_id:i,span_id:t,status:o,tags:a,trace_id:n,origin:c})}function $r(e){const{traceId:t,spanId:n}=e.spanContext(),r=gi(e);return fi(t,n,r)}function Fr(e){return typeof e=="number"?ho(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?ho(e.getTime()):De()}function ho(e){return e>9999999999?e/1e3:e}function H(e){return Xf(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function Xf(e){return typeof e.getSpanJSON=="function"}function gi(e){const{traceFlags:t}=e.spanContext();return!!(t&Rc)}function _i(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||W(),timestamp:t.timestamp||Dn()},u=n.integrations||e.integrations.map(S=>S.name);Jf(c,e),ep(c,u),t.type===void 0&&Zf(c,e.stackParser);const l=np(r,n.captureContext);n.mechanism&&bt(c,n.mechanism);const d=s&&s.getEventProcessors?s.getEventProcessors():[],f=Mc().getScopeData();if(i){const S=i.getScopeData();So(f,S)}if(l){const S=l.getScopeData();So(f,S)}const p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),Ac(c,f);const h=[...d,...hi(),...f.eventProcessors];return yr(h,c,n).then(S=>(S&&Qf(S),typeof o=="number"&&o>0?tp(S,o,a):S))}function Jf(e,t){const{environment:n,release:r,dist:s,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:Ln),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=Wt(e.message,i));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Wt(o.value,i));const a=e.request;a&&a.url&&(a.url=Wt(a.url,i))}const mo=new WeakMap;function Zf(e,t){const n=M._sentryDebugIds;if(!n)return;let r;const s=mo.get(t);s?r=s:(r=new Map,mo.set(t,r));const i=Object.keys(n).reduce((o,a)=>{let c;const u=r.get(a);u?c=u:(c=t(a),r.set(a,c));for(let l=c.length-1;l>=0;l--){const d=c[l];if(d.filename){o[d.filename]=n[a];break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=i[a.filename])})})}catch{}}function Qf(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:t[r]})})}function ep(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function tp(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:Ie(s.data,t,n)}}))},...e.user&&{user:Ie(e.user,t,n)},...e.contexts&&{contexts:Ie(e.contexts,t,n)},...e.extra&&{extra:Ie(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Ie(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>{const i=H(s).data;return i&&(s.data=Ie(i,t,n)),s})),r}function np(e,t){if(!t)return e;const n=e?e.clone():new He;return n.update(t),n}function rp(e){if(e)return sp(e)?{captureContext:e}:op(e)?{captureContext:e}:e}function sp(e){return e instanceof He||typeof e=="function"}const ip=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function op(e){return Object.keys(e).some(t=>ip.includes(t))}function Pn(e,t){return z().captureException(e,rp(t))}function Fs(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return z().captureMessage(e,n,r)}function Br(e,t){return z().captureEvent(e,t)}function yT(e){z().configureScope(e)}function nt(e,t){z().addBreadcrumb(e,t)}function ap(e,t){z().setContext(e,t)}function ST(e){z().setExtras(e)}function bT(e,t){z().setExtra(e,t)}function ET(e){z().setTags(e)}function vT(e,t){z().setTag(e,t)}function TT(e){z().setUser(e)}function st(...e){const t=z();if(e.length===2){const[n,r]=e;return n?t.withScope(()=>(t.getStackTop().scope=n,r(n))):t.withScope(r)}return t.withScope(e[0])}function IT(e){return Ur(()=>e(Le()))}function go(e,t){return st(n=>(n.setSpan(e),t(n)))}function wT(e,t){return z().startTransaction({...e},t)}async function kT(e){const t=x();return t?t.flush(e):(I&&m.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function RT(e){const t=x();return t?t.close(e):(I&&m.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function CT(){return z().lastEventId()}function x(){return z().getClient()}function xT(){return!!x()}function re(){return z().getScope()}function _o(e){const t=x(),n=Le(),r=re(),{release:s,environment:i=Ln}=t&&t.getOptions()||{},{userAgent:o}=M.navigator||{},a=wc({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession();return c&&c.status==="ok"&&Et(c,{status:"exited"}),Cc(),n.setSession(a),r.setSession(a),a}function Cc(){const e=Le(),t=re(),n=t.getSession()||e.getSession();n&&kc(n),xc(),e.setSession(),t.setSession()}function xc(){const e=Le(),t=re(),n=x(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function yo(e=!1){if(e){Cc();return}xc()}function Kt(e){return e.transaction}function Hr(e,t,n){const r=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=ce({environment:r.environment||Ln,release:r.release,user_segment:i,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",o),o}function Xt(e){const t=x();if(!t)return{};const n=Hr(H(e).trace_id||"",t,re()),r=Kt(e);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:o}=r.metadata;i!=null&&(n.sample_rate=`${i}`);const a=H(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(gi(r)),t.emit&&t.emit("createDsc",n),n}function Ac(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;cp(e,t),r&&dp(e,r),fp(e,n),up(e,s),lp(e,i)}function So(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:f,transactionName:p,span:h}=t;gn(e,"extra",n),gn(e,"tags",r),gn(e,"user",s),gn(e,"contexts",i),gn(e,"sdkProcessingMetadata",a),o&&(e.level=o),p&&(e.transactionName=p),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...f}}function gn(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function cp(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t,c=ce(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const u=ce(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const l=ce(s);l&&Object.keys(l).length&&(e.user={...l,...e.user});const d=ce(i);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),a&&(e.transaction=a)}function up(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function lp(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function dp(e,t){e.contexts={trace:mi(t),...e.contexts};const n=Kt(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Xt(t),...e.sdkProcessingMetadata};const r=H(n).description;r&&(e.tags={transaction:r,...e.tags})}}function fp(e,t){e.fingerprint=e.fingerprint?ac(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}const pp=100;let ds;class He{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=bo()}static clone(t){return t?t.clone():new He}clone(){const t=new He;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Et(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t;if(n instanceof He){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(St(n)){const r=t;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=bo(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:pp;if(r<=0)return this;const s={timestamp:Dn(),...t},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:n,_contexts:r,_tags:s,_extra:i,_user:o,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:d,_transactionName:f,_span:p}=this;return{breadcrumbs:t,attachments:n,contexts:r,tags:s,extra:i,user:o,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:d,transactionName:f,span:p}}applyToEvent(t,n={},r=[]){Ac(t,this.getScopeData());const s=[...r,...hi(),...this._eventProcessors];return yr(s,t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:W();if(!this._client)return m.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:W();if(!this._client)return m.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:W();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(m.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Mc(){return ds||(ds=new He),ds}function bo(){return{traceId:W(),spanId:W().substring(16)}}const Bs="7.120.4",Oc=parseFloat(Bs),hp=100;class Nc{constructor(t,n,r,s=Oc){this._version=s;let i;n?i=n:(i=new He,i.setClient(t));let o;r?o=r:(o=new He,o.setClient(t)),this._stack=[{scope:i}],t&&this.bindClient(t),this._isolationScope=o}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,n.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();let r;try{r=t(n)}catch(s){throw this.popScope(),s}return On(r)?r.then(s=>(this.popScope(),s),s=>{throw this.popScope(),s}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:W(),s=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:s,...n,event_id:r}),r}captureMessage(t,n,r){const s=this._lastEventId=r&&r.event_id?r.event_id:W(),i=new Error(t);return this.getScope().captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s}),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:W();return t.type||(this._lastEventId=r),this.getScope().captureEvent(t,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=hp}=s.getOptions&&s.getOptions()||{};if(o<=0)return;const c={timestamp:Dn(),...t},u=i?tt(()=>i(c,n)):c;u!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,o))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n),this.getIsolationScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n),this.getIsolationScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n),this.getIsolationScope().setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){const n=Eo(this);try{t(this)}finally{Eo(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return I&&m.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const r=this._callExtensionMethod("startTransaction",t,n);return I&&!r&&(this.getClient()?m.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):m.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&kc(r),this._sendSessionUpdate(),n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:s,environment:i=Ln}=r&&r.getOptions()||{},{userAgent:o}=M.navigator||{},a=wc({release:s,environment:i,user:n.getUser(),...o&&{userAgent:o},...t}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&Et(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(t,...n){const s=cn().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[t]=="function")return s.extensions[t].apply(this,n);I&&m.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function cn(){return M.__SENTRY__=M.__SENTRY__||{extensions:{},hub:void 0},M}function Eo(e){const t=cn(),n=Hs(t);return Dc(t,e),n}function z(){const e=cn();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return mp(e)}function Le(){return z().getIsolationScope()}function mp(e=cn()){return(!gp(e)||Hs(e).isOlderThan(Oc))&&Dc(e,new Nc),Hs(e)}function Ur(e,t={}){const n=cn();return n.__SENTRY__&&n.__SENTRY__.acs?n.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function gp(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Hs(e){return Va("hub",()=>new Nc,e)}function Dc(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function ze(e){return(e||z()).getScope().getTransaction()}const AT=di;let vo=!1;function _p(){vo||(vo=!0,dc(Us),fc(Us))}function Us(){const e=ze();if(e){const t="internal_error";I&&m.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}Us.tag="sentry_tracingErrorCallback";var To;(function(e){e.Ok="ok";const n="deadline_exceeded";e.DeadlineExceeded=n;const r="unauthenticated";e.Unauthenticated=r;const s="permission_denied";e.PermissionDenied=s;const i="not_found";e.NotFound=i;const o="resource_exhausted";e.ResourceExhausted=o;const a="invalid_argument";e.InvalidArgument=a;const c="unimplemented";e.Unimplemented=c;const u="unavailable";e.Unavailable=u;const l="internal_error";e.InternalError=l;const d="unknown_error";e.UnknownError=d;const f="cancelled";e.Cancelled=f;const p="already_exists";e.AlreadyExists=p;const h="failed_precondition";e.FailedPrecondition=h;const _="aborted";e.Aborted=_;const S="out_of_range";e.OutOfRange=S;const g="data_loss";e.DataLoss=g})(To||(To={}));function Lc(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}const MT=Lc;function yi(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=Lc(t);n!=="unknown_error"&&e.setStatus(n)}function Si(e,t,n=()=>{}){let r;try{r=e()}catch(s){throw t(s),n(),s}return yp(r,t,n)}function yp(e,t,n){return On(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function un(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=x(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function OT(e,t,n=()=>{},r=()=>{}){const s=z(),i=re(),o=i.getSpan(),a=Wr(e),c=jr(s,{parentSpan:o,spanContext:a,forceTransaction:!1,scope:i});return i.setSpan(c),Si(()=>t(c),u=>{c&&c.setStatus("internal_error"),n(u,c)},()=>{c&&c.end(),i.setSpan(o),r()})}function NT(e,t){const n=Wr(e);return Ur(()=>st(e.scope,r=>{const s=z(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:jr(s,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});return Si(()=>t(a),()=>{if(a){const{status:c}=H(a);(!c||c==="ok")&&a.setStatus("internal_error")}},()=>a&&a.end())}))}function DT(e,t){const n=Wr(e);return Ur(()=>st(e.scope,r=>{const s=z(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:jr(s,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});function c(){a&&a.end()}return Si(()=>t(a,c),()=>{if(a&&a.isRecording()){const{status:u}=H(a);(!u||u==="ok")&&a.setStatus("internal_error")}})}))}function mt(e){if(!un())return;const t=Wr(e),n=z(),r=e.scope?e.scope.getSpan():ln();if(e.onlyIfParent&&!r)return;const o=(e.scope||re()).clone();return jr(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function ln(){return re().getSpan()}const LT=({sentryTrace:e,baggage:t},n)=>{const r=re(),{traceparentData:s,dynamicSamplingContext:i,propagationContext:o}=Df(e,t);r.setPropagationContext(o),I&&s&&m.log(`[Tracing] Continuing trace ${s.traceId}.`);const a={...s,metadata:ce({dynamicSamplingContext:i})};return n?Ur(()=>n(a)):a};function jr(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:s}){if(!un())return;const i=Le();let o;if(t&&!r)o=t.startChild(n);else if(t){const a=Xt(t),{traceId:c,spanId:u}=t.spanContext(),l=gi(t);o=e.startTransaction({traceId:c,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:a,...n.metadata}})}else{const{traceId:a,dsc:c,parentSpanId:u,sampled:l}={...i.getPropagationContext(),...s.getPropagationContext()};o=e.startTransaction({traceId:a,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:c,...n.metadata}})}return s.setSpan(o),Sp(o,s,i),o}function Wr(e){if(e.startTime){const t={...e};return t.startTimestamp=Fr(e.startTime),delete t.startTime,t}return e}const Pc="_sentryScope",$c="_sentryIsolationScope";function Sp(e,t,n){e&&(je(e,$c,n),je(e,Pc,t))}function bp(e){return{scope:e[Pc],isolationScope:e[$c]}}let Sn;function Fc(e){return Sn?Sn.get(e):void 0}function Bc(e){const t=Fc(e);if(!t)return;const n={};for(const[,[r,s]]of t)n[r]||(n[r]=[]),n[r].push(ce(s));return n}function Ep(e,t,n,r,s,i){const o=ln();if(o){const a=Fc(o)||new Map,c=`${e}:${t}@${r}`,u=a.get(i);if(u){const[,l]=u;a.set(i,[c,{min:Math.min(l.min,n),max:Math.max(l.max,n),count:l.count+=1,sum:l.sum+=n,tags:l.tags}])}else a.set(i,[c,{min:n,max:n,count:1,sum:n,tags:s}]);Sn||(Sn=new WeakMap),Sn.set(o,a)}}const ne="sentry.source",Pt="sentry.sample_rate",ke="sentry.op",ye="sentry.origin",vp="profile_id";class Hc{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class zr{constructor(t={}){this._traceId=t.traceId||W(),this._spanId=t.spanId||W().substring(16),this._startTime=t.startTimestamp||De(),this.tags=t.tags?{...t.tags}:{},this.data=t.data?{...t.data}:{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes({[ye]:t.origin||"manual",[ke]:t.op,...t.attributes}),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),t.exclusiveTime!==void 0&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?{...t.measurements}:{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[ke]}set op(t){this.setAttribute(ke,t)}get origin(){return this._attributes[ye]}set origin(t){this.setAttribute(ye,t)}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Rc:Kf}}startChild(t){const n=new zr({...t,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const r=Kt(this);if(n.transaction=r,I&&r){const s=t&&t.op||"< unknown op >",i=H(n).description||"< unknown name >",o=r.spanContext().spanId,a=`[Tracing] Starting '${s}' span on transaction '${i}' (${o}).`;m.log(a),this._logMessage=a}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}setStatus(t){return this._status=t,this}setHttpStatus(t){return yi(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return this._status==="ok"}finish(t){return this.end(t)}end(t){if(this._endTime)return;const n=Kt(this);if(I&&n&&n.spanContext().spanId!==this._spanId){const r=this._logMessage;r&&m.log(r.replace("Starting","Finishing"))}this._endTime=Fr(t)}toTraceparent(){return $r(this)}toContext(){return ce({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return mi(this)}getSpanJSON(){return ce({data:this._getData(),description:this._name,op:this._attributes[ke],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ye],_metrics_summary:Bc(this),profile_id:this._attributes[vp],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:t,_attributes:n}=this,r=Object.keys(t).length>0,s=Object.keys(n).length>0;if(!(!r&&!s))return r&&s?{...t,...n}:r?t:n}}class Uc extends zr{constructor(t,n){super(t),this._contexts={},this._hub=n||z(),this._name=t.name||"",this._metadata={...t.metadata},this._trimEnd=t.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[ne]&&{source:this._attributes[ne]},...this._attributes[Pt]&&{sampleRate:this._attributes[Pt]}}}set metadata(t){this._metadata=t}setName(t,n="custom"){this._name=t,this.setAttribute(ne,n)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new Hc(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this._metadata={...this._metadata,...t}}end(t){const n=Fr(t),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const t=super.toContext();return ce({...t,name:this._name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return Xt(this)}setHub(t){this._hub=t}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(t){if(this._endTime!==void 0)return;this._name||(I&&m.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){I&&m.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(l=>l!==this&&H(l).timestamp):[];if(this._trimEnd&&r.length>0){const l=r.map(d=>H(d).timestamp).filter(Boolean);this._endTime=l.reduce((d,f)=>d>f?d:f)}const{scope:s,isolationScope:i}=bp(this),{metadata:o}=this,{source:a}=o,c={contexts:{...this._contexts,trace:mi(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:s,capturedSpanIsolationScope:i,...ce({dynamicSamplingContext:Xt(this)})},_metrics_summary:Bc(this),...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(I&&m.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),I&&m.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}}const bn={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Tp="finishReason",At=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Ip extends Hc{constructor(t,n,r,s){super(s),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){if(t.spanContext().spanId!==this.transactionSpanId){const n=t.end;t.end=(...r)=>(this._popActivity(t.spanContext().spanId),n.apply(t,r)),H(t).timestamp===void 0&&this._pushActivity(t.spanContext().spanId)}super.add(t)}}class wp extends Uc{constructor(t,n,r=bn.idleTimeout,s=bn.finalTimeout,i=bn.heartbeatInterval,o=!1,a=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=s,this._heartbeatInterval=i,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=At[4],this._autoFinishAllowed=!a,o&&(I&&m.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),n.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=At[3],this.end())},this._finalTimeout)}end(t){const n=Fr(t);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(Tp,this._finishReason),this.spanRecorder){I&&m.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,n);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanContext().spanId===this.spanContext().spanId)return!0;H(r).timestamp||(r.setStatus("cancelled"),r.end(n),I&&m.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const{start_timestamp:s,timestamp:i}=H(r),o=s&&s<n,a=(this._finalTimeout+this._idleTimeout)/1e3,c=i&&s&&i-s<a;if(I){const u=JSON.stringify(r,void 0,2);o?c||m.log("[Tracing] discarding Span since it finished after Transaction final timeout",u):m.log("[Tracing] discarding Span since it happened after Transaction was finished",u)}return o&&c}),I&&m.log("[Tracing] flushing IdleTransaction")}else I&&m.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const n=s=>{this._finished||this._pushActivity(s)},r=s=>{this._finished||this._popActivity(s)};this.spanRecorder=new Ip(n,r,this.spanContext().spanId,t),I&&m.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=At[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(I&&m.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=At[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),I&&m.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,I&&m.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(I&&m.log(`[Tracing] popActivity ${t}`),delete this.activities[t],I&&m.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=De();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=At[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(I&&m.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=At[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){I&&m.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function jc(e,t,n){if(!un(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setAttribute(Pt,Number(e.sampled)),e;let r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setAttribute(Pt,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof t.tracesSampleRate<"u"?(r=t.tracesSampleRate,e.setAttribute(Pt,Number(r))):(r=1,e.setAttribute(Pt,r)),Wc(r)?r?(e.sampled=Math.random()<r,e.sampled?(I&&m.log(`[Tracing] starting ${e.op} transaction - ${H(e).description}`),e):(I&&m.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(I&&m.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(I&&m.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function Wc(e){return Ga(e)||!(typeof e=="number"||typeof e=="boolean")?(I&&m.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?(I&&m.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function kp(){const t=this.getScope().getSpan();return t?{"sentry-trace":$r(t)}:{}}function Rp(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",i=e.instrumenter||"sentry";s!==i&&(I&&m.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${s}\` instrumenter.
The transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),e.sampled=!1);let o=new Uc(e,this);return o=jc(o,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),o.isRecording()&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function Sr(e,t,n,r,s,i,o,a=!1){const c=e.getClient(),u=c&&c.getOptions()||{};let l=new wp(t,e,n,r,o,s,a);return l=jc(l,u,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...i}),l.isRecording()&&l.initSpanRecorder(u._experiments&&u._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",l),l}function zc(){const e=cn();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Rp),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=kp),_p())}function Cp(e,t,n){const r=ze();r&&r.setMeasurement(e,t,n)}function xp(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Ap(e,t,n,r){const s=pi(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:It(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Ge(i,[o])}function Gc(e,t,n,r){const s=pi(n),i=e.type&&e.type!=="replay_event"?e.type:"event";xp(e,n&&n.sdk);const o=Ec(e,s,r,t);return delete e.sdkProcessingMetadata,Ge(o,[[{type:i},e]])}const Mp="7";function qc(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Op(e){return`${qc(e)}${e.projectId}/envelope/`}function Np(e,t){return Wd({sentry_key:e.publicKey,sentry_version:Mp,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Yc(e,t={}){const n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${Op(e)}?${Np(e,r)}`}function Dp(e,t){const n=ec(e);if(!n)return"";const r=`${qc(n)}embed/error-page/`;let s=`dsn=${It(n)}`;for(const i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const o=t.user;if(!o)continue;o.name&&(s+=`&name=${encodeURIComponent(o.name)}`),o.email&&(s+=`&email=${encodeURIComponent(o.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${s}`}const Io=[];function Lp(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function Pp(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=ac(n(t)):r=t;const s=Lp(r),i=Fp(s,o=>o.name==="Debug");if(i!==-1){const[o]=s.splice(i,1);s.push(o)}return s}function $p(e,t){const n={};return t.forEach(r=>{r&&Vc(e,r,n)}),n}function wo(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Vc(e,t,n){if(n[t.name]){I&&m.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Io.indexOf(t.name)===-1&&(t.setupOnce(Yf,z),Io.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=(i,o)=>r(i,o,e);s.id=t.name,e.addEventProcessor(s)}I&&m.log(`Integration installed: ${t.name}`)}function PT(e){const t=x();if(!t||!t.addIntegration){I&&m.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Fp(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function ee(e,t){const n=function(...s){return t(...s)};return n.id=e,n}function Bp(e,t,n,r){const s=Object.entries(ce(r)).sort((i,o)=>i[0].localeCompare(o[0]));return`${e}${t}${n}${s}`}function Hp(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t>>>0}function Up(e){let t="";for(const n of e){const r=Object.entries(n.tags),s=r.length>0?`|#${r.map(([i,o])=>`${i}:${o}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${s}|T${n.timestamp}
`}return t}function jp(e){return e.replace(/[^\w]+/gi,"_")}function Wp(e){return e.replace(/[^\w\-.]+/gi,"_")}function zp(e){return e.replace(/[^\w\-./]+/gi,"")}const Gp=[[`
`,"\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function qp(e){for(const[t,n]of Gp)if(e===t)return n;return e}function Yp(e){return[...e].reduce((t,n)=>t+qp(n),"")}function Vp(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=zp(n);t[r]=Yp(String(e[n]))}return t}function Kp(e,t,n,r){const s={sent_at:new Date().toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(s.dsn=It(t));const i=Xp(e);return Ge(s,[i])}function Xp(e){const t=Up(e);return[{type:"statsd",length:t.length},t]}const ko="Not capturing exception because it's already been captured.";class Jp{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=ec(t.dsn):I&&m.warn("No DSN provided, client will not send events."),this._dsn){const n=Yc(this._dsn,t);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(so(t)){I&&m.log(ko);return}let s=n&&n.event_id;return this._process(this.eventFromException(t,n).then(i=>this._captureEvent(i,n,r)).then(i=>{s=i})),s}captureMessage(t,n,r,s){let i=r&&r.event_id;const o=oi(t)?t:String(t),a=ai(t)?this.eventFromMessage(o,n,r):this.eventFromException(t,r);return this._process(a.then(c=>this._captureEvent(c,r,s)).then(c=>{i=c})),i}captureEvent(t,n,r){if(n&&n.originalException&&so(n.originalException)){I&&m.log(ko);return}let s=n&&n.event_id;const o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,n,o||r).then(a=>{s=a})),s}captureSession(t){typeof t.release!="string"?I&&m.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Et(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):Yt(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return I&&m.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){const n=this._integrations[t.name];Vc(this,t,this._integrations),n||wo(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Gc(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=Lf(r,Bf(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));const s=this._sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=Ap(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${t}:${n}`;I&&m.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}captureAggregateMetrics(t){I&&m.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=Kp(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=$p(this,t),wo(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,n){let r=!1,s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const c of i){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Et(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new ge(n=>{let r=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,t&&r>=t&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s=Le()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),_i(i,t,n,r,this,s).then(a=>{if(a===null)return a;const c={...s.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&c){const{traceId:l,spanId:d,parentSpanId:f,dsc:p}=c;a.contexts={trace:{trace_id:l,span_id:d,parent_span_id:f},...a.contexts};const h=p||Hr(l,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:h,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{if(I){const i=s;i.logLevel==="log"?m.log(i.message):m.warn(i)}})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=Xc(t),a=Kc(t),c=t.type||"error",u=`before send for type \`${c}\``;if(a&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",t),li(new Me(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const l=c==="replay_event"?"replay":c,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",l,t),new Me("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return p;const _=Qp(s,p,n);return Zp(_,u)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",l,t),o){const g=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",g)}throw new Me(`${u} returned \`null\`, will not send event.`,"log")}const h=r&&r.getSession();if(!o&&h&&this._updateSessionFromEvent(h,p),o){const S=p.sdkProcessingMetadata&&p.sdkProcessingMetadata.spanCountBeforeProcessing||0,g=p.spans?p.spans.length:0,y=S-g;y>0&&this.recordDroppedEvent("before_send","span",y)}const _=p.transaction_info;if(o&&_&&p.transaction!==t.transaction){const S="custom";p.transaction_info={..._,source:S}}return this.sendEvent(p,n),p}).then(null,p=>{throw p instanceof Me?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new Me(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{I&&m.error("Error while sending event:",n)});I&&m.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,s]=n.split(":");return{reason:r,category:s,quantity:t[n]}})}}function Zp(e,t){const n=`${t} must return \`null\` or a valid event.`;if(On(e))return e.then(r=>{if(!St(r)&&r!==null)throw new Me(n);return r},r=>{throw new Me(`${t} rejected with ${r}`)});if(!St(e)&&e!==null)throw new Me(n);return e}function Qp(e,t,n){const{beforeSend:r,beforeSendTransaction:s}=e;if(Kc(t)&&r)return r(t,n);if(Xc(t)&&s){if(t.spans){const i=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:i}}return s(t,n)}return t}function Kc(e){return e.type===void 0}function Xc(e){return e.type==="transaction"}function eh(e){const t=x();!t||!t.addEventProcessor||t.addEventProcessor(e)}const Jc="c",Zc="g",bi="s",Qc="d",th=5e3;class nh{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}}class rh{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class sh{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}}class ih{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?Hp(t):t).join(":")}}const oh={[Jc]:nh,[Zc]:rh,[Qc]:sh,[bi]:ih};function ah(e,t){t.debug===!0&&(I?m.enable():tt(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),re().update(t.initialScope);const r=new e(t);ch(r),uh(r)}function ch(e){const n=z().getStackTop();n.client=e,n.scope.setClient(e)}function uh(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}const lh=30;function eu(e,t,n=kf(e.bufferSize||lh)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(Vt(o,(d,f)=>{const p=po(f);if(Tc(r,p)){const h=Ro(d,f);e.recordDroppedEvent("ratelimit_backoff",p,h)}else a.push(d)}),a.length===0)return Yt();const c=Ge(o[0],a),u=d=>{Vt(c,(f,p)=>{const h=Ro(f,p);e.recordDroppedEvent(d,po(p),h)})},l=()=>t({body:bc(c,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&I&&m.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=Ic(r,d),d),d=>{throw u("network_error"),d});return n.add(l).then(d=>d,d=>{if(d instanceof Me)return I&&m.error("Skipped sending event because buffer is full."),u("queue_overflow"),Yt();throw d})}return i.__sentry__baseTransport__=!0,{send:i,flush:s}}function Ro(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}const dh=100,Co=5e3,fh=36e5;function fs(e,t){I&&m.info(`[Offline]: ${e}`,t)}function ph(e){return t=>{const n=e(t),r=t.createStore?t.createStore(t):void 0;let s=Co,i;function o(l,d,f){return Pf(l,["replay_event","replay_recording","client_report"])?!1:t.shouldStore?t.shouldStore(l,d,f):!0}function a(l){r&&(i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;const d=await r.pop();d&&(fs("Attempting to send previously queued event"),u(d).catch(f=>{fs("Failed to retry sending",f)}))},l),typeof i!="number"&&i.unref&&i.unref())}function c(){i||(a(s),s=Math.min(s*2,fh))}async function u(l){try{const d=await n.send(l);let f=dh;if(d){if(d.headers&&d.headers["retry-after"])f=vc(d.headers["retry-after"]);else if((d.statusCode||0)>=400)return d}return a(f),s=Co,d}catch(d){if(r&&await o(l,d,s))return await r.insert(l),c(),fs("Error sending. Event queued",d),{};throw d}}return t.flushAtStartup&&c(),{send:u,flush:l=>n.flush(l)}}}function tu(e,t){let n;return Vt(e,(r,s)=>(t.includes(s)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function hh(e,t){return n=>{const r=e(n);return{...r,send:async s=>{const i=tu(s,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(s)}}}}function mh(e,t){return Ge(t?{...e[0],dsn:t}:e[0],e[1])}function $T(e,t){return n=>{const r=e(n),s=new Map;function i(c,u){const l=u?`${c}:${u}`:c;let d=s.get(l);if(!d){const f=Za(c);if(!f)return;const p=Yc(f,n.tunnel);d=u?hh(e,u)({...n,url:p}):e({...n,url:p}),s.set(l,d)}return[c,d]}async function o(c){function u(f){const p=f&&f.length?f:["event"];return tu(c,p)}const l=t({envelope:c,getEvent:u}).map(f=>typeof f=="string"?i(f,void 0):i(f.dsn,f.release)).filter(f=>!!f);return l.length===0&&l.push(["",r]),(await Promise.all(l.map(([f,p])=>p.send(mh(c,f)))))[0]}async function a(c){const u=[await r.flush(c)];for(const[,l]of s)u.push(await l.flush(c));return u.every(l=>l)}return{send:o,flush:a}}}function gh(e,t){const n={sent_at:new Date().toISOString()};t&&(n.dsn=It(t));const r=e.map(_h);return Ge(n,r)}function _h(e){return[{type:"span"},e]}function nu(e,t){const n=t&&bh(t)?t.getClient():t,r=n&&n.getDsn(),s=n&&n.getOptions().tunnel;return Sh(e,r)||yh(e,s)}function yh(e,t){return t?xo(e)===xo(t):!1}function Sh(e,t){return t?e.includes(t.host):!1}function xo(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function bh(e){return e.getClient!==void 0}function FT(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}function ru(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Bs})),version:Bs}),e._metadata=s}const su=new Map,Ao=new Set;function Eh(e){if(M._sentryModuleMetadata)for(const t of Object.keys(M._sentryModuleMetadata)){const n=M._sentryModuleMetadata[t];if(Ao.has(t))continue;Ao.add(t);const r=e(t);for(const s of r.reverse())if(s.filename){su.set(s.filename,n);break}}}function vh(e,t){return Eh(e),su.get(t)}function Th(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename)continue;const s=vh(e,r.filename);s&&(r.module_metadata=s)}})}catch{}}function Ih(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}const iu="ModuleMetadata",wh=(()=>({name:iu,setupOnce(){},setup(e){typeof e.on=="function"&&e.on("beforeEnvelope",t=>{Vt(t,(n,r)=>{if(r==="event"){const s=Array.isArray(n)?n[1]:void 0;s&&(Ih(s),n[1]=s)}})})},processEvent(e,t,n){const r=n.getOptions().stackParser;return Th(r,e),e}})),kh=wh,BT=ee(iu,kh),Rh=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Ch=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],ou="InboundFilters",xh=((e={})=>({name:ou,setupOnce(){},processEvent(t,n,r){const s=r.getOptions(),i=Mh(e,s);return Oh(t,i)?null:t}})),au=xh,Ah=ee(ou,au);function Mh(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Rh],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Ch],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Oh(e,t){return t.ignoreInternal&&Fh(e)?(I&&m.warn(`Event dropped due to being internal Sentry Error.
Event: ${Je(e)}`),!0):Nh(e,t.ignoreErrors)?(I&&m.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Je(e)}`),!0):Dh(e,t.ignoreTransactions)?(I&&m.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Je(e)}`),!0):Lh(e,t.denyUrls)?(I&&m.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Je(e)}.
Url: ${br(e)}`),!0):Ph(e,t.allowUrls)?!1:(I&&m.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Je(e)}.
Url: ${br(e)}`),!0)}function Nh(e,t){return e.type||!t||!t.length?!1:$h(e).some(n=>on(n,t))}function Dh(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?on(n,t):!1}function Lh(e,t){if(!t||!t.length)return!1;const n=br(e);return n?on(n,t):!1}function Ph(e,t){if(!t||!t.length)return!0;const n=br(e);return n?on(n,t):!0}function $h(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),I&&t.length===0&&m.error(`Could not extract message for event ${Je(e)}`),t}function Fh(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Bh(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function br(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Bh(t):null}catch{return I&&m.error(`Cannot extract url for event ${Je(e)}`),null}}let Mo;const cu="FunctionToString",Oo=new WeakMap,Hh=(()=>({name:cu,setupOnce(){Mo=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=ui(this),n=Oo.has(x())&&t!==void 0?t:this;return Mo.apply(n,e)}}catch{}},setup(e){Oo.set(e,!0)}})),uu=Hh,Uh=ee(cu,uu),jh="cause",Wh=5,lu="LinkedErrors",zh=((e={})=>{const t=e.limit||Wh,n=e.key||jh;return{name:lu,setupOnce(){},preprocessEvent(r,s,i){const o=i.getOptions();Ya(Gf,o.stackParser,o.maxValueLength,n,t,r,s)}}}),Gh=zh,qh=ee(lu,Gh),Yh=Object.freeze(Object.defineProperty({__proto__:null,FunctionToString:Uh,InboundFilters:Ah,LinkedErrors:qh},Symbol.toStringTag,{value:"Module"}));class Vh{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),th)}add(t,n,r,s="none",i={},o=De()){const a=Math.floor(o),c=Wp(n),u=Vp(i),l=jp(s),d=Bp(t,c,l,u);let f=this._buckets.get(d);const p=f&&t===bi?f.metric.weight:0;f?(f.metric.add(r),f.timestamp<a&&(f.timestamp=a)):(f={metric:new oh[t](r),timestamp:a,metricType:t,name:c,unit:l,tags:u},this._buckets.set(d,f));const h=typeof r=="string"?f.metric.weight-p:r;Ep(t,c,h,l,i,d)}flush(){if(this._buckets.size!==0){if(this._client.captureAggregateMetrics){const t=Array.from(this._buckets).map(([,n])=>n);this._client.captureAggregateMetrics(t)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}const du="MetricsAggregator",Kh=(()=>({name:du,setupOnce(){},setup(e){e.metricsAggregator=new Vh(e)}})),fu=Kh,Xh=ee(du,fu);function Gr(e,t,n,r={}){const s=x(),i=re();if(s){if(!s.metricsAggregator){I&&m.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs");return}const{unit:o,tags:a,timestamp:c}=r,{release:u,environment:l}=s.getOptions(),d=i.getTransaction(),f={};u&&(f.release=u),l&&(f.environment=l),d&&(f.transaction=H(d).description||""),I&&m.log(`Adding value of ${n} to ${e} metric ${t}`),s.metricsAggregator.add(e,t,n,o,{...f,...a},c)}}function Jh(e,t=1,n){Gr(Jc,e,t,n)}function Zh(e,t,n){Gr(Qc,e,t,n)}function Qh(e,t,n){Gr(bi,e,t,n)}function em(e,t,n){Gr(Zc,e,t,n)}const HT={increment:Jh,distribution:Zh,set:Qh,gauge:em,MetricsAggregator:Xh,metricsAggregatorIntegration:fu},tm=Yh,P=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,R=M;function pu(){R.document?R.document.addEventListener("visibilitychange",()=>{const e=ze();if(R.document.hidden&&e){const t="cancelled",{op:n,status:r}=H(e);P&&m.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):P&&m.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const $n=(e,t,n)=>{let r,s;return i=>{t.value>=0&&(i||n)&&(s=t.value-(r||0),(s||r===void 0)&&(r=t.value,t.delta=s,e(t)))}},nm=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,rm=()=>{const e=R.performance.timing,t=R.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const r in e)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n},qr=()=>R.__WEB_VITALS_POLYFILL__?R.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||rm()):R.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Ei=()=>{const e=qr();return e&&e.activationStart||0},Fn=(e,t)=>{const n=qr();let r="navigate";return n&&(R.document&&R.document.prerendering||Ei()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:nm(),navigationType:r}},dn=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{t(s.getEntries())});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},Bn=(e,t)=>{const n=r=>{(r.type==="pagehide"||R.document.visibilityState==="hidden")&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};R.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))},sm=(e,t={})=>{const n=Fn("CLS",0);let r,s=0,i=[];const o=c=>{c.forEach(u=>{if(!u.hadRecentInput){const l=i[0],d=i[i.length-1];s&&i.length!==0&&u.startTime-d.startTime<1e3&&u.startTime-l.startTime<5e3?(s+=u.value,i.push(u)):(s=u.value,i=[u]),s>n.value&&(n.value=s,n.entries=i,r&&r())}})},a=dn("layout-shift",o);if(a){r=$n(e,n,t.reportAllChanges);const c=()=>{o(a.takeRecords()),r(!0)};return Bn(c),c}};let Er=-1;const im=()=>{R.document&&R.document.visibilityState&&(Er=R.document.visibilityState==="hidden"&&!R.document.prerendering?0:1/0)},om=()=>{Bn(({timeStamp:e})=>{Er=e},!0)},vi=()=>(Er<0&&(im(),om()),{get firstHiddenTime(){return Er}}),am=e=>{const t=vi(),n=Fn("FID");let r;const s=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},i=a=>{a.forEach(s)},o=dn("first-input",i);r=$n(e,n),o&&Bn(()=>{i(o.takeRecords()),o.disconnect()},!0)};let hu=0,ps=1/0,Qn=0;const cm=e=>{e.forEach(t=>{t.interactionId&&(ps=Math.min(ps,t.interactionId),Qn=Math.max(Qn,t.interactionId),hu=Qn?(Qn-ps)/7+1:0)})};let js;const um=()=>js?hu:performance.interactionCount||0,lm=()=>{"interactionCount"in performance||js||(js=dn("event",cm,{type:"event",buffered:!0,durationThreshold:0}))},mu=()=>um(),No=10,Fe=[],hs={},Do=e=>{const t=Fe[Fe.length-1],n=hs[e.interactionId];if(n||Fe.length<No||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};hs[r.id]=r,Fe.push(r)}Fe.sort((r,s)=>s.latency-r.latency),Fe.splice(No).forEach(r=>{delete hs[r.id]})}},dm=()=>{const e=Math.min(Fe.length-1,Math.floor(mu()/50));return Fe[e]},fm=(e,t)=>{t=t||{},lm();const n=Fn("INP");let r;const s=o=>{o.forEach(c=>{c.interactionId&&Do(c),c.entryType==="first-input"&&!Fe.some(l=>l.entries.some(d=>c.duration===d.duration&&c.startTime===d.startTime))&&Do(c)});const a=dm();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},i=dn("event",s,{durationThreshold:t.durationThreshold||40});r=$n(e,n,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),Bn(()=>{s(i.takeRecords()),n.value<0&&mu()>0&&(n.value=0,n.entries=[]),r(!0)}))},Lo={},pm=e=>{const t=vi(),n=Fn("LCP");let r;const s=o=>{const a=o[o.length-1];if(a){const c=Math.max(a.startTime-Ei(),0);c<t.firstHiddenTime&&(n.value=c,n.entries=[a],r())}},i=dn("largest-contentful-paint",s);if(i){r=$n(e,n);const o=()=>{Lo[n.id]||(s(i.takeRecords()),i.disconnect(),Lo[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{R.document&&addEventListener(a,o,{once:!0,capture:!0})}),Bn(o,!0),o}},Ws=e=>{R.document&&(R.document.prerendering?addEventListener("prerenderingchange",()=>Ws(e),!0):R.document.readyState!=="complete"?addEventListener("load",()=>Ws(e),!0):setTimeout(e,0))},hm=(e,t)=>{t=t||{};const n=Fn("TTFB"),r=$n(e,n,t.reportAllChanges);Ws(()=>{const s=qr();if(s){if(n.value=Math.max(s.responseStart-Ei(),0),n.value<0||n.value>performance.now())return;n.entries=[s],r(!0)}})},En={},vr={};let gu,_u,yu,Su,bu;function mm(e,t=!1){return Hn("cls",e,Sm,gu,t)}function Eu(e,t=!1){return Hn("lcp",e,Em,yu,t)}function gm(e){return Hn("ttfb",e,vm,Su)}function _m(e){return Hn("fid",e,bm,_u)}function ym(e){return Hn("inp",e,Tm,bu)}function rt(e,t){return vu(e,t),vr[e]||(Im(e),vr[e]=!0),Tu(e,t)}function fn(e,t){const n=En[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(s){P&&m.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${We(r)}
Error:`,s)}}function Sm(){return sm(e=>{fn("cls",{metric:e}),gu=e},{reportAllChanges:!0})}function bm(){return am(e=>{fn("fid",{metric:e}),_u=e})}function Em(){return pm(e=>{fn("lcp",{metric:e}),yu=e})}function vm(){return hm(e=>{fn("ttfb",{metric:e}),Su=e})}function Tm(){return fm(e=>{fn("inp",{metric:e}),bu=e})}function Hn(e,t,n,r,s=!1){vu(e,t);let i;return vr[e]||(i=n(),vr[e]=!0),r&&t({metric:r}),Tu(e,t,s?i:void 0)}function Im(e){const t={};e==="event"&&(t.durationThreshold=0),dn(e,n=>{fn(e,{entries:n})},t)}function vu(e,t){En[e]=En[e]||[],En[e].push(t)}function Tu(e,t,n){return()=>{n&&n();const r=En[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function ms(e){return typeof e=="number"&&isFinite(e)}function Jt(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const wm=2147483647;function oe(e){return e/1e3}function Ti(){return R&&R.addEventListener&&R.performance}let Po=0,Q={},xe,vn;function Iu(){const e=Ti();if(e&&le){e.mark&&R.performance.mark("sentry-tracing-init");const t=Cm(),n=km(),r=Rm(),s=xm();return()=>{t(),n(),r(),s()}}return()=>{}}function wu(){rt("longtask",({entries:e})=>{for(const t of e){const n=ze();if(!n)return;const r=oe(le+t.startTime),s=oe(t.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s})}})}function ku(){rt("event",({entries:e})=>{for(const t of e){const n=ze();if(!n)return;if(t.name==="click"){const r=oe(le+t.startTime),s=oe(t.duration),i={description:et(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s},o=Ja(t.target);o&&(i.attributes={"ui.component_name":o}),n.startChild(i)}}})}function Ru(e,t){if(Ti()&&le){const r=Am(e,t);return()=>{r()}}return()=>{}}function km(){return mm(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(P&&m.log("[Measurements] Adding CLS"),Q.cls={value:e.value,unit:""},vn=t)},!0)}function Rm(){return Eu(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(P&&m.log("[Measurements] Adding LCP"),Q.lcp={value:e.value,unit:"millisecond"},xe=t)},!0)}function Cm(){return _m(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=oe(le),r=oe(t.startTime);P&&m.log("[Measurements] Adding FID"),Q.fid={value:e.value,unit:"millisecond"},Q["mark.fid"]={value:n+r,unit:"second"}})}function xm(){return gm(({metric:e})=>{e.entries[e.entries.length-1]&&(P&&m.log("[Measurements] Adding TTFB"),Q.ttfb={value:e.value,unit:"millisecond"})})}const $o={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Am(e,t){return ym(({metric:n})=>{if(n.value===void 0)return;const r=n.entries.find(b=>b.duration===n.value&&$o[b.name]!==void 0),s=x();if(!r||!s)return;const i=$o[r.name],o=s.getOptions(),a=oe(le+r.startTime),c=oe(n.value),u=r.interactionId!==void 0?e[r.interactionId]:void 0;if(u===void 0)return;const{routeName:l,parentContext:d,activeTransaction:f,user:p,replayId:h}=u,_=p!==void 0?p.email||p.id||p.ip_address:void 0,S=f!==void 0?f.getProfileId():void 0,g=new zr({startTimestamp:a,endTimestamp:a+c,op:`ui.interaction.${i}`,name:et(r.target),attributes:{release:o.release,environment:o.environment,transaction:l,..._!==void 0&&_!==""?{user:_}:{},...S!==void 0?{profile_id:S}:{},...h!==void 0?{replay_id:h}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),y=Fm(d,o,t);if(y&&Math.random()<y){const b=g?gh([g],s.getDsn()):void 0,T=s&&s.getTransport();T&&b&&T.send(b).then(null,v=>{P&&m.error("Error while sending interaction:",v)});return}})}function Cu(e){const t=Ti();if(!t||!R.performance.getEntries||!le)return;P&&m.log("[Tracing] Adding & adjusting spans using Performance API");const n=oe(le),r=t.getEntries(),{op:s,start_timestamp:i}=H(e);if(r.slice(Po).forEach(o=>{const a=oe(o.startTime),c=oe(o.duration);if(!(e.op==="navigation"&&i&&n+a<i))switch(o.entryType){case"navigation":{Om(e,o,n);break}case"mark":case"paint":case"measure":{Mm(e,o,a,c,n);const u=vi(),l=o.startTime<u.firstHiddenTime;o.name==="first-paint"&&l&&(P&&m.log("[Measurements] Adding FP"),Q.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&l&&(P&&m.log("[Measurements] Adding FCP"),Q.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{Dm(e,o,o.name,a,c,n);break}}}),Po=Math.max(r.length-1,0),Lm(e),s==="pageload"){$m(Q),["fcp","fp","lcp"].forEach(a=>{if(!Q[a]||!i||n>=i)return;const c=Q[a].value,u=n+oe(c),l=Math.abs((u-i)*1e3),d=l-c;P&&m.log(`[Measurements] Normalized ${a} from ${c} to ${l} (${d})`),Q[a].value=l});const o=Q["mark.fid"];o&&Q.fid&&(Jt(e,{description:"first input delay",endTimestamp:o.value+oe(Q.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete Q["mark.fid"]),"fcp"in Q||delete Q.cls,Object.keys(Q).forEach(a=>{Cp(a,Q[a].value,Q[a].unit)}),Pm(e)}xe=void 0,vn=void 0,Q={}}function Mm(e,t,n,r,s){const i=s+n,o=i+r;return Jt(e,{description:t.name,endTimestamp:o,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i}),i}function Om(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{er(e,t,r,n)}),er(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),er(e,t,"fetch",n,"cache","domainLookupStart"),er(e,t,"domainLookup",n,"DNS"),Nm(e,t,n)}function er(e,t,n,r,s,i){const o=i?t[i]:t[`${n}End`],a=t[`${n}Start`];!a||!o||Jt(e,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+oe(a),endTimestamp:r+oe(o)})}function Nm(e,t,n){t.responseEnd&&(Jt(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+oe(t.requestStart),endTimestamp:n+oe(t.responseEnd)}),Jt(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+oe(t.responseStart),endTimestamp:n+oe(t.responseEnd)}))}function Dm(e,t,n,r,s,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=ht(n),a={};gs(a,t,"transferSize","http.response_transfer_size"),gs(a,t,"encodedBodySize","http.response_content_length"),gs(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(R.location.origin);const c=i+r,u=c+s;Jt(e,{description:n.replace(R.location.origin,""),endTimestamp:u,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:a})}function Lm(e){const t=R.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),ms(n.rtt)&&(Q["connection.rtt"]={value:n.rtt,unit:"millisecond"})),ms(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),ms(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function Pm(e){xe&&(P&&m.log("[Measurements] Adding LCP Data"),xe.element&&e.setTag("lcp.element",et(xe.element)),xe.id&&e.setTag("lcp.id",xe.id),xe.url&&e.setTag("lcp.url",xe.url.trim().slice(0,200)),e.setTag("lcp.size",xe.size)),vn&&vn.sources&&(P&&m.log("[Measurements] Adding CLS Data"),vn.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,et(t.node))))}function gs(e,t,n,r){const s=t[n];s!=null&&s<wm&&(e[r]=s)}function $m(e){const t=qr();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(P&&m.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function Fm(e,t,n){if(!un(t))return!1;let r;return e!==void 0&&typeof t.tracesSampler=="function"?r=t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:R.location}):e!==void 0&&e.sampled!==void 0?r=e.sampled:typeof t.tracesSampleRate<"u"?r=t.tracesSampleRate:r=1,Wc(r)?r===!0?n:r===!1?0:r*n:(P&&m.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}function Bm(e,t,n,r,s="auto.http.browser"){if(!un()||!e.fetchData)return;const i=t(e.fetchData.url);if(e.endTimestamp&&i){const p=e.fetchData.__span;if(!p)return;const h=r[p];h&&(jm(h,e),delete r[p]);return}const o=re(),a=x(),{method:c,url:u}=e.fetchData,l=Um(u),d=l?ht(l).host:void 0,f=i?mt({name:`${c} ${u}`,onlyIfParent:!0,attributes:{url:u,type:"fetch","http.method":c,"http.url":l,"server.address":d,[ye]:s},op:"http.client"}):void 0;if(f&&(e.fetchData.__span=f.spanContext().spanId,r[f.spanContext().spanId]=f),n(e.fetchData.url)&&a){const p=e.args[0];e.args[1]=e.args[1]||{};const h=e.args[1];h.headers=Hm(p,a,o,h,f)}return f}function Hm(e,t,n,r,s){const i=s||n.getSpan(),o=Le(),{traceId:a,spanId:c,sampled:u,dsc:l}={...o.getPropagationContext(),...n.getPropagationContext()},d=i?$r(i):fi(a,c,u),f=yc(l||(i?Xt(i):Hr(a,t,n))),p=r.headers||(typeof Request<"u"&&Ue(e,Request)?e.headers:void 0);if(p)if(typeof Headers<"u"&&Ue(p,Headers)){const h=new Headers(p);return h.append("sentry-trace",d),f&&h.append(Ps,f),h}else if(Array.isArray(p)){const h=[...p,["sentry-trace",d]];return f&&h.push([Ps,f]),h}else{const h="baggage"in p?p.baggage:void 0,_=[];return Array.isArray(h)?_.push(...h):h&&_.push(h),f&&_.push(f),{...p,"sentry-trace":d,baggage:_.length>0?_.join(","):void 0}}else return{"sentry-trace":d,baggage:f}}function Um(e){try{return new URL(e).href}catch{return}}function jm(e,t){if(t.response){yi(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus("internal_error");e.end()}const zs=["localhost",/^\/(?!\/)/],Tr={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:zs,tracePropagationTargets:zs};function xu(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o}={traceFetch:Tr.traceFetch,traceXHR:Tr.traceXHR,...e},a=typeof i=="function"?i:l=>!0,c=l=>qm(l,r||s),u={};t&&Lr(l=>{const d=Bm(l,a,c,u);if(d){const f=Au(l.fetchData.url),p=f?ht(f).host:void 0;d.setAttributes({"http.url":f,"server.address":p})}o&&d&&Fo(d)}),n&&Pr(l=>{const d=Ym(l,a,c,u);o&&d&&Fo(d)})}function Wm(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Fo(e){const{url:t}=H(e).data||{};if(!t||typeof t!="string")return;const n=rt("resource",({entries:r})=>{r.forEach(s=>{Wm(s)&&s.name.endsWith(t)&&(Gm(s).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function zm(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function Ce(e=0){return((le||performance.timeOrigin)+e)/1e3}function Gm(e){const{name:t,version:n}=zm(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),le?[...r,["http.request.redirect_start",Ce(e.redirectStart)],["http.request.fetch_start",Ce(e.fetchStart)],["http.request.domain_lookup_start",Ce(e.domainLookupStart)],["http.request.domain_lookup_end",Ce(e.domainLookupEnd)],["http.request.connect_start",Ce(e.connectStart)],["http.request.secure_connection_start",Ce(e.secureConnectionStart)],["http.request.connection_end",Ce(e.connectEnd)],["http.request.request_start",Ce(e.requestStart)],["http.request.response_start",Ce(e.responseStart)],["http.request.response_end",Ce(e.responseEnd)]]:r}function qm(e,t){return on(e,t||zs)}function Ym(e,t,n,r){const s=e.xhr,i=s&&s[Be];if(!un()||!s||s.__sentry_own_request__||!i)return;const o=t(i.url);if(e.endTimestamp&&o){const p=s.__sentry_xhr_span_id__;if(!p)return;const h=r[p];h&&i.status_code!==void 0&&(yi(h,i.status_code),h.end(),delete r[p]);return}const a=re(),c=Le(),u=Au(i.url),l=u?ht(u).host:void 0,d=o?mt({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":u,url:i.url,"server.address":l,[ye]:"auto.http.browser"},op:"http.client"}):void 0;d&&(s.__sentry_xhr_span_id__=d.spanContext().spanId,r[s.__sentry_xhr_span_id__]=d);const f=x();if(s.setRequestHeader&&n(i.url)&&f){const{traceId:p,spanId:h,sampled:_,dsc:S}={...c.getPropagationContext(),...a.getPropagationContext()},g=d?$r(d):fi(p,h,_),y=yc(S||(d?Xt(d):Hr(p,f,a)));Vm(s,g,y)}return d}function Vm(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(Ps,n)}catch{}}function Au(e){try{return new URL(e,R.location.origin).href}catch{return}}function Km(e,t=!0,n=!0){if(!R||!R.location){P&&m.warn("Could not initialize routing instrumentation due to invalid location");return}let r=R.location.href,s;t&&(s=e({name:R.location.pathname,startTimestamp:le?le/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&Nn(({to:i,from:o})=>{if(o===void 0&&r&&r.indexOf(i)!==-1){r=void 0;return}o!==i&&(r=void 0,s&&(P&&m.log(`[Tracing] Finishing current transaction with op: ${s.op}`),s.end()),s=e({name:R.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}const Xm="BrowserTracing",Jm={...bn,markBackgroundTransactions:!0,routingInstrumentation:Km,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Tr},Bo=10;class UT{constructor(t){this.name=Xm,this._hasSetTracePropagationTargets=!1,zc(),P&&(this._hasSetTracePropagationTargets=!!(t&&(t.tracePropagationTargets||t.tracingOrigins))),this.options={...Jm,...t},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=Iu(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&Ru(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&wu(),this.options._experiments.enableInteractions&&ku(),this._latestRoute={name:void 0,context:void 0}}setupOnce(t,n){this._getCurrentHub=n;const s=n().getClient(),i=s&&s.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:a,startTransactionOnPageLoad:c,markBackgroundTransactions:u,traceFetch:l,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:p,_experiments:h}=this.options,_=i&&i.tracePropagationTargets,S=_||this.options.tracePropagationTargets;P&&this._hasSetTracePropagationTargets&&_&&m.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o(g=>{const y=this._createRouteTransaction(g);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(y,g,n),y},c,a),u&&pu(),h.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),xu({traceFetch:l,traceXHR:d,tracePropagationTargets:S,shouldCreateSpanForRequest:f,enableHTTPTimings:p})}_createRouteTransaction(t){if(!this._getCurrentHub){P&&m.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}const n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:s,finalTimeout:i,heartbeatInterval:o}=this.options,a=t.op==="pageload";let c;if(a){const p=a?Ho("sentry-trace"):"",h=a?Ho("baggage"):void 0,{traceId:_,dsc:S,parentSpanId:g,sampled:y}=Sc(p,h);c={traceId:_,parentSpanId:g,parentSampled:y,...t,metadata:{...t.metadata,dynamicSamplingContext:S},trimEnd:!0}}else c={trimEnd:!0,...t};const u=typeof r=="function"?r(c):c,l=u===void 0?{...c,sampled:!1}:u;l.metadata=l.name!==c.name?{...l.metadata,source:"custom"}:l.metadata,this._latestRoute.name=l.name,this._latestRoute.context=l,l.sampled===!1&&P&&m.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),P&&m.log(`[Tracing] Starting ${l.op} transaction on scope`);const{location:d}=R,f=Sr(n,l,s,i,!0,{location:d},o,a);return a&&R.document&&(R.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(R.document.readyState)&&f.sendAutoFinishSignal()}),["interactive","complete"].includes(R.document.readyState)&&f.sendAutoFinishSignal()),f.registerBeforeFinishCallback(p=>{this._collectWebVitals(),Cu(p)}),f}_registerInteractionListener(){let t;const n=()=>{const{idleTimeout:r,finalTimeout:s,heartbeatInterval:i}=this.options,o="ui.action.click",a=ze();if(a&&a.op&&["navigation","pageload"].includes(a.op)){P&&m.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`);return}if(t&&(t.setFinishReason("interactionInterrupted"),t.end(),t=void 0),!this._getCurrentHub){P&&m.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRoute.name){P&&m.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}const c=this._getCurrentHub(),{location:u}=R,l={name:this._latestRoute.name,op:o,trimEnd:!0,data:{[ne]:this._latestRoute.context?Zm(this._latestRoute.context):"url"}};t=Sr(c,l,r,s,!0,{location:u},i)};["click"].forEach(r=>{R.document&&addEventListener(r,n,{once:!1,capture:!0})})}_registerInpInteractionListener(){const t=({entries:n})=>{const r=x(),s=r!==void 0&&r.getIntegrationByName!==void 0?r.getIntegrationByName("Replay"):void 0,i=s!==void 0?s.getReplayId():void 0,o=ze(),a=re(),c=a!==void 0?a.getUser():void 0;n.forEach(u=>{if(Qm(u)){const l=u.interactionId;if(l===void 0)return;const d=this._interactionIdToRouteNameMapping[l],f=u.duration,p=u.startTime,h=Object.keys(this._interactionIdToRouteNameMapping),_=h.length>0?h.reduce((S,g)=>this._interactionIdToRouteNameMapping[S].duration<this._interactionIdToRouteNameMapping[g].duration?S:g):void 0;if(u.entryType==="first-input"&&h.map(g=>this._interactionIdToRouteNameMapping[g]).some(g=>g.duration===f&&g.startTime===p)||!l)return;if(d)d.duration=Math.max(d.duration,f);else if(h.length<Bo||_===void 0||f>this._interactionIdToRouteNameMapping[_].duration){const S=this._latestRoute.name,g=this._latestRoute.context;S&&g&&(_&&Object.keys(this._interactionIdToRouteNameMapping).length>=Bo&&delete this._interactionIdToRouteNameMapping[_],this._interactionIdToRouteNameMapping[l]={routeName:S,duration:f,parentContext:g,user:c,activeTransaction:o,replayId:i,startTime:p})}}})};rt("event",t),rt("first-input",t)}}function Ho(e){const t=Xa(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function Zm(e){const t=e.attributes&&e.attributes[ne],n=e.data&&e.data[ne],r=e.metadata&&e.metadata.source;return t||n||r}function Qm(e){return"duration"in e}const eg="BrowserTracing",tg={...bn,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Tr},Yr=((e={})=>{const t=P?!!(e.tracePropagationTargets||e.tracingOrigins):!1;zc(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...tg,...e},r=Iu(),s={};n.enableInp&&Ru(s,n.interactionsSampleRate),n.enableLongTask&&wu(),n._experiments.enableInteractions&&ku();const i={name:void 0,context:void 0};function o(a){const c=z(),{beforeStartSpan:u,idleTimeout:l,finalTimeout:d,heartbeatInterval:f}=n,p=a.op==="pageload";let h;if(p){const y=p?Uo("sentry-trace"):"",b=p?Uo("baggage"):void 0,{traceId:T,dsc:v,parentSpanId:E,sampled:A}=Sc(y,b);h={traceId:T,parentSpanId:E,parentSampled:A,...a,metadata:{...a.metadata,dynamicSamplingContext:v},trimEnd:!0}}else h={trimEnd:!0,...a};const _=u?u(h):h;_.metadata=_.name!==h.name?{..._.metadata,source:"custom"}:_.metadata,i.name=_.name,i.context=_,_.sampled===!1&&P&&m.log(`[Tracing] Will not send ${_.op} transaction because of beforeNavigate.`),P&&m.log(`[Tracing] Starting ${_.op} transaction on scope`);const{location:S}=R,g=Sr(c,_,l,d,!0,{location:S},f,p);return p&&R.document&&(R.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(R.document.readyState)&&g.sendAutoFinishSignal()}),["interactive","complete"].includes(R.document.readyState)&&g.sendAutoFinishSignal()),g.registerBeforeFinishCallback(y=>{r(),Cu(y)}),g}return{name:eg,setupOnce:()=>{},afterAllSetup(a){const c=a.getOptions(),{markBackgroundSpan:u,traceFetch:l,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:p,_experiments:h}=n,_=c&&c.tracePropagationTargets,S=_||n.tracePropagationTargets;P&&t&&_&&m.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let g,y=R.location&&R.location.href;if(a.on&&(a.on("startNavigationSpan",b=>{g&&(P&&m.log(`[Tracing] Finishing current transaction with op: ${H(g).op}`),g.end()),g=o({op:"navigation",...b})}),a.on("startPageLoadSpan",b=>{g&&(P&&m.log(`[Tracing] Finishing current transaction with op: ${H(g).op}`),g.end()),g=o({op:"pageload",...b})})),n.instrumentPageLoad&&a.emit&&R.location){const b={name:R.location.pathname,startTimestamp:le?le/1e3:void 0,origin:"auto.pageload.browser",attributes:{[ne]:"url"}};Un(a,b)}n.instrumentNavigation&&a.emit&&R.location&&Nn(({to:b,from:T})=>{if(T===void 0&&y&&y.indexOf(b)!==-1){y=void 0;return}if(T!==b){y=void 0;const v={name:R.location.pathname,origin:"auto.navigation.browser",attributes:{[ne]:"url"}};jn(a,v)}}),u&&pu(),h.enableInteractions&&ng(n,i),n.enableInp&&sg(s,i),xu({traceFetch:l,traceXHR:d,tracePropagationTargets:S,shouldCreateSpanForRequest:f,enableHTTPTimings:p})},options:n}});function Un(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=ln();return(n&&H(n).op)==="pageload"?n:void 0}function jn(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=ln();return(n&&H(n).op)==="navigation"?n:void 0}function Uo(e){const t=Xa(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function ng(e,t){let n;const r=()=>{const{idleTimeout:s,finalTimeout:i,heartbeatInterval:o}=e,a="ui.action.click",c=ze();if(c&&c.op&&["navigation","pageload"].includes(c.op)){P&&m.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name){P&&m.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}const{location:u}=R,l={name:t.name,op:a,trimEnd:!0,data:{[ne]:t.context?ig(t.context):"url"}};n=Sr(z(),l,s,i,!0,{location:u},o)};["click"].forEach(s=>{R.document&&addEventListener(s,r,{once:!1,capture:!0})})}function rg(e){return"duration"in e}const jo=10;function sg(e,t){const n=({entries:r})=>{const s=x(),i=s!==void 0&&s.getIntegrationByName!==void 0?s.getIntegrationByName("Replay"):void 0,o=i!==void 0?i.getReplayId():void 0,a=ze(),c=re(),u=c!==void 0?c.getUser():void 0;r.forEach(l=>{if(rg(l)){const d=l.interactionId;if(d===void 0)return;const f=e[d],p=l.duration,h=l.startTime,_=Object.keys(e),S=_.length>0?_.reduce((g,y)=>e[g].duration<e[y].duration?g:y):void 0;if(l.entryType==="first-input"&&_.map(y=>e[y]).some(y=>y.duration===p&&y.startTime===h)||!d)return;if(f)f.duration=Math.max(f.duration,p);else if(_.length<jo||S===void 0||p>e[S].duration){const g=t.name,y=t.context;g&&y&&(S&&Object.keys(e).length>=jo&&delete e[S],e[d]={routeName:g,duration:p,parentContext:y,user:u,activeTransaction:a,replayId:o,startTime:h})}}})};rt("event",n),rt("first-input",n)}function ig(e){const t=e.attributes&&e.attributes[ne],n=e.data&&e.data[ne],r=e.metadata&&e.metadata.source;return t||n||r}const w=M;let Gs=0;function Mu(){return Gs>0}function og(){Gs++,setTimeout(()=>{Gs--})}function vt(e,t={},n){if(typeof e!="function")return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(ui(e))return e}catch{return e}const r=function(){const s=Array.prototype.slice.call(arguments);try{const i=s.map(o=>vt(o,t));return e.apply(this,i)}catch(i){throw og(),st(o=>{o.addEventProcessor(a=>(t.mechanism&&(xs(a,void 0),bt(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),Pn(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}tc(r,e),je(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const F=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Ou(e,t){const n=Ii(e,t),r={type:t&&t.name,value:lg(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function ag(e,t,n,r){const s=x(),i=s&&s.getOptions().normalizeDepth,o={exception:{values:[{type:Dr(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:pg(t,{isUnhandledRejection:r})}]},extra:{__serialized__:pc(t,i)}};if(n){const a=Ii(e,n);a.length&&(o.exception.values[0].stacktrace={frames:a})}return o}function _s(e,t){return{exception:{values:[Ou(e,t)]}}}function Ii(e,t){const n=t.stacktrace||t.stack||"",r=ug(t);try{return e(n,r)}catch{}return[]}const cg=/Minified React error #\d+;/i;function ug(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(cg.test(e.message))return 1}return 0}function lg(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function dg(e,t,n,r){const s=n&&n.syntheticException||void 0,i=wi(e,t,s,r);return bt(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),Yt(i)}function fg(e,t,n="info",r,s){const i=r&&r.syntheticException||void 0,o=qs(e,t,i,s);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Yt(o)}function wi(e,t,n,r,s){let i;if(ii(t)&&t.error)return _s(e,t.error);if(Xi(t)||Ad(t)){const o=t;if("stack"in t)i=_s(e,t);else{const a=o.name||(Xi(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=qs(e,c,n,r),xs(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return pt(t)?_s(e,t):St(t)||Dr(t)?(i=ag(e,t,n,s),bt(i,{synthetic:!0}),i):(i=qs(e,t,n,r),xs(i,`${t}`),bt(i,{synthetic:!0}),i)}function qs(e,t,n,r){const s={};if(r&&n){const i=Ii(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]})}if(oi(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function pg(e,{isUnhandledRejection:t}){const n=zd(e),r=t?"promise rejection":"exception";return ii(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Dr(e)?`Event \`${hg(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function hg(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function mg(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:It(r)}},i=gg(e);return Ge(s,[i])}function gg(e){return[{type:"user_report"},e]}class _g extends Jp{constructor(t){const n=w.SENTRY_SDK_SOURCE||pf();ru(t,"browser",["browser"],n),super(t),t.sendClientReports&&w.document&&w.document.addEventListener("visibilitychange",()=>{w.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return dg(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return fg(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){F&&m.warn("SDK not enabled, will not capture user feedback.");return}const n=mg(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){F&&m.log("No outcomes to send");return}if(!this._dsn){F&&m.log("No dsn provided, will not send outcomes");return}F&&m.log("Sending outcomes:",t);const n=Uf(t,this._options.tunnel&&It(this._dsn));this._sendEnvelope(n)}}let yn;function yg(){if(yn)return yn;if(Os(w.fetch))return yn=w.fetch.bind(w);const e=w.document;let t=w.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){F&&m.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return yn=t.bind(w)}function Sg(){yn=void 0}function bg(e,t=yg()){let n=0,r=0;function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then(c=>(n-=o,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Sg(),n-=o,r--,li(c)}}return eu(e,s)}const Eg=4;function vg(e){function t(n){return new ge((r,s)=>{const i=new XMLHttpRequest;i.onerror=s,i.onreadystatechange=()=>{i.readyState===Eg&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&i.setRequestHeader(o,e.headers[o]);i.send(n.body)})}return eu(e,t)}const pn="?",Tg=10,Ig=20,wg=30,kg=40,Rg=50;function Wn(e,t,n,r){const s={filename:e,function:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const Cg=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,xg=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ag=e=>{const t=Cg.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const i=xg.exec(t[2]);i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3])}const[r,s]=Nu(t[1]||pn,t[2]);return Wn(s,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},Mg=[wg,Ag],Og=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ng=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Dg=e=>{const t=Og.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=Ng.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||pn;return[s,r]=Nu(s,r),Wn(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Lg=[Rg,Dg],Pg=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,$g=e=>{const t=Pg.exec(e);return t?Wn(t[2],t[1]||pn,+t[3],t[4]?+t[4]:void 0):void 0},Fg=[kg,$g],Bg=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Hg=e=>{const t=Bg.exec(e);return t?Wn(t[2],t[3]||pn,+t[1]):void 0},jT=[Tg,Hg],Ug=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,jg=e=>{const t=Ug.exec(e);return t?Wn(t[5],t[3]||t[4]||pn,+t[1],+t[2]):void 0},WT=[Ig,jg],Wg=[Mg,Lg,Fg],zg=sc(...Wg),Nu=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:pn,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},tr=1024,Du="Breadcrumbs",Gg=((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Du,setupOnce(){},setup(n){t.console&&ic(Kg(n)),t.dom&&cc(Vg(n,t.dom)),t.xhr&&Pr(Xg(n)),t.fetch&&Lr(Jg(n)),t.history&&Nn(Zg(n)),t.sentry&&n.on&&n.on("beforeSendEvent",Yg(n))}}}),Lu=Gg,qg=ee(Du,Lu);function Yg(e){return function(n){x()===e&&nt({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Je(n)},{event:n})}}function Vg(e,t){return function(r){if(x()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>tr&&(F&&m.warn(`\`dom.maxStringLength\` cannot exceed ${tr}, but a value of ${a} was configured. Sentry will use ${tr} instead.`),a=tr),typeof o=="string"&&(o=[o]);try{const u=r.event,l=Qg(u)?u.target:u;s=et(l,{keyAttrs:o,maxStringLength:a}),i=Ja(l)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};i&&(c.data={"ui.component_name":i}),nt(c,{event:r.event,name:r.name,global:r.global})}}function Kg(e){return function(n){if(x()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:hc(n.level),message:hr(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${hr(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;nt(r,{input:n.args,level:n.level})}}function Xg(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[Be];if(!r||!s||!i)return;const{method:o,url:a,status_code:c,body:u}=i,l={method:o,url:a,status_code:c},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s};nt({category:"xhr",data:l,type:"http"},d)}}function Jg(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};nt({category:"fetch",data:i,level:"error",type:"http"},o)}else{const i=n.response,o={...n.fetchData,status_code:i&&i.status},a={input:n.args,response:i,startTimestamp:r,endTimestamp:s};nt({category:"fetch",data:o,type:"http"},a)}}}function Zg(e){return function(n){if(x()!==e)return;let r=n.from,s=n.to;const i=ht(w.location.href);let o=r?ht(r):void 0;const a=ht(s);(!o||!o.path)&&(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),nt({category:"navigation",data:{from:r,to:s}})}}function Qg(e){return!!e&&!!e.target}const Pu="Dedupe",e_=(()=>{let e;return{name:Pu,setupOnce(){},processEvent(t){if(t.type)return t;try{if(n_(t,e))return F&&m.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),$u=e_,t_=ee(Pu,$u);function n_(e,t){return t?!!(r_(e,t)||s_(e,t)):!1}function r_(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Bu(e,t)||!Fu(e,t))}function s_(e,t){const n=Wo(t),r=Wo(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Bu(e,t)||!Fu(e,t))}function Fu(e,t){let n=zo(e),r=zo(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function Bu(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Wo(e){return e.exception&&e.exception.values&&e.exception.values[0]}function zo(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const Hu="GlobalHandlers",i_=((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:Hu,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(a_(n),Go("onerror")),t.onunhandledrejection&&(c_(n),Go("onunhandledrejection"))}}}),Uu=i_,o_=ee(Hu,Uu);function a_(e){dc(t=>{const{stackParser:n,attachStacktrace:r}=Wu();if(x()!==e||Mu())return;const{msg:s,url:i,line:o,column:a,error:c}=t,u=c===void 0&&Ne(s)?d_(s,i,o,a):ju(wi(n,c||s,void 0,r,!1),i,o,a);u.level="error",Br(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function c_(e){fc(t=>{const{stackParser:n,attachStacktrace:r}=Wu();if(x()!==e||Mu())return;const s=u_(t),i=ai(s)?l_(s):wi(n,s,void 0,r,!0);i.level="error",Br(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function u_(e){if(ai(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function l_(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function d_(e,t,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=ii(e)?e.message:e,o="Error";const a=i.match(s);return a&&(o=a[1],i=a[2]),ju({exception:{values:[{type:o,value:i}]}},t,n,r)}function ju(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=Ne(t)&&t.length>0?t:Ka();return c.length===0&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),e}function Go(e){F&&m.log(`Global Handler attached: ${e}`)}function Wu(){const e=x();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const zu="HttpContext",f_=(()=>({name:zu,setupOnce(){},preprocessEvent(e){if(!w.navigator&&!w.location&&!w.document)return;const t=e.request&&e.request.url||w.location&&w.location.href,{referrer:n}=w.document||{},{userAgent:r}=w.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}})),Gu=f_,p_=ee(zu,Gu),h_="cause",m_=5,qu="LinkedErrors",g_=((e={})=>{const t=e.limit||m_,n=e.key||h_;return{name:qu,setupOnce(){},preprocessEvent(r,s,i){const o=i.getOptions();Ya(Ou,o.stackParser,o.maxValueLength,n,t,r,s)}}}),Yu=g_,__=ee(qu,Yu),y_=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Vu="TryCatch",S_=((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:Vu,setupOnce(){t.setTimeout&&ae(w,"setTimeout",qo),t.setInterval&&ae(w,"setInterval",qo),t.requestAnimationFrame&&ae(w,"requestAnimationFrame",E_),t.XMLHttpRequest&&"XMLHttpRequest"in w&&ae(XMLHttpRequest.prototype,"send",v_);const n=t.eventTarget;n&&(Array.isArray(n)?n:y_).forEach(T_)}}}),Ku=S_,b_=ee(Vu,Ku);function qo(e){return function(...t){const n=t[0];return t[0]=vt(n,{mechanism:{data:{function:We(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function E_(e){return function(t){return e.apply(this,[vt(t,{mechanism:{data:{function:"requestAnimationFrame",handler:We(e)},handled:!1,type:"instrument"}})])}}function v_(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&ae(n,s,function(i){const o={mechanism:{data:{function:s,handler:We(i)},handled:!1,type:"instrument"}},a=ui(i);return a&&(o.mechanism.data.handler=We(a)),vt(i,o)})}),e.apply(this,t)}}function T_(e){const t=w,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(ae(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=vt(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:We(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,vt(i,{mechanism:{data:{function:"addEventListener",handler:We(i),target:e},handled:!1,type:"instrument"}}),o])}}),ae(n,"removeEventListener",function(r){return function(s,i,o){const a=i;try{const c=a&&a.__sentry_wrapped__;c&&r.call(this,s,c,o)}catch{}return r.call(this,s,a,o)}}))}const I_=[au(),uu(),Ku(),Lu(),Uu(),Yu(),$u(),Gu()];function w_(e){return[...I_]}function k_(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=w_()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),w.SENTRY_RELEASE&&w.SENTRY_RELEASE.id&&(e.release=w.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:qd(e.stackParser||zg),integrations:Pp(e),transport:e.transport||(uc()?bg:vg)};ah(_g,t),e.autoSessionTracking&&R_()}const Yo=(e={},t=z())=>{if(!w.document){F&&m.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=t.getStackTop(),s=e.dsn||n&&n.getDsn();if(!s){F&&m.error("DSN not configured for showReportDialog call");return}r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const i=w.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=Dp(s,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:o}=e;if(o){const c=u=>{if(u.data==="__sentry_reportdialog_closed__")try{o()}finally{w.removeEventListener("message",c)}};w.addEventListener("message",c)}const a=w.document.head||w.document.body;a?a.appendChild(i):F&&m.error("Not injecting report dialog. No injection point found in HTML")};function zT(){}function GT(e){e()}function qT(e){return vt(e)()}function R_(){if(typeof w.document>"u"){F&&m.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}_o({ignoreDuration:!0}),yo(),Nn(({from:e,to:t})=>{e!==void 0&&e!==t&&(_o({ignoreDuration:!0}),yo())})}function YT(e){const t=x();t&&t.captureUserFeedback(e)}const C_=Object.freeze(Object.defineProperty({__proto__:null,Breadcrumbs:qg,Dedupe:t_,GlobalHandlers:o_,HttpContext:p_,LinkedErrors:__,TryCatch:b_},Symbol.toStringTag,{value:"Module"})),V=M,ki="sentryReplaySession",x_="replay_event",Ri="Unable to send Replay",A_=3e5,M_=9e5,O_=5e3,N_=5500,D_=6e4,L_=5e3,P_=3,Vo=15e4,nr=5e3,$_=3e3,F_=300,Ci=2e7,B_=4999,H_=15e3,Ko=36e5;function U_(e,t){return e??t()}function Ir(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}var ie;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(ie||(ie={}));function j_(e){return e.nodeType===e.ELEMENT_NODE}function Tn(e){const t=Ir([e,"optionalAccess",n=>n.host]);return Ir([t,"optionalAccess",n=>n.shadowRoot])===e}function In(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function W_(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function z_(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function wr(e){try{const t=e.rules||e.cssRules;return t?W_(Array.from(t,Xu).join("")):null}catch{return null}}function Xu(e){let t;if(q_(e))try{t=wr(e.styleSheet)||z_(e)}catch{}else if(Y_(e)&&e.selectorText.includes(":"))return G_(e.cssText);return t||e.cssText}function G_(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function q_(e){return"styleSheet"in e}function Y_(e){return"selectorText"in e}class Ju{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=Ir([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return U_(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function V_(){return new Ju}function Vr({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Rn({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function Zt(e){return e.toLowerCase()}function Ys(e){return e.toUpperCase()}const Xo="__rrweb_original__";function K_(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const i=t.getImageData,o=Xo in i?i[Xo]:i;if(new Uint32Array(o.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function xi(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Zt(t):null}function kr(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}let X_=1;const J_=new RegExp("[^a-z0-9-_:]"),Cn=-2;function Ai(){return X_++}function Z_(e){if(e instanceof HTMLFormElement)return"form";const t=Zt(e.tagName);return J_.test(t)?"div":t}function Q_(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Mt,Jo;const ey=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,ty=/^(?:[a-z+]+:)?\/\//i,ny=/^www\..*/i,ry=/^(data:)([^,]*),(.*)/i;function Rr(e,t){return(e||"").replace(ey,(n,r,s,i,o,a)=>{const c=s||o||a,u=r||i||"";if(!c)return n;if(ty.test(c)||ny.test(c))return`url(${u}${c}${u})`;if(ry.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${Q_(t)+c}${u})`;const l=t.split("/"),d=c.split("/");l.pop();for(const f of d)f!=="."&&(f===".."?l.pop():l.push(f));return`url(${u}${l.join("/")}${u})`})}const sy=/^[^ \t\n\r\u000c]+/,iy=/^[, \t\n\r\u000c]+/;function oy(e,t){if(t.trim()==="")return t;let n=0;function r(i){let o;const a=i.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const s=[];for(;r(iy),!(n>=t.length);){let i=r(sy);if(i.slice(-1)===",")i=$t(e,i.substring(0,i.length-1)),s.push(i);else{let o="";i=$t(e,i);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((i+o).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((i+o).trim());break}else c==="("&&(a=!0);o+=c,n+=1}}}return s.join(", ")}function $t(e,t){if(!t||t.trim()==="")return t;const n=e.createElement("a");return n.href=t,n.href}function ay(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Mi(){const e=document.createElement("a");return e.href="",e.href}function Zu(e,t,n,r,s,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?$t(e,r):n==="srcset"?oy(e,r):n==="style"?Rr(r,Mi()):t==="object"&&n==="data"?$t(e,r):typeof i=="function"?i(n,r,s):r)}function Qu(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function cy(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const i=e.classList[s];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function uy(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function dt(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:dt(e.parentNode,t,n,r+1)}function Ft(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(uy(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Qt(e,t,n,r,s,i){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const u=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=dt(o,Ft(r,s)),c<0)return!0;a=dt(o,Ft(t,n),c>=0?c:1/0)}else{if(a=dt(o,Ft(t,n)),a<0)return!1;c=dt(o,Ft(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function ly(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const a=setTimeout(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{clearTimeout(a),s=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function dy(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const i=setTimeout(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{clearTimeout(i),r=!0,t()})}function fy(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:_,maskInputFn:S,dataURLOptions:g={},inlineImages:y,recordCanvas:b,keepIframeSrcFn:T,newlyAddedElement:v=!1}=t,E=py(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:ie.Document,childNodes:[],compatMode:e.compatMode}:{type:ie.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:ie.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:E};case e.ELEMENT_NODE:return my(e,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:h,maskInputFn:S,dataURLOptions:g,inlineImages:y,recordCanvas:b,keepIframeSrcFn:T,newlyAddedElement:v,rootId:E,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f});case e.TEXT_NODE:return hy(e,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:_,maskInputOptions:h,maskInputFn:S,rootId:E});case e.CDATA_SECTION_NODE:return{type:ie.CDATA,textContent:"",rootId:E};case e.COMMENT_NODE:return{type:ie.Comment,textContent:e.textContent||"",rootId:E};default:return!1}}function py(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function hy(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=t,d=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=d==="STYLE"?!0:void 0,h=d==="SCRIPT"?!0:void 0,_=d==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||Ir([e,"access",g=>g.parentNode,"access",g=>g.sheet,"optionalAccess",g=>g.cssRules])&&(f=wr(e.parentNode.sheet))}catch(g){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${g}`,e)}f=Rr(f,Mi())}h&&(f="SCRIPT_PLACEHOLDER");const S=Qt(e,r,i,s,o,n);if(!p&&!h&&!_&&f&&S&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),_&&f&&(c.textarea||S)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),d==="OPTION"&&f){const g=Vr({type:null,tagName:d,maskInputOptions:c});f=Rn({isMasked:Qt(e,r,i,s,o,g),element:e,value:f,maskInputFn:u})}return{type:ie.Text,textContent:f||"",isStyle:p,rootId:l}}function my(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:_,maskTextClass:S,unmaskTextClass:g,maskTextSelector:y,unmaskTextSelector:b}=t,T=cy(e,r,s,i),v=Z_(e);let E={};const A=e.attributes.length;for(let k=0;k<A;k++){const C=e.attributes[k];C.name&&!Qu(v,C.name,C.value)&&(E[C.name]=Zu(n,v,Zt(C.name),C.value,e,c))}if(v==="link"&&o){const k=Array.from(n.styleSheets).find(L=>L.href===e.href);let C=null;k&&(C=wr(k)),C&&(delete E.rel,delete E.href,E._cssText=Rr(C,k.href))}if(v==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const k=wr(e.sheet);k&&(E._cssText=Rr(k,Mi()))}if(v==="input"||v==="textarea"||v==="select"||v==="option"){const k=e,C=xi(k),L=kr(k,Ys(v),C),K=k.checked;if(C!=="submit"&&C!=="button"&&L){const se=Qt(k,S,y,g,b,Vr({type:C,tagName:Ys(v),maskInputOptions:a}));E.value=Rn({isMasked:se,element:k,value:L,maskInputFn:u})}K&&(E.checked=K)}if(v==="option"&&(e.selected&&!a.select?E.selected=!0:delete E.selected),v==="canvas"&&f){if(e.__context==="2d")K_(e)||(E.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const k=e.toDataURL(l.type,l.quality),C=document.createElement("canvas");C.width=e.width,C.height=e.height;const L=C.toDataURL(l.type,l.quality);k!==L&&(E.rr_dataURL=k)}}if(v==="img"&&d){Mt||(Mt=n.createElement("canvas"),Jo=Mt.getContext("2d"));const k=e,C=k.crossOrigin;k.crossOrigin="anonymous";const L=()=>{k.removeEventListener("load",L);try{Mt.width=k.naturalWidth,Mt.height=k.naturalHeight,Jo.drawImage(k,0,0),E.rr_dataURL=Mt.toDataURL(l.type,l.quality)}catch(K){console.warn(`Cannot inline img src=${k.currentSrc}! Error: ${K}`)}C?E.crossOrigin=C:k.removeAttribute("crossorigin")};k.complete&&k.naturalWidth!==0?L():k.addEventListener("load",L)}if((v==="audio"||v==="video")&&(E.rr_mediaState=e.paused?"paused":"played",E.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(E.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(E.rr_scrollTop=e.scrollTop)),T){const{width:k,height:C}=e.getBoundingClientRect();E={class:E.class,rr_width:`${k}px`,rr_height:`${C}px`}}v==="iframe"&&!p(E.src)&&(e.contentDocument||(E.rr_src=E.src),delete E.src);let O;try{customElements.get(v)&&(O=!0)}catch{}return{type:ie.Element,tagName:v,attributes:E,childNodes:[],isSVG:ay(e)||void 0,needBlock:T,rootId:_,isCustom:O}}function Y(e){return e==null?"":e.toLowerCase()}function gy(e,t){if(t.comment&&e.type===ie.Comment)return!0;if(e.type===ie.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(Y(e.attributes.name).match(/^msapplication-tile(image|color)$/)||Y(e.attributes.name)==="application-name"||Y(e.attributes.rel)==="icon"||Y(e.attributes.rel)==="apple-touch-icon"||Y(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&Y(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Y(e.attributes.property).match(/^(og|twitter|fb):/)||Y(e.attributes.name).match(/^(og|twitter):/)||Y(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(Y(e.attributes.name)==="robots"||Y(e.attributes.name)==="googlebot"||Y(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(Y(e.attributes.name)==="author"||Y(e.attributes.name)==="generator"||Y(e.attributes.name)==="framework"||Y(e.attributes.name)==="publisher"||Y(e.attributes.name)==="progid"||Y(e.attributes.property).match(/^article:/)||Y(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(Y(e.attributes.name)==="google-site-verification"||Y(e.attributes.name)==="yandex-verification"||Y(e.attributes.name)==="csrf-token"||Y(e.attributes.name)==="p:domain_verify"||Y(e.attributes.name)==="verify-v1"||Y(e.attributes.name)==="verification"||Y(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Bt(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:b={},inlineImages:T=!1,recordCanvas:v=!1,onSerialize:E,onIframeLoad:A,iframeLoadTimeout:O=5e3,onStylesheetLoad:k,stylesheetLoadTimeout:C=5e3,keepIframeSrcFn:L=()=>!1,newlyAddedElement:K=!1}=t;let{preserveWhiteSpace:se=!0}=t;const ue=fy(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,dataURLOptions:b,inlineImages:T,recordCanvas:v,keepIframeSrcFn:L,newlyAddedElement:K});if(!ue)return console.warn(e,"not serialized"),null;let me;r.hasNode(e)?me=r.getId(e):gy(ue,y)||!se&&ue.type===ie.Text&&!ue.isStyle&&!ue.textContent.replace(/^\s+|\s+$/gm,"").length?me=Cn:me=Ai();const G=Object.assign(ue,{id:me});if(r.add(e,G),me===Cn)return null;E&&E(e);let be=!f;if(G.type===ie.Element){be=be&&!G.needBlock,delete G.needBlock;const te=e.shadowRoot;te&&In(te)&&(G.isShadowHost=!0)}if((G.type===ie.Document||G.type===ie.Element)&&be){y.headWhitespace&&G.type===ie.Element&&G.tagName==="head"&&(se=!1);const te={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:b,inlineImages:T,recordCanvas:v,preserveWhiteSpace:se,onSerialize:E,onIframeLoad:A,iframeLoadTimeout:O,onStylesheetLoad:k,stylesheetLoadTimeout:C,keepIframeSrcFn:L};for(const he of Array.from(e.childNodes)){const Ee=Bt(he,te);Ee&&G.childNodes.push(Ee)}if(j_(e)&&e.shadowRoot)for(const he of Array.from(e.shadowRoot.childNodes)){const Ee=Bt(he,te);Ee&&(In(e.shadowRoot)&&(Ee.isShadow=!0),G.childNodes.push(Ee))}}return e.parentNode&&Tn(e.parentNode)&&In(e.parentNode)&&(G.isShadow=!0),G.type===ie.Element&&G.tagName==="iframe"&&ly(e,()=>{const te=e.contentDocument;if(te&&A){const he=Bt(te,{doc:te,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:b,inlineImages:T,recordCanvas:v,preserveWhiteSpace:se,onSerialize:E,onIframeLoad:A,iframeLoadTimeout:O,onStylesheetLoad:k,stylesheetLoadTimeout:C,keepIframeSrcFn:L});he&&A(e,he)}},O),G.type===ie.Element&&G.tagName==="link"&&G.attributes.rel==="stylesheet"&&dy(e,()=>{if(k){const te=Bt(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:b,inlineImages:T,recordCanvas:v,preserveWhiteSpace:se,onSerialize:E,onIframeLoad:A,iframeLoadTimeout:O,onStylesheetLoad:k,stylesheetLoadTimeout:C,keepIframeSrcFn:L});te&&k(e,te)}},C),G}function _y(e,t){const{mirror:n=new Ju,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOM:y=!1,dataURLOptions:b,preserveWhiteSpace:T,onSerialize:v,onIframeLoad:E,iframeLoadTimeout:A,onStylesheetLoad:O,stylesheetLoadTimeout:k,keepIframeSrcFn:C=()=>!1}=t||{};return Bt(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:y==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:y===!1?{}:y,dataURLOptions:b,inlineImages:f,recordCanvas:p,preserveWhiteSpace:T,onSerialize:v,onIframeLoad:E,iframeLoadTimeout:A,onStylesheetLoad:O,stylesheetLoadTimeout:k,keepIframeSrcFn:C,newlyAddedElement:!1})}function Ye(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}function pe(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Dt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Zo={map:{},getId(){return console.error(Dt),-1},getNode(){return console.error(Dt),null},removeNodeFromMap(){console.error(Dt)},has(){return console.error(Dt),!1},reset(){console.error(Dt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Zo=new Proxy(Zo,{get(e,t,n){return t==="map"&&console.error(Dt),Reflect.get(e,t,n)}}));function xn(e,t,n={}){let r=null,s=0;return function(...i){const o=Date.now();!s&&n.leading===!1&&(s=o);const a=t-(o-s),c=this;a<=0||a>t?(r&&(Iy(r),r=null),s=o,e.apply(c,i)):!r&&n.trailing!==!1&&(r=Kr(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function el(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(o){Kr(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>el(e,t,i||{},!0)}function Oi(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let Cr=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Cr=()=>new Date().getTime());function tl(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:Ye([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||Ye([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||Ye([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:Ye([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||Ye([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||Ye([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function nl(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function rl(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function sl(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function we(e,t,n,r,s){if(!e)return!1;const i=sl(e);if(!i)return!1;const o=Ft(t,n);if(!s){const u=r&&i.matches(r);return o(i)&&!u}const a=dt(i,o);let c=-1;return a<0?!1:(r&&(c=dt(i,Ft(null,r))),a>-1&&c<0?!0:a<c)}function yy(e,t){return t.getId(e)!==-1}function ys(e,t){return t.getId(e)===Cn}function il(e,t){if(Tn(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?il(e.parentNode,t):!0:!0}function Vs(e){return!!e.changedTouches}function Sy(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function ol(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function al(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Ks(e){return!!Ye([e,"optionalAccess",t=>t.shadowRoot])}class by{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return qf(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function cl(e){let t=null;return Ye([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function Ey(e){let t=e,n;for(;n=cl(t);)t=n;return t}function vy(e){const t=e.ownerDocument;if(!t)return!1;const n=Ey(e);return t.contains(n)}function ul(e){const t=e.ownerDocument;return t?t.contains(e)||vy(e):!1}const Qo={};function Ni(e){const t=Qo[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return Qo[e]=r.bind(window)}function Ty(...e){return Ni("requestAnimationFrame")(...e)}function Kr(...e){return Ni("setTimeout")(...e)}function Iy(...e){return Ni("clearTimeout")(...e)}var N=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(N||{}),D=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(D||{}),de=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(de||{}),Pe=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Pe||{});function wy(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}function ea(e){return"__ln"in e}class ky{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=wy([n,"optionalAccess",s=>s.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&ea(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&ea(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const ta=(e,t)=>`${e}@${t}`;class Ry{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new ky,s=c=>{let u=c,l=Cn;for(;l===Cn;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},i=c=>{if(!c.parentNode||!ul(c))return;const u=Tn(c.parentNode)?this.mirror.getId(cl(c)):this.mirror.getId(c.parentNode),l=s(c);if(u===-1||l===-1)return r.addNode(c);const d=Bt(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{ol(f,this.mirror)&&this.iframeManager.addIframe(f),al(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Ks(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{this.iframeManager.attachIframe(f,p),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});d&&(t.push({parentId:u,nextId:l,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)na(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(const c of this.addedSet)!ra(this.droppedSet,c)&&!na(this.removes,c,this.mirror)||ra(this.movedSet,c)?i(c):this.droppedSet.add(c);let o=null;for(;r.length;){let c=null;if(o){const u=this.mirror.getId(o.value.parentNode),l=s(o.value);u!==-1&&l!==-1&&(c=o)}if(!c){let u=r.tail;for(;u;){const l=u;if(u=u.previous,l){const d=this.mirror.getId(l.value.parentNode);if(s(l.value)===-1)continue;if(d!==-1){c=l;break}else{const p=l.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=p.parentNode.host;if(this.mirror.getId(h)!==-1){c=l;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}o=c.previous,r.removeNode(c.value),i(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const l=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+d).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!ys(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!we(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Qt(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,sl(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const o=xi(n),a=n.tagName;s=kr(n,a,o);const c=Vr({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),u=Qt(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=Rn({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(we(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!n.contentDocument)r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Qu(n.tagName,r)&&(i.attributes[r]=Zu(this.doc,Zt(n.tagName),Zt(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==o.style.getPropertyValue(a)||u!==o.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(we(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=Tn(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);we(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||ys(n,this.mirror)||!yy(n,this.mirror)||(this.addedSet.has(n)?(Xs(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||il(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[ta(r,s)]?Xs(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:Tn(t.target)&&In(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(ys(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[ta(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);we(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Ks(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Xs(e,t){e.delete(t),t.childNodes.forEach(n=>Xs(e,n))}function na(e,t,n){return e.length===0?!1:ll(e,t,n)}function ll(e,t,n){const{parentNode:r}=t;if(!r)return!1;const s=n.getId(r);return e.some(i=>i.id===s)?!0:ll(e,r,n)}function ra(e,t){return e.size===0?!1:dl(e,t)}function dl(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:dl(e,n):!1}let wn;function Cy(e){wn=e}function xy(){wn=void 0}const $=e=>wn?((...n)=>{try{return e(...n)}catch(r){if(wn&&wn(r)===!0)return()=>{};throw r}}):e;function Ae(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}const Ht=[];function zn(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function fl(e,t){const n=new Ry;Ht.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=Ae([window,"optionalAccess",o=>o.Zone,"optionalAccess",o=>o.__symbol__,"optionalCall",o=>o("MutationObserver")]);s&&window[s]&&(r=window[s]);const i=new r($(o=>{e.onMutation&&e.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Ay({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const c=xn($(d=>{const f=Date.now()-a;e(o.map(p=>(p.timeOffset-=f,p)),d),o=[],a=null}),i),u=$(xn($(d=>{const f=zn(d),{clientX:p,clientY:h}=Vs(d)?d.changedTouches[0]:d;a||(a=Cr()),o.push({x:p,y:h,id:r.getId(f),timeOffset:Cr()-a}),c(typeof DragEvent<"u"&&d instanceof DragEvent?D.Drag:d instanceof MouseEvent?D.MouseMove:D.TouchMove)}),s,{trailing:!1})),l=[pe("mousemove",u,n),pe("touchmove",u,n),pe("drag",u,n)];return $(()=>{l.forEach(d=>d())})}function My({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[];let u=null;const l=d=>f=>{const p=zn(f);if(we(p,r,s,i,!0))return;let h=null,_=d;if("pointerType"in f){switch(f.pointerType){case"mouse":h=Pe.Mouse;break;case"touch":h=Pe.Touch;break;case"pen":h=Pe.Pen;break}h===Pe.Touch?de[d]===de.MouseDown?_="TouchStart":de[d]===de.MouseUp&&(_="TouchEnd"):Pe.Pen}else Vs(f)&&(h=Pe.Touch);h!==null?(u=h,(_.startsWith("Touch")&&h===Pe.Touch||_.startsWith("Mouse")&&h===Pe.Mouse)&&(h=null)):de[d]===de.Click&&(h=u,u=null);const S=Vs(f)?f.changedTouches[0]:f;if(!S)return;const g=n.getId(p),{clientX:y,clientY:b}=S;$(e)({type:de[_],id:g,x:y,y:b,...h!==null&&{pointerType:h}})};return Object.keys(de).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let f=Zt(d);const p=l(d);if(window.PointerEvent)switch(de[d]){case de.MouseDown:case de.MouseUp:f=f.replace("mouse","pointer");break;case de.TouchStart:case de.TouchEnd:return}c.push(pe(f,p,t))}),$(()=>{c.forEach(d=>d())})}function pl({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){const a=$(xn($(c=>{const u=zn(c);if(!u||we(u,r,s,i,!0))return;const l=n.getId(u);if(u===t&&t.defaultView){const d=tl(t.defaultView);e({id:l,x:d.left,y:d.top})}else e({id:l,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return pe("scroll",a,t)}function Oy({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=$(xn($(()=>{const i=nl(),o=rl();(n!==i||r!==o)&&(e({width:Number(o),height:Number(i)}),n=i,r=o)}),200));return pe("resize",s,t)}const Ny=["INPUT","TEXTAREA","SELECT"],sa=new WeakMap;function Dy({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:_}){function S(A){let O=zn(A);const k=A.isTrusted,C=O&&Ys(O.tagName);if(C==="OPTION"&&(O=O.parentElement),!O||!C||Ny.indexOf(C)<0||we(O,r,s,i,!0))return;const L=O;if(L.classList.contains(o)||a&&L.matches(a))return;const K=xi(O);let se=kr(L,C,K),ue=!1;const me=Vr({maskInputOptions:c,tagName:C,type:K}),G=Qt(O,f,h,p,_,me);(K==="radio"||K==="checkbox")&&(ue=O.checked),se=Rn({isMasked:G,element:O,value:se,maskInputFn:u}),g(O,d?{text:se,isChecked:ue,userTriggered:k}:{text:se,isChecked:ue});const be=O.name;K==="radio"&&be&&ue&&t.querySelectorAll(`input[type="radio"][name="${be}"]`).forEach(te=>{if(te!==O){const he=Rn({isMasked:G,element:te,value:kr(te,C,K),maskInputFn:u});g(te,d?{text:he,isChecked:!ue,userTriggered:!1}:{text:he,isChecked:!ue})}})}function g(A,O){const k=sa.get(A);if(!k||k.text!==O.text||k.isChecked!==O.isChecked){sa.set(A,O);const C=n.getId(A);$(e)({...O,id:C})}}const b=(l.input==="last"?["change"]:["input","change"]).map(A=>pe(A,$(S),t)),T=t.defaultView;if(!T)return()=>{b.forEach(A=>A())};const v=T.Object.getOwnPropertyDescriptor(T.HTMLInputElement.prototype,"value"),E=[[T.HTMLInputElement.prototype,"value"],[T.HTMLInputElement.prototype,"checked"],[T.HTMLSelectElement.prototype,"value"],[T.HTMLTextAreaElement.prototype,"value"],[T.HTMLSelectElement.prototype,"selectedIndex"],[T.HTMLOptionElement.prototype,"selected"]];return v&&v.set&&b.push(...E.map(A=>el(A[0],A[1],{set(){$(S)({target:this,isTrusted:!1})}},!1,T))),$(()=>{b.forEach(A=>A())})}function xr(e){const t=[];function n(r,s){if(rr("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||rr("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||rr("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||rr("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(o)}return s}return n(e,t)}function Ve(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function Ly({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:$((l,d,f)=>{const[p,h]=f,{id:_,styleId:S}=Ve(d,t,n.styleMirror);return(_&&_!==-1||S&&S!==-1)&&e({id:_,styleId:S,adds:[{rule:p,index:h}]}),l.apply(d,f)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:$((l,d,f)=>{const[p]=f,{id:h,styleId:_}=Ve(d,t,n.styleMirror);return(h&&h!==-1||_&&_!==-1)&&e({id:h,styleId:_,removes:[{index:p}]}),l.apply(d,f)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:$((l,d,f)=>{const[p]=f,{id:h,styleId:_}=Ve(d,t,n.styleMirror);return(h&&h!==-1||_&&_!==-1)&&e({id:h,styleId:_,replace:p}),l.apply(d,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:$((l,d,f)=>{const[p]=f,{id:h,styleId:_}=Ve(d,t,n.styleMirror);return(h&&h!==-1||_&&_!==-1)&&e({id:h,styleId:_,replaceSync:p}),l.apply(d,f)})}));const c={};sr("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(sr("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),sr("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),sr("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([l,d])=>{u[l]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[l].insertRule,{apply:$((f,p,h)=>{const[_,S]=h,{id:g,styleId:y}=Ve(p.parentStyleSheet,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,adds:[{rule:_,index:[...xr(p),S||0]}]}),f.apply(p,h)})}),d.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:$((f,p,h)=>{const[_]=h,{id:S,styleId:g}=Ve(p.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||g&&g!==-1)&&e({id:S,styleId:g,removes:[{index:[...xr(p),_]}]}),f.apply(p,h)})})}),$(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([l,d])=>{d.prototype.insertRule=u[l].insertRule,d.prototype.deleteRule=u[l].deleteRule})})}function hl({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?Ae([n,"access",o=>o.defaultView,"optionalAccess",o=>o.Document]):Ae([n,"access",o=>o.ownerDocument,"optionalAccess",o=>o.defaultView,"optionalAccess",o=>o.ShadowRoot]),i=Ae([s,"optionalAccess",o=>o.prototype])?Object.getOwnPropertyDescriptor(Ae([s,"optionalAccess",o=>o.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return Ae([i,"access",o=>o.get,"optionalAccess",o=>o.call,"call",o=>o(this)])},set(o){const a=Ae([i,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,o)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(o,r)}catch{}return a}}),$(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function Py({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:$((a,c,u)=>{const[l,d,f]=u;if(n.has(l))return i.apply(c,[l,d,f]);const{id:p,styleId:h}=Ve(Ae([c,"access",_=>_.parentRule,"optionalAccess",_=>_.parentStyleSheet]),t,r.styleMirror);return(p&&p!==-1||h&&h!==-1)&&e({id:p,styleId:h,set:{property:l,value:d,priority:f},index:xr(c.parentRule)}),a.apply(c,u)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:$((a,c,u)=>{const[l]=u;if(n.has(l))return o.apply(c,[l]);const{id:d,styleId:f}=Ve(Ae([c,"access",p=>p.parentRule,"optionalAccess",p=>p.parentStyleSheet]),t,r.styleMirror);return(d&&d!==-1||f&&f!==-1)&&e({id:d,styleId:f,remove:{property:l},index:xr(c.parentRule)}),a.apply(c,u)})}),$(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}function $y({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=$(u=>xn($(l=>{const d=zn(l);if(!d||we(d,t,n,r,!0))return;const{currentTime:f,volume:p,muted:h,playbackRate:_}=d;e({type:u,id:s.getId(d),currentTime:f,volume:p,muted:h,playbackRate:_})}),i.media||500)),c=[pe("play",a(0),o),pe("pause",a(1),o),pe("seeked",a(2),o),pe("volumechange",a(3),o),pe("ratechange",a(4),o)];return $(()=>{c.forEach(u=>u())})}function Fy({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,l){const d=new i(c,u,l);return s.set(d,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const o=Oi(t.fonts,"add",function(a){return function(c){return Kr($(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(o),$(()=>{r.forEach(a=>a())})}function By(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=e;let a=!0;const c=$(()=>{const u=t.getSelection();if(!u||a&&Ae([u,"optionalAccess",f=>f.isCollapsed]))return;a=u.isCollapsed||!1;const l=[],d=u.rangeCount||0;for(let f=0;f<d;f++){const p=u.getRangeAt(f),{startContainer:h,startOffset:_,endContainer:S,endOffset:g}=p;we(h,r,s,i,!0)||we(S,r,s,i,!0)||l.push({start:n.getId(h),startOffset:_,end:n.getId(S),endOffset:g})}o({ranges:l})});return c(),pe("selectionchange",c)}function Hy({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Oi(n.customElements,"define",function(s){return function(i,o,a){try{t({define:{name:i}})}catch{}return s.apply(this,[i,o,a])}})}function Uy(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const r=fl(e,e.doc),s=Ay(e),i=My(e),o=pl(e),a=Oy(e,{win:n}),c=Dy(e),u=$y(e),l=Ly(e,{win:n}),d=hl(e,e.doc),f=Py(e,{win:n}),p=e.collectFonts?Fy(e):()=>{},h=By(e),_=Hy(e),S=[];for(const g of e.plugins)S.push(g.observer(g.callback,n,g.options));return $(()=>{Ht.forEach(g=>g.reset()),r.disconnect(),s(),i(),o(),a(),c(),u(),l(),d(),f(),p(),h(),_(),S.forEach(g=>g())})}function rr(e){return typeof window[e]<"u"}function sr(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Js{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const i=r||this.getIdToRemoteIdMap(t),o=s||this.getRemoteIdToIdMap(t);let a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function ia(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}class jy{constructor(){this.crossOriginIframeMirror=new Js(Ai),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Wy{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Js(Ai),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Js(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),ia([this,"access",r=>r.loadListener,"optionalCall",r=>r(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case N.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:N.IncrementalSnapshot,data:{source:D.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case N.Meta:case N.Load:case N.DomContentLoaded:return!1;case N.Plugin:return n;case N.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case N.IncrementalSnapshot:switch(n.data.source){case D.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case D.Drag:case D.TouchMove:case D.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case D.ViewportResize:return!1;case D.MediaInteraction:case D.MouseInteraction:case D.Scroll:case D.CanvasMutation:case D.Input:return this.replaceIds(n.data,t,["id"]),n;case D.StyleSheetRule:case D.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case D.Font:return n;case D.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case D.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),ia([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(s=>{this.replaceStyleIds(s,t,["styleId"])})]),n}}return!1}replace(t,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==ie.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class zy{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Gy{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!In(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);const r=fl({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(pl({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),Kr(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(hl({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Oi(t.prototype,"attachShadow",function(s){return function(i){const o=s.call(this,i);return this.shadowRoot&&ul(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class oa{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class qy{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new by,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of t){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),s.push({styleId:o,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:Xu(a),index:c}))})),r.styleIds.push(o)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class Yy{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){Ty(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let Z,Ar;const Te=V_();function Ze(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:_,maskInputOptions:S,slimDOMOptions:g,maskAttributeFn:y,maskInputFn:b,maskTextFn:T,maxCanvasSize:v=null,packFn:E,sampling:A={},dataURLOptions:O={},mousemoveWait:k,recordCanvas:C=!1,recordCrossOriginIframes:L=!1,recordAfter:K=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:se=!1,collectFonts:ue=!1,inlineImages:me=!1,plugins:G,keepIframeSrcFn:be=()=>!1,ignoreCSSAttributes:te=new Set([]),errorHandler:he,onMutation:Ee,getCanvasManager:ss}=e;Cy(he);const Ct=L?window.parent===window:!0;let qe=!1;if(!Ct)try{window.parent.document&&(qe=!1)}catch{qe=!0}if(Ct&&!t)throw new Error("emit function is required");k!==void 0&&A.mousemove===void 0&&(A.mousemove=k),Te.reset();const xt=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:S!==void 0?S:{},hn=g===!0||g==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:g==="all",headMetaDescKeywords:g==="all"}:g||{};Sy();let is,os=0;const Yi=U=>{for(const ve of G||[])ve.eventProcessor&&(U=ve.eventProcessor(U));return E&&!qe&&(U=E(U)),U};Z=(U,ve)=>{const B=U;if(B.timestamp=Cr(),lr([Ht,"access",J=>J[0],"optionalAccess",J=>J.isFrozen,"call",J=>J()])&&B.type!==N.FullSnapshot&&!(B.type===N.IncrementalSnapshot&&B.data.source===D.Mutation)&&Ht.forEach(J=>J.unfreeze()),Ct)lr([t,"optionalCall",J=>J(Yi(B),ve)]);else if(qe){const J={type:"rrweb",event:Yi(B),origin:window.location.origin,isCheckout:ve};window.parent.postMessage(J,"*")}if(B.type===N.FullSnapshot)is=B,os=0;else if(B.type===N.IncrementalSnapshot){if(B.data.source===D.Mutation&&B.data.isAttachIframe)return;os++;const J=r&&os>=r,j=n&&is&&B.timestamp-is.timestamp>n;(J||j)&&cs(!0)}};const qn=U=>{Z({type:N.IncrementalSnapshot,data:{source:D.Mutation,...U}})},Vi=U=>Z({type:N.IncrementalSnapshot,data:{source:D.Scroll,...U}}),wd=U=>Z({type:N.IncrementalSnapshot,data:{source:D.CanvasMutation,...U}}),kd=U=>Z({type:N.IncrementalSnapshot,data:{source:D.AdoptedStyleSheet,...U}}),it=new qy({mutationCb:qn,adoptedStyleSheetCb:kd}),ot=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new jy:new Wy({mirror:Te,mutationCb:qn,stylesheetManager:it,recordCrossOriginIframes:L,wrappedEmit:Z});for(const U of G||[])U.getMirror&&U.getMirror({nodeMirror:Te,crossOriginIframeMirror:ot.crossOriginIframeMirror,crossOriginIframeStyleMirror:ot.crossOriginIframeStyleMirror});const as=new Yy,Ki=Ky(ss,{mirror:Te,win:window,mutationCb:U=>Z({type:N.IncrementalSnapshot,data:{source:D.CanvasMutation,...U}}),recordCanvas:C,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:v,sampling:A.canvas,dataURLOptions:O,errorHandler:he}),Yn=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new zy:new Gy({mutationCb:qn,scrollCb:Vi,bypassOptions:{onMutation:Ee,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:xt,dataURLOptions:O,maskAttributeFn:y,maskTextFn:T,maskInputFn:b,recordCanvas:C,inlineImages:me,sampling:A,slimDOMOptions:hn,iframeManager:ot,stylesheetManager:it,canvasManager:Ki,keepIframeSrcFn:be,processedNodeManager:as},mirror:Te}),cs=(U=!1)=>{Z({type:N.Meta,data:{href:window.location.href,width:rl(),height:nl()}},U),it.reset(),Yn.init(),Ht.forEach(B=>B.lock());const ve=_y(document,{mirror:Te,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:xt,maskAttributeFn:y,maskInputFn:b,maskTextFn:T,slimDOM:hn,dataURLOptions:O,recordCanvas:C,inlineImages:me,onSerialize:B=>{ol(B,Te)&&ot.addIframe(B),al(B,Te)&&it.trackLinkElement(B),Ks(B)&&Yn.addShadowRoot(B.shadowRoot,document)},onIframeLoad:(B,J)=>{ot.attachIframe(B,J),Yn.observeAttachShadow(B)},onStylesheetLoad:(B,J)=>{it.attachLinkElement(B,J)},keepIframeSrcFn:be});if(!ve)return console.warn("Failed to snapshot the document");Z({type:N.FullSnapshot,data:{node:ve,initialOffset:tl(window)}}),Ht.forEach(B=>B.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&it.adoptStyleSheets(document.adoptedStyleSheets,Te.getId(document))};Ar=cs;try{const U=[],ve=J=>$(Uy)({onMutation:Ee,mutationCb:qn,mousemoveCb:(j,at)=>Z({type:N.IncrementalSnapshot,data:{source:at,positions:j}}),mouseInteractionCb:j=>Z({type:N.IncrementalSnapshot,data:{source:D.MouseInteraction,...j}}),scrollCb:Vi,viewportResizeCb:j=>Z({type:N.IncrementalSnapshot,data:{source:D.ViewportResize,...j}}),inputCb:j=>Z({type:N.IncrementalSnapshot,data:{source:D.Input,...j}}),mediaInteractionCb:j=>Z({type:N.IncrementalSnapshot,data:{source:D.MediaInteraction,...j}}),styleSheetRuleCb:j=>Z({type:N.IncrementalSnapshot,data:{source:D.StyleSheetRule,...j}}),styleDeclarationCb:j=>Z({type:N.IncrementalSnapshot,data:{source:D.StyleDeclaration,...j}}),canvasMutationCb:wd,fontCb:j=>Z({type:N.IncrementalSnapshot,data:{source:D.Font,...j}}),selectionCb:j=>{Z({type:N.IncrementalSnapshot,data:{source:D.Selection,...j}})},customElementCb:j=>{Z({type:N.IncrementalSnapshot,data:{source:D.CustomElement,...j}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:xt,inlineStylesheet:h,sampling:A,recordCanvas:C,inlineImages:me,userTriggeredOnInput:se,collectFonts:ue,doc:J,maskAttributeFn:y,maskInputFn:b,maskTextFn:T,keepIframeSrcFn:be,blockSelector:i,unblockSelector:o,slimDOMOptions:hn,dataURLOptions:O,mirror:Te,iframeManager:ot,stylesheetManager:it,shadowDomManager:Yn,processedNodeManager:as,canvasManager:Ki,ignoreCSSAttributes:te,plugins:lr([G,"optionalAccess",j=>j.filter,"call",j=>j(at=>at.observer),"optionalAccess",j=>j.map,"call",j=>j(at=>({observer:at.observer,options:at.options,callback:Rd=>Z({type:N.Plugin,data:{plugin:at.name,payload:Rd}})}))])||[]},{});ot.addLoadListener(J=>{try{U.push(ve(J.contentDocument))}catch(j){console.warn(j)}});const B=()=>{cs(),U.push(ve(document))};return document.readyState==="interactive"||document.readyState==="complete"?B():(U.push(pe("DOMContentLoaded",()=>{Z({type:N.DomContentLoaded,data:{}}),K==="DOMContentLoaded"&&B()})),U.push(pe("load",()=>{Z({type:N.Load,data:{}}),K==="load"&&B()},window))),()=>{U.forEach(J=>J()),as.destroy(),Ar=void 0,xy()}}catch(U){console.warn(U)}}function Vy(e){if(!Ar)throw new Error("please take full snapshot after start recording");Ar(e)}Ze.mirror=Te;Ze.takeFullSnapshot=Vy;function Ky(e,t){try{return e?e(t):new oa}catch{return console.warn("Unable to initialize CanvasManager"),new oa}}const Xy=3,Jy=5;function Di(e){return e>9999999999?e:e*1e3}function Ss(e){return e>9999999999?e/1e3:e}function Gn(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:N.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Ie(t,10,1e3)}}),t.category==="console")))}const Zy="button,a";function ml(e){return e.closest(Zy)||e}function gl(e){const t=_l(e);return!t||!(t instanceof Element)?t:ml(t)}function _l(e){return Qy(e)?e.target:e}function Qy(e){return typeof e=="object"&&!!e&&"target"in e}let Ke;function eS(e){return Ke||(Ke=[],tS()),Ke.push(e),()=>{const t=Ke?Ke.indexOf(e):-1;t>-1&&Ke.splice(t,1)}}function tS(){ae(V,"open",function(e){return function(...t){if(Ke)try{Ke.forEach(n=>n())}catch{}return e.apply(V,t)}})}function nS(e,t,n){e.handleClick(t,n)}class rS{constructor(t,n,r=Gn){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=eS(()=>{this._lastMutation=aa()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(iS(n,this._ignoreSelector)||!oS(t))return;const r={timestamp:Ss(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Ss(t)}registerScroll(t=Date.now()){this._lastScroll=Ss(t)}registerClick(t){const n=ml(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=aa();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:o,clickBreadcrumb:a}=t;if(i){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:V.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,l);return}if(o>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:V.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const sS=["A","BUTTON","INPUT"];function iS(e,t){return!!(!sS.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function oS(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function aa(){return Date.now()/1e3}function aS(e,t){try{if(!cS(t))return;const{source:n}=t.data;if(n===D.Mutation&&e.registerMutation(t.timestamp),n===D.Scroll&&e.registerScroll(t.timestamp),uS(t)){const{type:r,id:s}=t.data,i=Ze.mirror.getNode(s);i instanceof HTMLElement&&r===de.Click&&e.registerClick(i)}}catch{}}function cS(e){return e.type===Xy}function uS(e){return e.data.source===D.MouseInteraction}function Oe(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Mr;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Mr||(Mr={}));const lS=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function dS(e){const t={};for(const n in e)if(lS.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const fS=e=>t=>{if(!e.isEnabled())return;const n=pS(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&nS(e.clickDetector,n,gl(t.event)),Gn(e,n)};function yl(e,t){const n=Ze.mirror.getId(e),r=n&&Ze.mirror.getNode(n),s=r&&Ze.mirror.getMeta(r),i=s&&mS(s)?s:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(o=>o.type===Mr.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:dS(i.attributes)}}:{}}}function pS(e){const{target:t,message:n}=hS(e);return Oe({category:`ui.${e.name}`,...yl(t,n)})}function hS(e){const t=e.name==="click";let n,r=null;try{r=t?gl(e.event):_l(e.event),n=et(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function mS(e){return e.type===Mr.Element}function gS(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=_S(t);n&&Gn(e,n)}function _S(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=e;if(!o||yS(o)||!i)return null;const a=t||r||s,c=i.length===1;if(!a&&c)return null;const u=et(o,{maxStringLength:200})||"<unknown>",l=yl(o,u);return Oe({category:"ui.keyDown",message:u,data:{...l.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}function yS(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const ca={resource:TS,paint:ES,navigation:vS};function SS(e){return e.map(bS).filter(Boolean)}function bS(e){return ca[e.entryType]?ca[e.entryType](e):null}function en(e){return((le||V.performance.timeOrigin)+e)/1e3}function ES(e){const{duration:t,entryType:n,name:r,startTime:s}=e,i=en(s);return{type:n,name:r,start:i,end:i+t,data:void 0}}function vS(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:f,startTime:p,transferSize:h,type:_}=e;return s===0?null:{type:`${t}.${_}`,start:en(p),end:en(i),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:i,redirectCount:f}}}function TS(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:en(i),end:en(s),name:r,data:{size:u,statusCode:c,decodedBodySize:o,encodedBodySize:a}}}function IS(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,s=e.value,i=en(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:s,size:s,nodeId:r?Ze.mirror.getId(r):void 0}}}function wS(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(rt(s,n))}),r.push(Eu(({metric:s})=>{e.replayPerformanceEntries.push(IS(s))})),()=>{r.forEach(s=>s())}}const q=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,kS='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function RS(){const e=new Blob([kS]);return URL.createObjectURL(e)}function fe(e,t){q&&(m.info(e),t&&Sl(e))}function Gt(e,t){q&&(m.info(e),t&&setTimeout(()=>{Sl(e)},0))}function Sl(e){nt({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class Li extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Ci}.`)}}class bl{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Ci)throw new Li;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?Di(t):null}}class CS{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){fe("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const o=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",o),!c.success){q&&m.error("[Replay]",c.response),i(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class xS{constructor(t){this._worker=new CS(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=Di(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Ci?Promise.reject(new Li):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{q&&m.warn('[Replay] Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class AS{constructor(t){this._fallback=new bl,this._compression=new xS(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{fe("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n}=this._fallback,r=[];for(const s of t)r.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r)}catch(s){q&&m.warn("[Replay] Failed to add events when switching buffers.",s)}}}function MS({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=OS(t);if(n)return n}return fe("[Replay] Using simple buffer"),new bl}function OS(e){try{const t=e||NS();if(!t)return;fe(`[Replay] Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new AS(n)}catch{fe("[Replay] Failed to create compression worker")}}function NS(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?RS():""}function Pi(){try{return"sessionStorage"in V&&!!V.sessionStorage}catch{return!1}}function DS(e){LS(),e.session=void 0}function LS(){if(Pi())try{V.sessionStorage.removeItem(ki)}catch{}}function El(e){return e===void 0?!1:Math.random()<e}function vl(e){const t=Date.now(),n=e.id||W(),r=e.started||t,s=e.lastActivity||t,i=e.segmentId||0,o=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:o,previousSessionId:a}}function $i(e){if(Pi())try{V.sessionStorage.setItem(ki,JSON.stringify(e))}catch{}}function PS(e,t){return El(e)?"session":t?"buffer":!1}function ua({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=PS(e,t),i=vl({sampled:s,previousSessionId:r});return n&&$i(i),i}function $S(e){if(!Pi())return null;try{const t=V.sessionStorage.getItem(ki);if(!t)return null;const n=JSON.parse(t);return Gt("[Replay] Loading existing session",e),vl(n)}catch{return null}}function Zs(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Tl(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Zs(e.started,t,r)||Zs(e.lastActivity,n,r)}function Il(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Tl(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function bs({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},s){const i=s.stickySession&&$S(e);return i?Il(i,{sessionIdleExpire:t,maxReplayDuration:n})?(Gt("[Replay] Session in sessionStorage is expired, creating new one..."),ua(s,{previousSessionId:i.id})):i:(Gt("[Replay] Creating new session",e),ua(s,{previousSessionId:r}))}function FS(e){return e.type===N.Custom}function Fi(e,t,n){return kl(e,t)?(wl(e,t,n),!0):!1}function BS(e,t,n){return kl(e,t)?wl(e,t,n):Promise.resolve(null)}async function wl(e,t,n){if(!e.eventBuffer)return null;try{n&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=e.getOptions(),s=HS(t,r.beforeAddRecordingEvent);return s?await e.eventBuffer.addEvent(s):void 0}catch(r){const s=r&&r instanceof Li?"addEventSizeExceeded":"addEvent";q&&m.error(r),await e.stop({reason:s});const i=x();i&&i.recordDroppedEvent("internal_sdk_error","replay")}}function kl(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Di(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(fe(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function HS(e,t){try{if(typeof t=="function"&&FS(e))return t(e)}catch(n){return q&&m.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return e}function Bi(e){return!e.type}function Qs(e){return e.type==="transaction"}function US(e){return e.type==="replay_event"}function la(e){return e.type==="feedback"}function Rl(e){const t=zS();return(n,r)=>{if(!e.isEnabled()||!Bi(n)&&!Qs(n))return;const s=r&&r.statusCode;if(!(t&&(!s||s<200||s>=300))){if(Qs(n)){jS(e,n);return}WS(e,n)}}}function jS(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function WS(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||setTimeout(()=>{e.sendBufferedReplayOrFlush()})}function zS(){const e=x();if(!e)return!1;const t=e.getTransport();return t&&t.send.__sentry__baseTransport__||!1}function GS(e){return t=>{!e.isEnabled()||!Bi(t)||qS(e,t)}}function qS(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=Oe({category:"replay.hydrate-error"});Gn(e,r)}}function YS(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function VS(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:N.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function KS(e,t){return e.recordingMode!=="buffer"||t.message===Ri||!t.exception||t.type?!1:El(e.getOptions().errorSampleRate)}function XS(e,t=!1){const n=t?Rl(e):void 0;return Object.assign((r,s)=>e.isEnabled()?US(r)?(delete r.breadcrumbs,r):!Bi(r)&&!Qs(r)&&!la(r)||!e.checkAndHandleExpiredSession()?r:la(r)?(e.flush(),r.contexts.feedback.replay_id=e.getSessionId(),VS(e,r),r):YS(r,s)&&!e.getOptions()._experiments.captureExceptions?(q&&m.log("[Replay] Ignoring error from rrweb internals",r),null):((KS(e,r)||e.recordingMode==="session")&&(r.tags={...r.tags,replayId:e.getSessionId()}),n&&n(r,{statusCode:200}),r):r,{id:"Replay"})}function Xr(e,t){return t.map(({type:n,start:r,end:s,name:i,data:o})=>{const a=e.throttledAddEvent({type:N.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function JS(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function ZS(e){return t=>{if(!e.isEnabled())return;const n=JS(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Xr(e,[n]),!1)))}}function QS(e,t){return q&&e.getOptions()._experiments.traceInternals?!1:nu(t,x())}function Jr(e,t){e.isEnabled()&&t!==null&&(QS(e,t.name)||e.addUpdate(()=>(Xr(e,[t]),!0)))}function eb(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:s}=e;if(!n)return null;const{method:i,url:o}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:o,data:{method:i,statusCode:s?s.status:void 0}}}function tb(e){return t=>{if(!e.isEnabled())return;const n=eb(t);Jr(e,n)}}function nb(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,s=r[Be];if(!t||!n||!s)return null;const{method:i,url:o,status_code:a}=s;return o===void 0?null:{type:"resource.xhr",name:o,start:t/1e3,end:n/1e3,data:{method:i,statusCode:a}}}function rb(e){return t=>{if(!e.isEnabled())return;const n=nb(t);Jr(e,n)}}function Zr(e,t){if(e)try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Ml(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Cl(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function xl(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Ml(e)];if(!e)return[void 0]}catch{return q&&m.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return q&&m.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Or(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Al(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:ce({method:i,statusCode:o,request:a,response:c})}}function An(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Qe(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:i}=sb(n);return r.body=s,i&&i.length>0&&(r._meta={warnings:i}),r}function ei(e,t){return Object.keys(e).reduce((n,r)=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=e[r]),n},{})}function Ml(e){return new URLSearchParams(e).toString()}function sb(e){if(!e||typeof e!="string")return{body:e};const t=e.length>Vo,n=ib(e);if(t){const r=e.slice(0,Vo);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function ib(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Nr(e,t){const n=ob(e);return on(n,t)}function ob(e,t=V.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(V.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function ab(e,t,n){try{const r=await ub(e,t,n),s=Al("resource.fetch",r);Jr(n.replay,s)}catch(r){q&&m.error("[Replay] Failed to capture fetch breadcrumb",r)}}function cb(e,t,n){const{input:r,response:s}=t,i=r?Ol(r):void 0,o=Zr(i,n.textEncoder),a=s?Cl(s.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),a!==void 0&&(e.data.response_body_size=a)}async function ub(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=t,{url:o,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,d=Nr(o,n.networkDetailAllowUrls)&&!Nr(o,n.networkDetailDenyUrls),f=d?lb(n,t.input,u):An(u),p=await db(d,n,t.response,l);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:c,request:f,response:p}}function lb({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?hb(n,t):{};if(!e)return Qe(s,r,void 0);const i=Ol(n),[o,a]=xl(i),c=Qe(s,r,o);return a?Or(c,a):c}async function db(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},s,i){if(!e&&i!==void 0)return An(i);const o=s?Nl(s.headers,r):{};if(!s||!t&&i!==void 0)return Qe(o,i,void 0);const[a,c]=await pb(s),u=fb(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:i,captureDetails:e,headers:o});return c?Or(u,c):u}function fb(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:s,headers:i}){try{const o=e&&e.length&&r===void 0?Zr(e,n):r;return s?t?Qe(i,o,e):Qe(i,o,void 0):An(o)}catch(o){return q&&m.warn("[Replay] Failed to serialize response body",o),Qe(i,r,void 0)}}async function pb(e){const t=mb(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await gb(t)]}catch(n){return q&&m.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}}function Ol(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function Nl(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function hb(e,t){return e.length===1&&typeof e[0]!="string"?da(e[0],t):e.length===2?da(e[1],t):{}}function da(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Nl(n,t):Array.isArray(n)?{}:ei(n,t):{}}function mb(e){try{return e.clone()}catch(t){q&&m.warn("[Replay] Failed to clone response body",t)}}function gb(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);_b(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function _b(e){return await e.text()}async function yb(e,t,n){try{const r=bb(e,t,n),s=Al("resource.xhr",r);Jr(n.replay,s)}catch(r){q&&m.error("[Replay] Failed to capture xhr breadcrumb",r)}}function Sb(e,t,n){const{xhr:r,input:s}=t;if(!r)return;const i=Zr(s,n.textEncoder),o=r.getResponseHeader("content-length")?Cl(r.getResponseHeader("content-length")):Ib(r.response,r.responseType,n.textEncoder);i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}function bb(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=t,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:f}=e.data;if(!c)return null;if(!a||!Nr(c,n.networkDetailAllowUrls)||Nr(c,n.networkDetailDenyUrls)){const E=An(d),A=An(f);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:E,response:A}}const p=a[Be],h=p?ei(p.request_headers,n.networkRequestHeaders):{},_=ei(Eb(a),n.networkResponseHeaders),[S,g]=n.networkCaptureBodies?xl(o):[void 0],[y,b]=n.networkCaptureBodies?vb(a):[void 0],T=Qe(h,d,S),v=Qe(_,f,y);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:g?Or(T,g):T,response:b?Or(v,b):v}}function Eb(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return n[s.toLowerCase()]=i,n},{}):{}}function vb(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return Tb(e.response,e.responseType)}catch(n){t.push(n)}return q&&m.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function Tb(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch{return q&&m.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return q&&m.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Ib(e,t,n){try{const r=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Zr(r,n)}catch{return}}function wb(e){const t=x();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(u,l)=>kb(c,u,l)):(Lr(tb(e)),Pr(rb(e)))}catch{}}function kb(e,t,n){if(t.data)try{Rb(t)&&xb(n)&&(Sb(t,n,e),yb(t,n,e)),Cb(t)&&Ab(n)&&(cb(t,n,e),ab(t,n,e))}catch{q&&m.warn("Error when enriching network breadcrumb")}}function Rb(e){return e.category==="xhr"}function Cb(e){return e.category==="fetch"}function xb(e){return e&&e.xhr}function Ab(e){return e&&e.response}let fa=null;function Mb(e){return!!e.category}const Ob=e=>t=>{if(!e.isEnabled())return;const n=Nb(t);n&&Gn(e,n)};function Nb(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return fa===t||!t||(fa=t,!Mb(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:t.category==="console"?Db(t):Oe(t)}function Db(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return Oe(e);let n=!1;const r=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>nr?(n=!0,`${s.slice(0,nr)}`):s;if(typeof s=="object")try{const i=Ie(s,7);return JSON.stringify(i).length>nr?(n=!0,`${JSON.stringify(i,null,2).slice(0,nr)}`):i}catch{}return s});return Oe({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Lb(e){const t=re(),n=x();t.addScopeListener(Ob(e)),cc(fS(e)),Nn(ZS(e)),wb(e);const r=XS(e,!pa(n));n&&n.addEventProcessor?n.addEventProcessor(r):eh(r),pa(n)&&(n.on("beforeSendEvent",GS(e)),n.on("afterSendEvent",Rl(e)),n.on("createDsc",s=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(s.replay_id=i)}),n.on("startTransaction",s=>{e.lastTransaction=s}),n.on("finishTransaction",s=>{e.lastTransaction=s}),n.on("beforeSendFeedback",(s,i)=>{const o=e.getSessionId();i&&i.includeReplay&&e.isEnabled()&&o&&s.contexts&&s.contexts.feedback&&(s.contexts.feedback.replay_id=o)}))}function pa(e){return!!(e&&e.on)}async function Pb(e){try{return Promise.all(Xr(e,[$b(V.performance.memory)]))}catch{return[]}}function $b(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Fb(e,t,n){let r,s,i;const o=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function u(){return s!==void 0||i!==void 0?a():r}function l(){return s&&clearTimeout(s),s=setTimeout(a,t),o&&i===void 0&&(i=setTimeout(a,o)),r}return l.cancel=c,l.flush=u,l}function Bb(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){q&&m.warn("[Replay] Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&aS(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!Fi(e,n,s))return!0;if(!s)return!1;if(Ub(e,s),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){const i=e.eventBuffer.getEarliestTimestamp();i&&(fe(`[Replay] Updating session start time to earliest event in buffer to ${new Date(i)}`,e.getOptions()._experiments.traceInternals),e.session.started=i,e.getOptions().stickySession&&$i(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function Hb(e){const t=e.getOptions();return{type:N.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function Ub(e,t){!t||!e.session||e.session.segmentId!==0||Fi(e,Hb(e),!1)}function jb(e,t,n,r){return Ge(Ec(e,pi(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function Wb({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function zb({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:s};e.emit&&e.emit("preprocessEvent",r,i);const o=await _i(e.getOptions(),r,i,t,e,Le());if(!o)return null;o.platform=o.platform||"javascript";const a=e.getSdkMetadata&&e.getSdkMetadata(),{name:c,version:u}=a&&a.sdk||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},o}async function Gb({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=Wb({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=x(),f=re(),p=d&&d.getTransport(),h=d&&d.getDsn();if(!d||!p||!h||!i.sampled)return;const _={type:x_,replay_start_timestamp:l/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},S=await zb({scope:f,client:d,replayId:t,event:_});if(!S){d.recordDroppedEvent("event_processor","replay",_),fe("An event processor returned `null`, will not send event.");return}delete S.sdkProcessingMetadata;const g=jb(S,o,h,d.getOptions().tunnel);let y;try{y=await p.send(g)}catch(T){const v=new Error(Ri);try{v.cause=T}catch{}throw v}if(!y)return y;if(typeof y.statusCode=="number"&&(y.statusCode<200||y.statusCode>=300))throw new Dl(y.statusCode);const b=Ic({},y);if(Tc(b,"replay"))throw new Ll(b);return y}class Dl extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class Ll extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function Pl(e,t={count:0,interval:L_}){const{recordingData:n,options:r}=e;if(n.length)try{return await Gb(e),!0}catch(s){if(s instanceof Dl||s instanceof Ll)throw s;if(ap("Replays",{_retryCount:t.count}),q&&r._experiments&&r._experiments.captureExceptions&&Pn(s),t.count>=P_){const i=new Error(`${Ri} - max retries exceeded`);try{i.cause=s}catch{}throw i}return t.interval*=++t.count,new Promise((i,o)=>{setTimeout(async()=>{try{await Pl(e,t),i(!0)}catch(a){o(a)}},t.interval)})}}const $l="__THROTTLED",qb="__SKIPPED";function Yb(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,l)=>{l<c&&r.delete(l)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0);let o=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),i()>=t){const l=o;return o=!0,l?qb:$l}o=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class Xe{constructor({options:t,recordingOptions:n}){Xe.prototype.__init.call(this),Xe.prototype.__init2.call(this),Xe.prototype.__init3.call(this),Xe.prototype.__init4.call(this),Xe.prototype.__init5.call(this),Xe.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:A_,sessionIdleExpire:M_},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=Fb(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Yb((o,a)=>BS(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min($_,r),timeout:r,scrollTimeout:F_,ignoreSelector:s?s.join(","):""}:void 0;i&&(this.clickDetector=new rS(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options;if(!(n<=0&&r<=0)){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Gt(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");Gt("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const t=bs({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");Gt("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const t=bs({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=Ze({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:D_},emit:Bb(this),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{fe(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,DS(this)}catch(r){this._handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),fe("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),fe("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();fe("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Zs(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${V.location.pathname}${V.location.hash}${V.location.search}`,n=`${V.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===$l){const s=Oe({category:"replay.throttled"});this.addUpdate(()=>!Fi(this,{type:Jy,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastTransaction||re().getTransaction(),r=(t&&H(t).data||{})[ne];if(!(!t||!r||!["route","custom"].includes(r)))return H(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=MS({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){q&&m.error("[Replay]",t),q&&this._options._experiments&&this._options._experiments.captureExceptions&&Pn(t)}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=bs({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return Il(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{V.document.addEventListener("visibilitychange",this._handleVisibilityChange),V.addEventListener("blur",this._handleWindowBlur),V.addEventListener("focus",this._handleWindowFocus),V.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Lb(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=wS(this)}_removeListeners(){try{V.document.removeEventListener("visibilitychange",this._handleVisibilityChange),V.removeEventListener("blur",this._handleWindowBlur),V.removeEventListener("focus",this._handleWindowFocus),V.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{V.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=Oe({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=Oe({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{gS(this,t)}}_doChangeToBackgroundTasks(t){!this.session||Tl(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){fe("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:N.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){const t=SS(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Xr(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){q&&m.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await Pb(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await Pl({replayId:t,recordingData:i,segmentId:s,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});const r=x();r&&r.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){q&&m.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const i=s<this._options.minReplayDuration,o=s>this._options.maxReplayDuration+5e3;if(i||o){fe(`[Replay] Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),i&&this._debouncedFlush();return}const a=this.eventBuffer;if(a&&this.session.segmentId===0&&!a.hasCheckout&&fe("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(c){q&&m.error(c)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&$i(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>s||i){const o=Oe({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(o)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function _n(e,t,n,r){const s=typeof r=="string"?r.split(","):[],i=[...e,...s,...t];return typeof n<"u"&&(typeof n=="string"&&i.push(`.${n}`),tt(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),i.join(",")}function Vb({mask:e,unmask:t,block:n,unblock:r,ignore:s,blockClass:i,blockSelector:o,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){const l=['base[href="/"]'],d=_n(e,[".sentry-mask","[data-sentry-mask]"],a,c),f=_n(t,[".sentry-unmask","[data-sentry-unmask]"]),p={maskTextSelector:d,unmaskTextSelector:f,blockSelector:_n(n,[".sentry-block","[data-sentry-block]",...l],i,o),unblockSelector:_n(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:_n(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return i instanceof RegExp&&(p.blockClass=i),a instanceof RegExp&&(p.maskTextClass=a),p}function Kb({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const ha='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Xb=["content-length","content-type","accept"];let ma=!1;const VT=(e=>new Qr(e));class Qr{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=O_,flushMaxDelay:n=N_,minReplayDuration:r=B_,maxReplayDuration:s=Ko,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:c={},sessionSampleRate:u,errorSampleRate:l,maskAllText:d=!0,maskAllInputs:f=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:h=750,mutationLimit:_=1e4,slowClickTimeout:S=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:b=[],networkCaptureBodies:T=!0,networkRequestHeaders:v=[],networkResponseHeaders:E=[],mask:A=[],maskAttributes:O=["title","placeholder"],unmask:k=[],block:C=[],unblock:L=[],ignore:K=[],maskFn:se,beforeAddRecordingEvent:ue,beforeErrorSampling:me,blockClass:G,blockSelector:be,maskInputOptions:te,maskTextClass:he,maskTextSelector:Ee,ignoreClass:ss}={}){this.name=Qr.id;const Ct=Vb({mask:A,unmask:k,block:C,unblock:L,ignore:K,blockClass:G,blockSelector:be,maskTextClass:he,maskTextSelector:Ee,ignoreClass:ss});if(this._recordingOptions={maskAllInputs:f,maskAllText:d,maskInputOptions:{...te||{},password:!0},maskTextFn:se,maskInputFn:se,maskAttributeFn:(qe,xt,hn)=>Kb({maskAttributes:O,maskAllText:d,privacyOptions:Ct,key:qe,value:xt,el:hn}),...Ct,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:qe=>{try{qe.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,H_),maxReplayDuration:Math.min(s,Ko),stickySession:i,sessionSampleRate:u,errorSampleRate:l,useCompression:o,workerUrl:a,blockAllMedia:p,maskAllInputs:f,maskAllText:d,mutationBreadcrumbLimit:h,mutationLimit:_,slowClickTimeout:S,slowClickIgnoreSelectors:g,networkDetailAllowUrls:y,networkDetailDenyUrls:b,networkCaptureBodies:T,networkRequestHeaders:ga(v),networkResponseHeaders:ga(E),beforeAddRecordingEvent:ue,beforeErrorSampling:me,_experiments:c},typeof u=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${u} })`),this._initialOptions.sessionSampleRate=u),typeof l=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${ha}`:ha),this._isInitialized&&Ds())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return ma}set _isInitialized(t){ma=t}setupOnce(){Ds()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const t=Jb(this._initialOptions);this._replay=new Xe({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const n=x().getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}Qr.__initStatic();function Jb(e){const t=x(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...ce(e)};return n?(e.sessionSampleRate==null&&e.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&tt(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):(tt(()=>{console.warn("SDK client is not available.")}),r)}function ga(e){return[...Xb,...e.map(t=>t.toLowerCase())]}function KT(){const e=x();return e&&e.getIntegrationByName&&e.getIntegrationByName("Replay")}var _a;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(_a||(_a={}));function Zb(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function ti(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:ti(e.parentNode,t,n,r+1)}function ya(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(Zb(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}const Lt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Sa={map:{},getId(){return console.error(Lt),-1},getNode(){return console.error(Lt),null},removeNodeFromMap(){console.error(Lt)},has(){return console.error(Lt),!1},reset(){console.error(Lt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Sa=new Proxy(Sa,{get(e,t,n){return t==="map"&&console.error(Lt),Reflect.get(e,t,n)}}));function Hi(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(o){Bl(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>Hi(e,t,i||{},!0)}function Ui(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function Qb(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function es(e,t,n,r,s){if(!e)return!1;const i=Qb(e);if(!i)return!1;const o=ya(t,n),a=ti(i,o);let c=-1;return a<0?!1:(r&&(c=ti(i,ya(null,r))),a>-1&&c<0?!0:a<c)}const ba={};function Fl(e){const t=ba[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return ba[e]=r.bind(window)}function ct(...e){return Fl("requestAnimationFrame")(...e)}function Bl(...e){return Fl("setTimeout")(...e)}var tn=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(tn||{});let dr;function eE(e){dr=e}const Ea=e=>dr?((...n)=>{try{return e(...n)}catch(r){if(dr&&dr(r)===!0)return()=>{};throw r}}):e;var Ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tE=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ir=0;ir<Ut.length;ir++)tE[Ut.charCodeAt(ir)]=ir;var nE=function(e){var t=new Uint8Array(e),n,r=t.length,s="";for(n=0;n<r;n+=3)s+=Ut[t[n]>>2],s+=Ut[(t[n]&3)<<4|t[n+1]>>4],s+=Ut[(t[n+1]&15)<<2|t[n+2]>>6],s+=Ut[t[n+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};const va=new Map;function rE(e,t){let n=va.get(e);return n||(n=new Map,va.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const Hl=(e,t,n)=>{if(!e||!(jl(e,t)||typeof e=="object"))return;const r=e.constructor.name,s=rE(n,r);let i=s.indexOf(e);return i===-1&&(i=s.length,s.push(e)),i};function fr(e,t,n){if(e instanceof Array)return e.map(r=>fr(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,s=nE(e);return{rr_type:r,base64:s}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[fr(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:s}=e;return{rr_type:r,src:s}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",s=e.toDataURL();return{rr_type:r,src:s}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[fr(e.data,t,n),e.width,e.height]};if(jl(e,t)||typeof e=="object"){const r=e.constructor.name,s=Hl(e,t,n);return{rr_type:r,index:s}}}}return e}const Ul=(e,t,n)=>e.map(r=>fr(r,t,n)),jl=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(s=>typeof t[s]=="function").find(s=>e instanceof t[s]);function sE(e,t,n,r,s){const i=[],o=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of o)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;const c=Ui(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...l){return es(this.canvas,n,r,s,!0)||Bl(()=>{const d=Ul(l,t,this);e(this.canvas,{type:tn["2D"],property:a,args:d})},0),u.apply(this,l)}});i.push(c)}catch{const u=Hi(t.CanvasRenderingContext2D.prototype,a,{set(l){e(this.canvas,{type:tn["2D"],property:a,args:[l],setter:!0})}});i.push(u)}return()=>{i.forEach(a=>a())}}function iE(e){return e==="experimental-webgl"?"webgl":e}function Ta(e,t,n,r,s){const i=[];try{const o=Ui(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!es(this,t,n,r,!0)){const l=iE(c);if("__context"in this||(this.__context=l),s&&["webgl","webgl2"].includes(l))if(u[0]&&typeof u[0]=="object"){const d=u[0];d.preserveDrawingBuffer||(d.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});i.push(o)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(o=>o())}}function Ia(e,t,n,r,s,i,o,a){const c=[],u=Object.getOwnPropertyNames(e);for(const l of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(l))try{if(typeof e[l]!="function")continue;const d=Ui(e,l,function(f){return function(...p){const h=f.apply(this,p);if(Hl(h,a,this),"tagName"in this.canvas&&!es(this.canvas,r,s,i,!0)){const _=Ul(p,a,this),S={type:t,property:l,args:_};n(this.canvas,S)}return h}});c.push(d)}catch{const f=Hi(e,l,{set(p){n(this.canvas,{type:t,property:l,args:[p],setter:!0})}});c.push(f)}return c}function oE(e,t,n,r,s,i){const o=[];return o.push(...Ia(t.WebGLRenderingContext.prototype,tn.WebGL,e,n,r,s,i,t)),typeof t.WebGL2RenderingContext<"u"&&o.push(...Ia(t.WebGL2RenderingContext.prototype,tn.WebGL2,e,n,r,s,i,t)),()=>{o.forEach(a=>a())}}var aE='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function cE(){const e=new Blob([aE]);return URL.createObjectURL(e)}class uE{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(d,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(d)||this.pendingCanvasMutations.set(d,[]),this.pendingCanvasMutations.get(d).push(f)};const{sampling:n="all",win:r,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:l}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,l&&eE(l),!t.enableManualSnapshot&&Ea(()=>{c&&n==="all"&&this.initCanvasMutationObserver(r,s,i,o),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,r,s,i,o,a,{dataURLOptions:u})})()}initCanvasFPSObserver(t,n,r,s,i,o,a){const c=Ta(n,r,s,i,!0),u=this.takeSnapshot(!1,t,n,r,s,i,o,a.dataURLOptions);this.resetObservers=()=>{c(),cancelAnimationFrame(u)}}initCanvasMutationObserver(t,n,r,s){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const i=Ta(t,n,r,s,!1),o=sE(this.processMutation.bind(this),t,n,r,s),a=oE(this.processMutation.bind(this),t,n,r,s,this.mirror);this.resetObservers=()=>{i(),o(),a()}}snapshot(t){const{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.win,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.resetObservers=()=>{cancelAnimationFrame(r)}}takeSnapshot(t,n,r,s,i,o,a,c,u){const l=new Map,d=new Worker(cE());d.onmessage=g=>{const y=g.data,{id:b}=y;if(l.set(b,!1),!("base64"in y))return;const{base64:T,type:v,width:E,height:A}=y;this.mutationCb({id:b,type:tn["2D"],commands:[{property:"clearRect",args:[0,0,E,A]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:T}],type:v}]},0,0,E,A]}]})};const f=1e3/n;let p=0,h;const _=g=>{if(g)return[g];const y=[];return r.document.querySelectorAll("canvas").forEach(b=>{es(b,s,i,o)||y.push(b)}),y},S=g=>{if(p&&g-p<f){h=ct(S);return}p=g,_(u).forEach(y=>{const b=this.mirror.getId(y);if(!l.get(b)&&!(!y.width||!y.height)){if(l.set(b,!0),!t&&["webgl","webgl2"].includes(y.__context)){const T=y.getContext(y.__context);lr([T,"optionalAccess",v=>v.getContextAttributes,"call",v=>v(),"optionalAccess",v=>v.preserveDrawingBuffer])===!1&&T.clear(T.COLOR_BUFFER_BIT)}createImageBitmap(y).then(T=>{d.postMessage({id:b,bitmap:T,width:y.width,height:y.height,dataURLOptions:c,maxCanvasSize:a},[T])}).catch(T=>{Ea(()=>{throw T})()})}}),h=ct(S)};return h=ct(S),h}startPendingCanvasMutationFlusher(){ct(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,ct(t)};ct(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),ct(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;const s=r.map(o=>{const{type:a,...c}=o;return c}),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:s}),this.pendingCanvasMutations.delete(t)}}const wa={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Wl="ReplayCanvas",or=1280,lE=((e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,or):or,n?Math.min(n,or):or]};let s;const i=new Promise(o=>s=o);return{name:Wl,setupOnce(){},getOptions(){const{quality:o,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{const l=new uE({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:d=>{try{typeof d=="object"&&(d.__rrweb__=!0)}catch{}}});return s(l),l},...wa[o]||wa.medium}},async snapshot(o){(await i).snapshot(o)}}}),dE=lE,XT=ee(Wl,dE),Rt=M,Es="#ffffff",ka="inherit",vs="rgba(108, 95, 199, 1)",Ra={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:Es,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"25px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:vs,submitBorder:vs,submitOutlineFocus:"#29232f",submitForeground:Es,submitForegroundHover:Es,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:ka,inputForeground:ka,inputBorder:"var(--border)",inputOutlineFocus:vs,formBorderRadius:"20px",formContentBorderRadius:"6px"},Ca={light:Ra,dark:{...Ra,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"}},fE="Report a Bug",pE="Cancel",hE="Send Bug Report",mE="Report a Bug",gE="your.email@example.org",_E="Email",yE="What's the bug? What did you expect?",SE="Description",bE="Your Name",EE="Name",vE="(required)",TE="Thank you for your report!",zl="widget",Gl="api";async function IE({client:e,scope:t,event:n}){const r={};e.emit&&e.emit("preprocessEvent",n,r);const s=await _i(e.getOptions(),n,r,t,e,Le());return s===null?(e.recordDroppedEvent("event_processor","feedback",n),null):(s.platform=s.platform||"javascript",s)}async function wE({feedback:{message:e,email:t,name:n,source:r,url:s}},{includeReplay:i=!0}={}){const o=x(),a=o&&o.getTransport(),c=o&&o.getDsn();if(!o||!a||!c)return;const u={contexts:{feedback:{contact_email:t,name:n,message:e,url:s,source:r}},type:"feedback"};return st(async l=>{l.clearBreadcrumbs(),[Gl,zl].includes(String(r))&&l.setLevel("info");const d=await IE({scope:l,client:o,event:u});if(!d)return;o.emit&&o.emit("beforeSendFeedback",d,{includeReplay:!!i});const f=Gc(d,c,o.getOptions()._metadata,o.getOptions().tunnel);let p;try{p=await a.send(f)}catch(h){const _=new Error("Unable to send Feedback");try{_.cause=h}catch{}throw _}if(p){if(typeof p.statusCode=="number"&&(p.statusCode<200||p.statusCode>=300))throw new Error("Unable to send Feedback");return p}})}function kE({name:e,email:t,message:n,source:r=Gl,url:s=Ka()},i={}){if(!n)throw new Error("Unable to submit feedback with empty message");return wE({feedback:{name:e,email:t,message:n,url:s,source:r}},i)}const ut=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function xa(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function RE(e){const t=e.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  line-height: 16px;

  display: flex;
  align-items: center;
  gap: 8px;

  border-radius: var(--border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 16px;
  text-decoration: none;
  z-index: 9000;

  color: var(--foreground);
  background-color: var(--background);
  border: var(--border);
  box-shadow: var(--box-shadow);
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
}

.widget__actor:hover {
  background-color: var(--background-hover);
}

.widget__actor svg {
  width: 16px;
  height: 16px;
}

.widget__actor--hidden {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}

.widget__actor__text {
}

@media (max-width: 600px) {
  .widget__actor__text {
    display: none;
  }
}

.feedback-icon path {
  fill: var(--foreground);
}
`,t}function CE(e){const t=e.createElement("style");return t.textContent=`
.dialog {
  line-height: 25px;
  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  position: fixed;
  inset: 0;
  z-index: 10000;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);

  border: var(--border);
  border-radius: var(--form-border-radius);
  background-color: var(--background);
  color: var(--foreground);

  width: 320px;
  max-width: 100%;
  max-height: calc(100% - 2rem);
  display: flex;
  flex-direction: column;
  box-shadow: var(--box-shadow);
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}

.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 20px;
  font-weight: 600;
  padding: 24px 24px 0 24px;
  margin: 0;
  margin-bottom: 16px;
}

.brand-link {
  display: inline-flex;
}

.error {
  color: var(--error);
  margin-bottom: 16px;
}

.form {
  display: grid;
  overflow: auto;
  flex-direction: column;
  gap: 16px;
  padding: 0 24px 24px;
}

.form__error-container {
  color: var(--error);
}

.form__error-container--hidden {
  display: none;
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: grid;
  gap: 4px;
  align-items: center;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  line-height: inherit;
  background-color: var(--input-background);
  box-sizing: border-box;
  border: var(--input-border);
  border-radius: var(--form-content-border-radius);
  color: var(--input-foreground);
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 500;
  padding: 6px 12px;
}

.form__input::placeholder {
  color: var(--input-foreground);
  opacity: 0.65;
}

.form__input:focus-visible {
  outline: 1px auto var(--input-outline-focus);
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.btn-group {
  display: grid;
  gap: 8px;
  margin-top: 8px;
}

.btn {
  line-height: inherit;
  border: var(--cancel-border);
  border-radius: var(--form-content-border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 6px 16px;
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  background-color: var(--submit-background);
  border-color: var(--submit-border);
  color: var(--submit-foreground);
}
.btn--primary:hover {
  background-color: var(--submit-background-hover);
  color: var(--submit-foreground-hover);
}
.btn--primary:focus-visible {
  outline: 1px auto var(--submit-outline-focus);
}

.btn--default {
  background-color: var(--cancel-background);
  color: var(--cancel-foreground);
  font-weight: 500;
}
.btn--default:hover {
  background-color: var(--cancel-background-hover);
  color: var(--cancel-foreground-hover);
}
.btn--default:focus-visible {
  outline: 1px auto var(--cancel-outline-focus);
}

.success-message {
  background-color: var(--background);
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  font-weight: 600;
  color: var(--success);
  padding: 12px 24px;
  line-height: 25px;
  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success-icon path {
  fill: var(--success);
}
`,t}function Aa(e){return`
  --background: ${e.background};
  --background-hover: ${e.backgroundHover};
  --foreground: ${e.foreground};
  --error: ${e.error};
  --success: ${e.success};
  --border: ${e.border};
  --border-radius: ${e.borderRadius};
  --box-shadow: ${e.boxShadow};

  --submit-background: ${e.submitBackground};
  --submit-background-hover: ${e.submitBackgroundHover};
  --submit-border: ${e.submitBorder};
  --submit-outline-focus: ${e.submitOutlineFocus};
  --submit-foreground: ${e.submitForeground};
  --submit-foreground-hover: ${e.submitForegroundHover};

  --cancel-background: ${e.cancelBackground};
  --cancel-background-hover: ${e.cancelBackgroundHover};
  --cancel-border: ${e.cancelBorder};
  --cancel-outline-focus: ${e.cancelOutlineFocus};
  --cancel-foreground: ${e.cancelForeground};
  --cancel-foreground-hover: ${e.cancelForegroundHover};

  --input-background: ${e.inputBackground};
  --input-foreground: ${e.inputForeground};
  --input-border: ${e.inputBorder};
  --input-outline-focus: ${e.inputOutlineFocus};

  --form-border-radius: ${e.formBorderRadius};
  --form-content-border-radius: ${e.formContentBorderRadius};
  `}function xE(e,t,n){const r=e.createElement("style");return r.textContent=`
:host {
  --bottom: 1rem;
  --right: 1rem;
  --top: auto;
  --left: auto;
  --z-index: 100000;
  --font-family: ${n.light.fontFamily};
  --font-size: ${n.light.fontSize};

  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${Aa(t==="dark"?n.dark:n.light)}
}

${t==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Aa(n.dark)}
  }
}`:""}
}`,r}function AE({id:e,colorScheme:t,themeDark:n,themeLight:r}){try{const s=Rt.document,i=s.createElement("div");i.id=e;const o=i.attachShadow({mode:"open"});return o.appendChild(xE(s,t,{dark:n,light:r})),o.appendChild(CE(s)),{shadow:o,host:i}}catch{throw m.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function ME(e,t,n){if(!e)return;const r=()=>{e&&e.showError("There was a problem submitting feedback, please wait and try again.")};e.hideError();try{return await kE({...t,source:zl},n)}catch(s){ut&&m.error(s),r()}}function _e(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const Ot=20,OE="http://www.w3.org/2000/svg";function NE(){const e=a=>Rt.document.createElementNS(OE,a),t=_e(e("svg"),{class:"feedback-icon",width:`${Ot}`,height:`${Ot}`,viewBox:`0 0 ${Ot} ${Ot}`,fill:"none"}),n=_e(e("g"),{clipPath:"url(#clip0_57_80)"}),r=_e(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const s=e("defs"),i=_e(e("clipPath"),{id:"clip0_57_80"}),o=_e(e("rect"),{width:`${Ot}`,height:`${Ot}`,fill:"white"});return i.appendChild(o),s.appendChild(i),t.appendChild(s).appendChild(i).appendChild(o),{get el(){return t}}}function X(e,t,...n){const s=Rt.document.createElement(e);t&&Object.entries(t).forEach(([i,o])=>{i==="className"&&typeof o=="string"?s.setAttribute("class",o):typeof o=="boolean"&&o?s.setAttribute(i,""):typeof o=="string"?s.setAttribute(i,o):i.startsWith("on")&&typeof o=="function"&&s.addEventListener(i.substring(2).toLowerCase(),o)});for(const i of n)ql(s,i);return s}function ql(e,t){const n=Rt.document;if(!(typeof t>"u"||t===null))if(Array.isArray(t))for(const r of t)ql(e,r);else t===!1||(typeof t=="string"?e.appendChild(n.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(n.createTextNode(String(t))))}function DE({buttonLabel:e,onClick:t}){function n(s){t&&t(s)}const r=X("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},NE().el,e?X("span",{className:"widget__actor__text"},e):null);return r.addEventListener("click",n),{get el(){return r},show:()=>{r.classList.remove("widget__actor--hidden"),r.setAttribute("aria-hidden","false")},hide:()=>{r.classList.add("widget__actor--hidden"),r.setAttribute("aria-hidden","true")}}}function LE({label:e}){return{el:X("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}function Ts(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function PE({nameLabel:e,namePlaceholder:t,emailLabel:n,emailPlaceholder:r,messageLabel:s,messagePlaceholder:i,isRequiredLabel:o,cancelButtonLabel:a,submitButtonLabel:c,showName:u,showEmail:l,isNameRequired:d,isEmailRequired:f,defaultName:p,defaultEmail:h,onCancel:_,onSubmit:S}){const{el:g}=LE({label:c});function y(L){if(L.preventDefault(),L.target instanceof HTMLFormElement)try{if(S){const K=new FormData(L.target),se={name:Ts(K,"name"),email:Ts(K,"email"),message:Ts(K,"message")};S(se)}}catch{}}const b=X("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});function T(L){b.textContent=L,b.classList.remove("form__error-container--hidden"),b.setAttribute("aria-hidden","false")}function v(){b.textContent="",b.classList.add("form__error-container--hidden"),b.setAttribute("aria-hidden","true")}const E=X("input",{id:"name",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"name",required:d,className:"form__input",placeholder:t,value:p}),A=X("input",{id:"email",type:l?"text":"hidden","aria-hidden":l?"false":"true",name:"email",required:f,className:"form__input",placeholder:r,value:h}),O=X("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:i}),k=X("button",{type:"button",className:"btn btn--default","aria-label":a,onClick:L=>{_&&_(L)}},a),C=X("form",{className:"form",onSubmit:y},[b,u&&X("label",{htmlFor:"name",className:"form__label"},[X("span",{className:"form__label__text"},e,d&&X("span",{className:"form__label__text--required"},` ${o}`)),E]),!u&&E,l&&X("label",{htmlFor:"email",className:"form__label"},[X("span",{className:"form__label__text"},n,f&&X("span",{className:"form__label__text--required"},` ${o}`)),A]),!l&&A,X("label",{htmlFor:"message",className:"form__label"},[X("span",{className:"form__label__text"},s,X("span",{className:"form__label__text--required"},` ${o}`)),O]),X("div",{className:"btn-group"},[g,k])]);return{get el(){return C},showError:T,hideError:v}}const $E="http://www.w3.org/2000/svg";function FE({colorScheme:e}){const t=o=>Rt.document.createElementNS($E,o),n=_e(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=_e(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const s=t("defs"),i=t("style");return i.textContent=`
    path {
      fill: ${e==="dark"?"#fff":"#362d59"};
    }`,e==="system"&&(i.textContent+=`
    @media (prefers-color-scheme: dark) {
      path: {
        fill: '#fff';
      }
    }
    `),s.append(i),n.append(s),{get el(){return n}}}function BE({formTitle:e,showBranding:t,showName:n,showEmail:r,isNameRequired:s,isEmailRequired:i,colorScheme:o,defaultName:a,defaultEmail:c,onClosed:u,onCancel:l,onSubmit:d,...f}){let p=null;function h(){_(),u&&u()}function _(){p&&(p.open=!1)}function S(){p&&(p.open=!0)}function g(){return p&&p.open===!0||!1}const{el:y,showError:b,hideError:T}=PE({showEmail:r,showName:n,isEmailRequired:i,isNameRequired:s,defaultName:a,defaultEmail:c,onSubmit:d,onCancel:l,...f});return p=X("dialog",{className:"dialog",open:!0,onClick:h},X("div",{className:"dialog__content",onClick:v=>{v.stopPropagation()}},X("h2",{className:"dialog__header"},e,t&&X("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},FE({colorScheme:o}).el)),y)),{get el(){return p},showError:b,hideError:T,open:S,close:_,checkIsOpen:g}}const ar=16,Ma=17,HE="http://www.w3.org/2000/svg";function UE(){const e=c=>Rt.document.createElementNS(HE,c),t=_e(e("svg"),{class:"success-icon",width:`${ar}`,height:`${Ma}`,viewBox:`0 0 ${ar} ${Ma}`,fill:"none"}),n=_e(e("g"),{clipPath:"url(#clip0_57_156)"}),r=_e(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=_e(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(s,r);const i=e("defs"),o=_e(e("clipPath"),{id:"clip0_57_156"}),a=_e(e("rect"),{width:`${ar}`,height:`${ar}`,fill:"white",transform:"translate(0 0.5)"});return o.appendChild(a),i.appendChild(o),t.appendChild(i).appendChild(o).appendChild(a),{get el(){return t}}}function jE({message:e,onRemove:t}){function n(){r&&(r.remove(),t&&t())}const r=X("div",{className:"success-message",onClick:n},UE().el,e);return{el:r,remove:n}}function Oa({shadow:e,options:{shouldCreateActor:t=!0,...n},attachTo:r}){let s,i,o=!1;function a(){if(e)try{const g=jE({message:n.successMessageText,onRemove:()=>{y&&clearTimeout(y),l()}});if(!g.el)throw new Error("Unable to show success message");e.appendChild(g.el);const y=setTimeout(()=>{g&&g.remove()},5e3)}catch(g){m.error(g)}}async function c(g){if(!i)return;const y=[];if(n.isNameRequired&&!g.name&&y.push(n.nameLabel),n.isEmailRequired&&!g.email&&y.push(n.emailLabel),g.message||y.push(n.messageLabel),y.length>0){i.showError(`Please enter in the following required fields: ${y.join(", ")}`);return}if(!await ME(i,g)){n.onSubmitError&&n.onSubmitError();return}_(),a(),n.onSubmitSuccess&&n.onSubmitSuccess()}function u(){const g=x(),y=g&&g.getIntegrationByName&&g.getIntegrationByName("Replay");y&&y.flush().catch(b=>{ut&&m.error(b)})}function l(){s&&s.show()}function d(){s&&s.hide()}function f(){s&&s.el&&s.el.remove()}function p(){try{if(i){i.open(),o=!0,n.onFormOpen&&n.onFormOpen(),u();return}const g=n.useSentryUser,y=re(),b=y&&y.getUser();if(i=BE({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,isRequiredLabel:n.isRequiredLabel,defaultName:g&&b&&b[g.name]||"",defaultEmail:g&&b&&b[g.email]||"",onClosed:()=>{l(),o=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{h(),l()},onSubmit:c}),!i.el)throw new Error("Unable to open Feedback dialog");e.appendChild(i.el),d(),n.onFormOpen&&n.onFormOpen(),u()}catch(g){m.error(g)}}function h(){i&&(i.close(),o=!1,n.onFormClose&&n.onFormClose())}function _(){if(i){h();const g=i.el;g&&g.remove(),i=void 0}}function S(){o||p(),d()}return r?r.addEventListener("click",S):t&&(s=DE({buttonLabel:n.buttonLabel,onClick:S}),s.el&&e.appendChild(s.el)),{get actor(){return s},get dialog(){return i},showActor:l,hideActor:d,removeActor:f,openDialog:p,closeDialog:h,removeDialog:_}}const cr=Rt.document,JT=(e=>new ts(e));class ts{static __initStatic(){this.id="Feedback"}constructor({autoInject:t=!0,id:n="sentry-feedback",isEmailRequired:r=!1,isNameRequired:s=!1,showBranding:i=!0,showEmail:o=!0,showName:a=!0,useSentryUser:c={email:"email",name:"username"},themeDark:u,themeLight:l,colorScheme:d="system",buttonLabel:f=fE,cancelButtonLabel:p=pE,submitButtonLabel:h=hE,formTitle:_=mE,emailPlaceholder:S=gE,emailLabel:g=_E,messagePlaceholder:y=yE,messageLabel:b=SE,namePlaceholder:T=bE,nameLabel:v=EE,isRequiredLabel:E=vE,successMessageText:A=TE,onFormClose:O,onFormOpen:k,onSubmitError:C,onSubmitSuccess:L}={}){this.name=ts.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:t,showBranding:i,id:n,isEmailRequired:r,isNameRequired:s,showEmail:o,showName:a,useSentryUser:c,colorScheme:d,themeDark:{...Ca.dark,...u},themeLight:{...Ca.light,...l},buttonLabel:f,cancelButtonLabel:p,submitButtonLabel:h,formTitle:_,emailLabel:g,emailPlaceholder:S,messageLabel:b,messagePlaceholder:y,nameLabel:v,namePlaceholder:T,isRequiredLabel:E,successMessageText:A,onFormClose:O,onFormOpen:k,onSubmitError:C,onSubmitSuccess:L}}setupOnce(){if(Ds())try{this._cleanupWidgetIfExists();const{autoInject:t}=this.options;if(!t)return;this._createWidget(this.options)}catch(t){ut&&m.error(t)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(t,n){try{const r=xa(this.options,n||{});return this._ensureShadowHost(r,({shadow:s})=>{const i=typeof t=="string"?cr.querySelector(t):typeof t.addEventListener=="function"?t:null;if(!i)return ut&&m.error("[Feedback] Unable to attach to target element"),null;const o=Oa({shadow:s,options:r,attachTo:i});return this._widgets.add(o),this._widget||(this._widget=o),o})}catch(r){return ut&&m.error(r),null}}createWidget(t){try{return this._createWidget(xa(this.options,t||{}))}catch(n){return ut&&m.error(n),null}}removeWidget(t){if(!t)return!1;try{if(this._widgets.has(t))return t.removeActor(),t.removeDialog(),this._widgets.delete(t),this._widget===t&&(this._widget=null),!0}catch(n){ut&&m.error(n)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const t=cr.querySelector(`#${this.options.id}`);t&&t.remove()}_createWidget(t){return this._ensureShadowHost(t,({shadow:n})=>{const r=Oa({shadow:n,options:t});return!this._hasInsertedActorStyles&&r.actor&&(n.appendChild(RE(cr)),this._hasInsertedActorStyles=!0),this._widgets.add(r),this._widget||(this._widget=r),r})}_ensureShadowHost(t,n){let r=!1;if(!this._shadow||!this._host){const{id:i,colorScheme:o,themeLight:a,themeDark:c}=t,{shadow:u,host:l}=AE({id:i,colorScheme:o,themeLight:a,themeDark:c});this._shadow=u,this._host=l,r=!0}this._host.dataset.sentryFeedbackColorscheme=t.colorScheme;const s=n({shadow:this._shadow,host:this._host});return r&&cr.body.appendChild(this._host),s}}ts.__initStatic();const Yl="CaptureConsole",WE=((e={})=>{const t=e.levels||mr;return{name:Yl,setupOnce(){},setup(n){"console"in M&&ic(({args:r,level:s})=>{x()!==n||!t.includes(s)||GE(r,s)})}}}),zE=WE;ee(Yl,zE);function GE(e,t){const n={level:hc(t),extra:{arguments:e}};st(r=>{if(r.addEventProcessor(o=>(o.logger="console",bt(o,{handled:!1,type:"console"}),o)),t==="assert"&&e[0]===!1){const o=`Assertion failed: ${hr(e.slice(1)," ")||"console.assert"}`;r.setExtra("arguments",e.slice(1)),Fs(o,n);return}const s=e.find(o=>o instanceof Error);if(t==="error"&&s){Pn(s,n);return}const i=hr(e," ");Fs(i,n)})}const Vl="Debug",qE=((e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:Vl,setupOnce(){},setup(n){n.on&&n.on("beforeSendEvent",(r,s)=>{if(t.debugger)debugger;tt(()=>{t.stringify?(console.log(JSON.stringify(r,null,2)),s&&Object.keys(s).length&&console.log(JSON.stringify(s,null,2))):(console.log(r),s&&Object.keys(s).length&&console.log(s))})})}}}),YE=qE;ee(Vl,YE);const nn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Kl="Dedupe",VE=(()=>{let e;return{name:Kl,setupOnce(){},processEvent(t){if(t.type)return t;try{if(XE(t,e))return nn&&m.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),KE=VE;ee(Kl,KE);function XE(e,t){return t?!!(JE(e,t)||ZE(e,t)):!1}function JE(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Jl(e,t)||!Xl(e,t))}function ZE(e,t){const n=Na(t),r=Na(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Jl(e,t)||!Xl(e,t))}function Xl(e,t){let n=Da(e),r=Da(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function Jl(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Na(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Da(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const Zl="ExtraErrorData",QE=((e={})=>{const t=e.depth||3,n=e.captureErrorCause||!1;return{name:Zl,setupOnce(){},processEvent(r,s){return tv(r,s,t,n)}}}),ev=QE;ee(Zl,ev);function tv(e,t={},n,r){if(!t.originalException||!pt(t.originalException))return e;const s=t.originalException.name||t.originalException.constructor.name,i=nv(t.originalException,r);if(i){const o={...e.contexts},a=Ie(i,n);return St(a)&&(je(a,"__sentry_skip_normalization__",!0),o[s]=a),{...e,contexts:o}}return e}function nv(e,t){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(const s of Object.keys(e)){if(n.indexOf(s)!==-1)continue;const i=e[s];r[s]=pt(i)?i.toString():i}if(t&&e.cause!==void 0&&(r.cause=pt(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){const s=e.toJSON();for(const i of Object.keys(s)){const o=s[i];r[i]=pt(o)?o.toString():o}}return r}catch(n){nn&&m.error("Unable to extract extra data from the Error object:",n)}return null}const rv=M,Ql="ReportingObserver",La=new WeakMap,sv=((e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(r){if(La.has(x()))for(const s of r)st(i=>{i.setExtra("url",s.url);const o=`ReportingObserver [${s.type}]`;let a="No details available";if(s.body){const c={};for(const u in s.body)c[u]=s.body[u];if(i.setExtra("body",c),s.type==="crash"){const u=s.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=s.body.message||a}Fs(`${o}: ${a}`)})}return{name:Ql,setupOnce(){if(!tf())return;new rv.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){La.set(r,!0)}}}),iv=sv;ee(Ql,iv);const ed="RewriteFrames",ov=((e={})=>{const t=e.root,n=e.prefix||"app:///",r=e.iteratee||(o=>{if(!o.filename)return o;const a=/^[a-zA-Z]:\\/.test(o.filename)||o.filename.includes("\\")&&!o.filename.includes("/"),c=/^\//.test(o.filename);if(a||c){const u=a?o.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):o.filename,l=t?If(t,u):wf(u);o.filename=`${n}${l}`}return o});function s(o){try{return{...o,exception:{...o.exception,values:o.exception.values.map(a=>({...a,...a.stacktrace&&{stacktrace:i(a.stacktrace)}}))}}}catch{return o}}function i(o){return{...o,frames:o&&o.frames&&o.frames.map(a=>r(a))}}return{name:ed,setupOnce(){},processEvent(o){let a=o;return o.exception&&Array.isArray(o.exception.values)&&(a=s(a)),a}}}),av=ov;ee(ed,av);const td="SessionTiming",cv=(()=>{const e=Date.now();return{name:td,setupOnce(){},processEvent(t){const n=Date.now();return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}}),uv=cv;ee(td,uv);const nd="HttpClient",lv=((e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:nd,setupOnce(){},setup(n){Sv(n,t),bv(n,t)}}}),dv=lv;ee(nd,dv);function fv(e,t,n,r){if(sd(e,n.status,n.url)){const s=Ev(t,r);let i,o,a,c;od()&&([{headers:i,cookies:a},{headers:o,cookies:c}]=[{cookieHeader:"Cookie",obj:s},{cookieHeader:"Set-Cookie",obj:n}].map(({cookieHeader:l,obj:d})=>{const f=mv(d.headers);let p;try{const h=f[l]||f[l.toLowerCase()]||void 0;h&&(p=rd(h))}catch{nn&&m.log(`Could not extract cookies from header ${l}`)}return{headers:f,cookies:p}}));const u=id({url:s.url,method:s.method,status:n.status,requestHeaders:i,responseHeaders:o,requestCookies:a,responseCookies:c});Br(u)}}function pv(e,t,n,r){if(sd(e,t.status,t.responseURL)){let s,i,o;if(od()){try{const c=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;c&&(i=rd(c))}catch{nn&&m.log("Could not extract cookies from response headers")}try{o=gv(t)}catch{nn&&m.log("Could not extract headers from response")}s=r}const a=id({url:t.responseURL,method:n,status:t.status,requestHeaders:s,responseHeaders:o,responseCookies:i});Br(a)}}function hv(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function rd(e){return e.split("; ").reduce((t,n)=>{const[r,s]=n.split("=");return t[r]=s,t},{})}function mv(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function gv(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return n[s]=i,n},{}):{}}function _v(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function yv(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function Sv(e,t){lc()&&Lr(n=>{if(x()!==e)return;const{response:r,args:s}=n,[i,o]=s;r&&fv(t,i,r,o)})}function bv(e,t){"XMLHttpRequest"in M&&Pr(n=>{if(x()!==e)return;const r=n.xhr,s=r[Be];if(!s)return;const{method:i,request_headers:o}=s;try{pv(t,r,i,o)}catch(a){nn&&m.warn("Error while extracting response event form XHR response",a)}})}function sd(e,t,n){return yv(e.failedRequestStatusCodes,t)&&_v(e.failedRequestTargets,n)&&!nu(n,x())}function id(e){const t=`HTTP Client Error with status code: ${e.status}`,n={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:hv(e.responseHeaders)}}};return bt(n,{type:"http.client",handled:!1}),n}function Ev(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function od(){const e=x();return e?!!e.getOptions().sendDefaultPii:!1}const Is=M,vv=7,ad="ContextLines",Tv=((e={})=>{const t=e.frameContextLines!=null?e.frameContextLines:vv;return{name:ad,setupOnce(){},processEvent(n){return wv(n,t)}}}),Iv=Tv;ee(ad,Iv);function wv(e,t){const n=Is.document,r=Is.location&&Rf(Is.location.href);if(!n||!r)return e;const s=e.exception&&e.exception.values;if(!s||!s.length)return e;const i=n.documentElement.innerHTML;if(!i)return e;const o=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return s.forEach(a=>{const c=a.stacktrace;c&&c.frames&&(c.frames=c.frames.map(u=>kv(u,o,r,t)))}),e}function kv(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Kd(t,e,r),e}function Mn(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Rv(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Mn(n);return s=>r.then(i=>s(i.transaction(t,"readwrite").objectStore(t)))}function cd(e){return Mn(e.getAllKeys())}function Cv(e,t,n){return e(r=>cd(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.max(...s,0)+1),Mn(r.transaction)}))}function xv(e){return e(t=>cd(t).then(n=>{if(n.length!==0)return Mn(t.get(n[0])).then(r=>(t.delete(n[0]),Mn(t.transaction).then(()=>r)))}))}function Av(e){let t;function n(){return t==null&&(t=Rv(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async r=>{try{const s=await bc(r,e.textEncoder);await Cv(n(),s,e.maxQueueSize||30)}catch{}},pop:async()=>{try{const r=await xv(n());if(r)return Ff(r,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch{}}}}function Mv(e){return t=>e({...t,createStore:Av})}function ZT(e){return Mv(ph(e))}const Pa=1e6,pr=String(0),Ov="main";let ud="",ld="",dd="",ni=w.navigator&&w.navigator.userAgent||"",fd="";const Nv=w.navigator&&w.navigator.language||w.navigator&&w.navigator.languages&&w.navigator.languages[0]||"";function Dv(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}const $a=w.navigator&&w.navigator.userAgentData;Dv($a)&&$a.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(ud=e.platform||"",dd=e.architecture||"",fd=e.model||"",ld=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];ni=`${t.brand} ${t.version}`}}).catch(e=>{});function Lv(e){return!("thread_metadata"in e)}function Pv(e){return Lv(e)?Bv(e):e}function $v(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&F&&m.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function Fv(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=$v(r),i=Pv(n),o=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:Date.now()),a=typeof r.timestamp=="number"?r.timestamp*1e3:Date.now();return{event_id:e,timestamp:new Date(o).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Ln,runtime:{name:"javascript",version:w.navigator.userAgent},os:{name:ud,version:ld,build_number:ni},device:{locale:Nv,model:fd,manufacturer:ni,architecture:dd,is_emulator:!1},debug_meta:{images:jv(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||W(),trace_id:s,active_thread_id:pr,relative_start_ns:"0",relative_end_ns:((a-o)*1e6).toFixed(0)}]}}function pd(e){return e.op==="pageload"}function Bv(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[pr]:{name:Ov}}};if(!e.samples.length)return r;const s=e.samples[0].timestamp,i=typeof performance.timeOrigin=="number"?performance.timeOrigin:le||0,o=i-(le||i);for(let a=0;a<e.samples.length;a++){const c=e.samples[a];if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[a]={elapsed_since_start_ns:((c.timestamp+o-s)*Pa).toFixed(0),stack_id:t,thread_id:pr};continue}let u=e.stacks[c.stackId];const l=[];for(;u;){l.push(u.frameId);const f=e.frames[u.frameId];r.frames[u.frameId]===void 0&&(r.frames[u.frameId]={function:f.name,abs_path:typeof f.resourceId=="number"?e.resources[f.resourceId]:void 0,lineno:f.line,colno:f.column}),u=u.parentId===void 0?void 0:e.stacks[u.parentId]}const d={elapsed_since_start_ns:((c.timestamp+o-s)*Pa).toFixed(0),stack_id:n,thread_id:pr};r.stacks[n]=l,r.samples[a]=d,n++}return r}function Hv(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function Uv(e){const t=[];return Vt(e,(n,r)=>{if(r==="transaction")for(let s=1;s<n.length;s++){const i=n[s];i&&i.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(n[s])}}),t}const Fa=new WeakMap;function jv(e){const t=M._sentryDebugIds;if(!t)return[];const n=x(),r=n&&n.getOptions(),s=r&&r.stackParser;if(!s)return[];let i;const o=Fa.get(s);o?i=o:(i=new Map,Fa.set(s,i));const a=Object.keys(t).reduce((u,l)=>{let d;const f=i.get(l);f?d=f:(d=s(l),i.set(l,d));for(let p=d.length-1;p>=0;p--){const h=d[p],_=h&&h.filename;if(h&&_){u[_]=t[l];break}}return u},{}),c=[];for(const u of e)u&&a[u]&&c.push({type:"sourcemap",code_file:u,debug_id:a[u]});return c}function Wv(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(F&&m.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(F&&m.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function zv(e){return e.samples.length<2?(F&&m.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(F&&m.log("[Profiling] Discarding profile because it contains no frames"),!1)}let hd=!1;const md=3e4;function Gv(e){return typeof e=="function"}function qv(){const e=w.Profiler;if(!Gv(e)){F&&m.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(md/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{F&&(m.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),m.log("[Profiling] Disabling profiling for current user session.")),hd=!0}}function ri(e){if(hd)return F&&m.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return F&&m.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=x(),n=t&&t.getOptions();if(!n)return F&&m.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return Wv(r)?r?(r===!0?!0:Math.random()<r)?!0:(F&&m.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(F&&m.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(F&&m.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function Yv(e,t,n,r){return zv(n)?Fv(e,t,n,r):null}const ft=new Map;function Vv(){return ft.size}function Kv(e){const t=ft.get(e);return t&&ft.delete(e),t}function Xv(e,t){if(ft.set(e,t),ft.size>30){const n=ft.keys().next().value;ft.delete(n)}}function QT(e){return e?ri(e)?si(e):e:(F&&m.log("[Profiling] Transaction is undefined, skipping profiling"),e)}function si(e){let t;pd(e)&&(t=De()*1e3);const n=qv();if(!n)return e;F&&m.log(`[Profiling] started profiling transaction: ${H(e).description}`);const r=W();async function s(){return!e||!n?null:n.stop().then(c=>(i&&(w.clearTimeout(i),i=void 0),F&&m.log(`[Profiling] stopped profiling of transaction: ${H(e).description}`),c?(Xv(r,c),null):(F&&m.log(`[Profiling] profiler returned null profile for: ${H(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null))).catch(c=>(F&&m.log("[Profiling] error while stopping profiler:",c),null))}let i=w.setTimeout(()=>{F&&m.log("[Profiling] max profile duration elapsed, stopping profiling for:",H(e).description),s()},md);const o=e.end.bind(e);function a(){return e?(s().then(()=>{e.setContext("profile",{profile_id:r,start_timestamp:t}),o()},()=>{o()}),e):o()}return e.end=a,e}const gd="BrowserProfiling",Jv=(()=>({name:gd,setupOnce(){},setup(e){const n=re().getTransaction();if(n&&pd(n)&&ri(n)&&si(n),typeof e.on!="function"){m.warn("[Profiling] Client does not support hooks, profiling will be disabled");return}e.on("startTransaction",r=>{ri(r)&&si(r)}),e.on("beforeEnvelope",r=>{if(!Vv())return;const s=Uv(r);if(!s.length)return;const i=[];for(const o of s){const a=o&&o.contexts,c=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){F&&m.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!c){F&&m.log("[Profiling] cannot find profile for a transaction without a profile context");continue}a&&a.profile&&delete a.profile;const l=Kv(c);if(!l){F&&m.log(`[Profiling] Could not retrieve profile for transaction: ${c}`);continue}const d=Yv(c,u,l,o);d&&i.push(d)}Hv(r,i)})}})),Zv=Jv,eI=ee(gd,Zv);let _d={};w.Sentry&&w.Sentry.Integrations&&(_d=w.Sentry.Integrations);const tI={..._d,...tm,...C_};function nI(e){const t={...e};ru(t,"react"),k_(t)}var ws,Ba;function Qv(){if(Ba)return ws;Ba=1;var e=xd(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=r,i[e.Memo]=s;function o(h){return e.isMemo(h)?s:i[h.$$typeof]||t}var a=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;function p(h,_,S){if(typeof _!="string"){if(f){var g=d(_);g&&g!==f&&p(h,g,S)}var y=c(_);u&&(y=y.concat(u(_)));for(var b=o(h),T=o(_),v=0;v<y.length;++v){var E=y[v];if(!n[E]&&!(S&&S[E])&&!(T&&T[E])&&!(b&&b[E])){var A=l(_,E);try{a(h,E,A)}catch{}}}}return h}return ws=p,ws}var eT=Qv();const ns=Cd(eT),yd="ui.react.render",tT="ui.react.update",Sd="ui.react.mount",Ha="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/profiler.tsx",nT="unknown";class bd extends Se.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=mt({name:`<${n}>`,onlyIfParent:!0,op:Sd,origin:"auto.ui.react.profiler",attributes:{"ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(s=>t[s]!==this.props.updateProps[s]);if(r.length>0){const s=De();this._updateSpan=go(this._mountSpan,()=>mt({name:`<${this.props.name}>`,onlyIfParent:!0,op:tT,origin:"auto.ui.react.profiler",startTimestamp:s,attributes:{"ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=De(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const s=H(this._mountSpan).timestamp;go(this._mountSpan,()=>{const i=mt({onlyIfParent:!0,name:`<${n}>`,op:yd,origin:"auto.ui.react.profiler",startTimestamp:s,attributes:{"ui.component_name":n}});i&&i.end(t)})}}render(){return this.props.children}}bd.__initStatic();function rI(e,t){const n=t&&t.name||e.displayName||e.name||nT,r=s=>Se.createElement(bd,{...t,name:n,updateProps:s,__self:this,__source:{fileName:Ha,lineNumber:159}},Se.createElement(e,{...s,__self:this,__source:{fileName:Ha,lineNumber:160}}));return r.displayName=`profiler(${n})`,ns(r,e),r}function sI(e,t={disabled:!1,hasRenderSpan:!0}){const[n]=Se.useState(()=>{if(!(t&&t.disabled))return mt({name:`<${e}>`,onlyIfParent:!0,op:Sd,origin:"auto.ui.react.profiler",attributes:{"ui.component_name":e}})});Se.useEffect(()=>(n&&n.end(),()=>{if(n&&t.hasRenderSpan){const r=H(n).timestamp,s=De(),i=mt({name:`<${e}>`,onlyIfParent:!0,op:yd,origin:"auto.ui.react.profiler",startTimestamp:r,attributes:{"ui.component_name":e}});i&&i.end(s)}}),[])}const ji=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ua="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/errorboundary.tsx";function rT(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}const sT="unknown",ja={componentStack:null,error:null,eventId:null};function iT(e,t){const n=new WeakMap;function r(s,i){if(!n.has(s)){if(s.cause)return n.set(s,!0),r(s.cause,i);s.cause=i}}r(e,t)}class Wi extends Se.Component{constructor(t){super(t),Wi.prototype.__init.call(this),this.state=ja,this._openFallbackReportDialog=!0;const n=x();n&&n.on&&t.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&r.event_id===this._lastEventId&&Yo({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,{componentStack:n}){const{beforeCapture:r,onError:s,showDialog:i,dialogOptions:o}=this.props;st(a=>{if(rT(Se.version)&&pt(t)){const u=new Error(t.message);u.name=`React ErrorBoundary ${t.name}`,u.stack=n,iT(t,u)}r&&r(a,t,n);const c=Pn(t,{captureContext:{contexts:{react:{componentStack:n}}},mechanism:{handled:!!this.props.fallback}});s&&s(t,n,c),i&&(this._lastEventId=c,this._openFallbackReportDialog&&Yo({...o,eventId:c})),this.setState({error:t,componentStack:n,eventId:c})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&s(t,n,r)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(ja)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let s;return typeof t=="function"?s=t({error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):s=t,Se.isValidElement(s)?s:(t&&ji&&m.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}function iI(e,t){const n=e.displayName||e.name||sT,r=s=>Se.createElement(Wi,{...t,__self:this,__source:{fileName:Ua,lineNumber:240}},Se.createElement(e,{...s,__self:this,__source:{fileName:Ua,lineNumber:241}}));return r.displayName=`errorBoundary(${n})`,ns(r,e),r}const oT="redux.action",aT="info",cT={attachReduxState:!0,actionTransformer:e=>e,stateTransformer:e=>e||null};function oI(e){const t={...cT,...e};return n=>(r,s)=>(t.attachReduxState&&Mc().addEventProcessor((o,a)=>{try{o.type===void 0&&o.contexts.state.state.type==="redux"&&(a.attachments=[...a.attachments||[],{filename:"redux_state.json",data:JSON.stringify(o.contexts.state.state.value)}])}catch{}return o}),n((o,a)=>{const c=r(o,a),u=re(),l=t.actionTransformer(a);typeof l<"u"&&l!==null&&u.addBreadcrumb({category:oT,data:l,type:aT});const d=t.stateTransformer(c);if(typeof d<"u"&&d!==null){const p=x(),h=p&&p.getOptions(),_=h&&h.normalizeDepth||3,S={state:{type:"redux",value:d}};je(S,"__sentry_override_normalization_depth__",3+_),u.setContext("state",S)}else u.setContext("state",null);const{configureScopeWithState:f}=t;return typeof f=="function"&&f(u,c),c},s))}function aI(e){const t=Yr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,match:s,instrumentPageLoad:i=!0,instrumentNavigation:o=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a);const c=d=>{Un(a,d)},u=d=>{jn(a,d)},l=uT(n,r,s);l(c,i,!1),l(u,!1,o)}}}function uT(e,t,n){return(r,s=!0,i=!0)=>{let o,a;s&&w&&w.location&&Wa(t,w.location,n,(c,u="url")=>{a=c,o=r({name:a,attributes:{[ke]:"pageload",[ye]:"auto.pageload.react.reactrouter_v3",[ne]:u}})}),i&&e.listen&&e.listen(c=>{(c.action==="PUSH"||c.action==="POP")&&(o&&o.end(),Wa(t,c,n,(u,l="url")=>{a=u;const d={[ke]:"navigation",[ye]:"auto.navigation.react.reactrouter_v3",[ne]:l};o=r({name:a,attributes:d})}))})}}function Wa(e,t,n,r){let s=t.pathname;n({location:t,routes:e},(i,o,a)=>{if(i||!a)return r(s);const c=lT(a.routes||[]);return c.length===0||c==="/*"?r(s):(s=c,r(s,"route"))})}function lT(e){if(!Array.isArray(e)||e.length===0)return"";const t=e.filter(r=>!!r.path);let n=-1;for(let r=t.length-1;r>=0;r--){const s=t[r];if(s.path&&s.path.startsWith("/")){n=r;break}}return t.slice(n).filter(({path:r})=>!!r).map(({path:r})=>r).join("")}const dT="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouter.tsx";let jt;function cI(e){const t=Yr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s,instrumentPageLoad:i=!0,instrumentNavigation:o=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a);const c=d=>{Un(a,d)},u=d=>{jn(a,d)},l=fT(n,r,s);l(c,i,!1),l(u,!1,o)}}}function uI(e){const t=Yr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s}=e;return{...t,afterAllSetup(i){t.afterAllSetup(i);const o=u=>{Un(i,u)},a=u=>{jn(i,u)},c=pT(n,r,s);c(o,e.instrumentPageLoad,!1),c(a,!1,e.instrumentNavigation)}}}function fT(e,t,n){return Ed(e,"reactrouter_v4",t,n)}function pT(e,t,n){return Ed(e,"reactrouter_v5",t,n)}function Ed(e,t,n=[],r){function s(){if(e&&e.location)return e.location.pathname;if(w&&w.location)return w.location.pathname}function i(o){if(n.length===0||!r)return[o,"url"];const a=vd(n,o,r);for(let c=0;c<a.length;c++)if(a[c].match.isExact)return[a[c].match.path,"route"];return[o,"url"]}return(o,a=!0,c=!0)=>{const u=s();if(a&&u){const[l,d]=i(u);jt=o({name:l,attributes:{[ke]:"pageload",[ye]:`auto.pageload.react.${t}`,[ne]:d}})}c&&e.listen&&e.listen((l,d)=>{if(d&&(d==="PUSH"||d==="POP")){jt&&jt.end();const[f,p]=i(l.pathname);jt=o({name:f,attributes:{[ke]:"navigation",[ye]:`auto.navigation.react.${t}`,[ne]:p}})}})}}function vd(e,t,n,r=[]){return e.some(s=>{const i=s.path?n(t,s):r.length?r[r.length-1].match:hT(t);return i&&(r.push({route:s,match:i}),s.routes&&vd(s.routes,t,n,r)),!!i}),r}function hT(e){return{path:"/",url:"/",params:{},isExact:e==="/"}}function lI(e){const t=e.displayName||e.name,n=r=>{if(r&&r.computedMatch&&r.computedMatch.isExact){const s=r.computedMatch.path,i=mT();i&&(i.updateName(s),i.setAttribute(ne,"route"))}return Se.createElement(e,{...r,__self:this,__source:{fileName:dT,lineNumber:279}})};return n.displayName=`sentryRoute(${t})`,ns(n,e),n}function mT(){if(jt)return jt;const e=ln(),t=e?Kt(e):void 0;if(!t)return;const n=H(t).op;return n==="navigation"||n==="pageload"?t:void 0}const Td="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouterv6.tsx";let qt,gt,_t,yt,kn,Tt,rn,rs,lt=!1;function dI(e){const t=Yr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:n,useLocation:r,useNavigationType:s,createRoutesFromChildren:i,matchRoutes:o,stripBasename:a,instrumentPageLoad:c=!0,instrumentNavigation:u=!0}=e;return{...t,afterAllSetup(l){t.afterAllSetup(l);const d=p=>{jn(l,p)},f=w&&w.location&&w.location.pathname;c&&f&&Un(l,{name:f,attributes:{[ne]:"url",[ke]:"pageload",[ye]:"auto.pageload.react.reactrouter_v6"}}),gt=n,_t=r,yt=s,Tt=o,kn=i,lt=a||!1,rn=d,rs=u}}}function fI(e,t,n,r,s,i){return(o,a=!0,c=!0)=>{const u=w&&w.location&&w.location.pathname;a&&u&&(qt=o({name:u,attributes:{[ne]:"url",[ke]:"pageload",[ye]:"auto.pageload.react.reactrouter_v6"}})),gt=e,_t=t,yt=n,Tt=s,kn=r,lt=i||!1,rn=o,rs=c}}function ks(e,t){if(!t||t==="/"||!e.toLowerCase().startsWith(t.toLowerCase()))return e;const n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?e:e.slice(n)||"/"}function Id(e,t,n,r=""){if(!e||e.length===0)return[lt?ks(t.pathname,r):t.pathname,"url"];let s="";if(n)for(let i=0;i<n.length;i++){const o=n[i],a=o.route;if(a){if(a.index)return[lt?ks(o.pathname,r):o.pathname,"route"];const c=a.path;if(c){const u=c[0]==="/"||s[s.length-1]==="/"?c:`/${c}`;if(s+=u,r+o.pathname===t.pathname)return lo(s)!==lo(o.pathname)&&s.slice(-2)!=="/*"?[(lt?"":r)+u,"route"]:[(lt?"":r)+s,"route"]}}}return[lt?ks(t.pathname,r):t.pathname,"url"]}function zi(e,t,n,r,s){const i=Array.isArray(r)?r:Tt(n,t,s);if(e&&i){const[o,a]=Id(n,t,i,s);e.updateName(o),e.setAttribute(ne,a)}}function Gi(e,t,n,r,s){const i=Array.isArray(r)?r:Tt(t,e,s);if(rs&&(n==="PUSH"||n==="POP")&&i){qt&&qt.end();const[o,a]=Id(t,e,i,s);qt=rn({name:o,attributes:{[ne]:a,[ke]:"navigation",[ye]:"auto.navigation.react.reactrouter_v6"}})}}function pI(e){if(!gt||!_t||!yt||!kn||!Tt||!rn)return ji&&m.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.
      useEffect: ${gt}. useLocation: ${_t}. useNavigationType: ${yt}.
      createRoutesFromChildren: ${kn}. matchRoutes: ${Tt}. customStartTransaction: ${rn}.`),e;let t=!0;const n=r=>{const s=_t(),i=yt();return gt(()=>{const o=kn(r.children);t?(zi(qi(),s,o),t=!1):Gi(s,o,i)},[s,i]),Se.createElement(e,{...r,__self:this,__source:{fileName:Td,lineNumber:329}})};return ns(n,e),n}function hI(e){if(!gt||!_t||!yt||!Tt||!rn)return ji&&m.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),e;let t=!0;const n=r=>{const{routes:s,locationArg:i}=r,o=e(s,i),a=_t(),c=yt(),u=typeof i=="string"||i&&i.pathname?i:a;return gt(()=>{const l=typeof u=="string"?{pathname:u}:u;t?(zi(qi(),l,s),t=!1):Gi(l,s,c)},[c,u]),o};return(r,s)=>Se.createElement(n,{routes:r,locationArg:s,__self:this,__source:{fileName:Td,lineNumber:386}})}function mI(e){return function(t,n){const r=e(t,n),s=n&&n.basename,i=qi();return r.state.historyAction==="POP"&&i&&zi(i,r.state.location,t,void 0,s),r.subscribe(o=>{const a=o.location;rs&&(o.historyAction==="PUSH"||o.historyAction==="POP")&&Gi(a,t,o.historyAction,void 0,s)}),r}}function qi(){if(qt)return qt;const e=ln(),t=e?Kt(e):void 0;if(!t)return;const n=H(t).op;return n==="navigation"||n==="pageload"?t:void 0}export{qg as Breadcrumbs,_g as BrowserClient,eI as BrowserProfilingIntegration,UT as BrowserTracing,t_ as Dedupe,Wi as ErrorBoundary,ts as Feedback,Uh as FunctionToString,o_ as GlobalHandlers,p_ as HttpContext,Nc as Hub,Ah as InboundFilters,tI as Integrations,__ as LinkedErrors,BT as ModuleMetadata,bd as Profiler,Qr as Replay,XT as ReplayCanvas,Bs as SDK_VERSION,ke as SEMANTIC_ATTRIBUTE_SENTRY_OP,ye as SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,Pt as SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,ne as SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,He as Scope,b_ as TryCatch,w as WINDOW,nt as addBreadcrumb,eh as addEventProcessor,Yf as addGlobalEventProcessor,PT as addIntegration,zc as addTracingExtensions,Lu as breadcrumbsIntegration,Ku as browserApiErrorsIntegration,Zv as browserProfilingIntegration,Yr as browserTracingIntegration,zE as captureConsoleIntegration,Br as captureEvent,Pn as captureException,Fs as captureMessage,yo as captureSession,YT as captureUserFeedback,Mg as chromeStackLineParser,RT as close,yT as configureScope,Iv as contextLinesIntegration,LT as continueTrace,oI as createReduxEnhancer,eu as createTransport,mg as createUserFeedbackEnvelope,YE as debugIntegration,KE as dedupeIntegration,I_ as defaultIntegrations,Tr as defaultRequestInstrumentationOptions,Wg as defaultStackLineParsers,zg as defaultStackParser,Cc as endSession,dg as eventFromException,fg as eventFromMessage,Ou as exceptionFromError,ev as extraErrorDataIntegration,AT as extractTraceparentData,JT as feedbackIntegration,kT as flush,zT as forceLoad,uu as functionToStringIntegration,Lg as geckoStackLineParser,ln as getActiveSpan,ze as getActiveTransaction,x as getClient,z as getCurrentHub,re as getCurrentScope,w_ as getDefaultIntegrations,Hs as getHubFromCarrier,KT as getReplay,Lc as getSpanStatusFromHttpCode,Uu as globalHandlersIntegration,dv as httpClientIntegration,Gu as httpContextIntegration,au as inboundFiltersIntegration,nI as init,xu as instrumentOutgoingRequests,xT as isInitialized,CT as lastEventId,Yu as linkedErrorsIntegration,ZT as makeBrowserOfflineTransport,bg as makeFetchTransport,Eo as makeMain,$T as makeMultiplexedTransport,vg as makeXHRTransport,HT as metrics,kh as moduleMetadataIntegration,GT as onLoad,QT as onProfilingStartRouteTransaction,jT as opera10StackLineParser,WT as opera11StackLineParser,FT as parameterize,aI as reactRouterV3BrowserTracingIntegration,uT as reactRouterV3Instrumentation,cI as reactRouterV4BrowserTracingIntegration,fT as reactRouterV4Instrumentation,uI as reactRouterV5BrowserTracingIntegration,pT as reactRouterV5Instrumentation,dI as reactRouterV6BrowserTracingIntegration,fI as reactRouterV6Instrumentation,dE as replayCanvasIntegration,VT as replayIntegration,iv as reportingObserverIntegration,av as rewriteFramesIntegration,kE as sendFeedback,uv as sessionTimingIntegration,ap as setContext,ch as setCurrentClient,bT as setExtra,ST as setExtras,yi as setHttpStatus,Cp as setMeasurement,vT as setTag,ET as setTags,TT as setUser,Yo as showReportDialog,MT as spanStatusfromHttpCode,jn as startBrowserTracingNavigationSpan,Un as startBrowserTracingPageLoadSpan,mt as startInactiveSpan,_o as startSession,NT as startSpan,DT as startSpanManual,wT as startTransaction,OT as trace,sI as useProfiler,Fg as winjsStackLineParser,go as withActiveSpan,iI as withErrorBoundary,IT as withIsolationScope,rI as withProfiler,st as withScope,pI as withSentryReactRouterV6Routing,lI as withSentryRouting,qT as wrap,mI as wrapCreateBrowserRouter,hI as wrapUseRoutes};
//# sourceMappingURL=index-D8k50M-R.js.map
