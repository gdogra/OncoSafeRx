import{_ as K,r as u,j as e,R as H}from"./index-8LC8IQKY.js";import{C as f}from"./Card-D3HCI77k.js";import{M as A}from"./Modal-B4eqKWv4.js";import{F as Y,S as J,g as C,b as W}from"./App-oj_FpO4B.js";import{R as I}from"./refresh-cw-COcu3qHG.js";import{D as U}from"./download-p-Tta4FD.js";import{C as $}from"./chart-column-Cpp69poi.js";import{T as E}from"./triangle-alert-BOEc2-VO.js";import{T as V}from"./target-BsLO2_W8.js";import{C as D}from"./calendar-B3krNJ8E.js";import{C as X}from"./clock-cnhIl4So.js";import{T as Q}from"./trending-up-B8-67GCO.js";import{U as Z}from"./users-CyD4O_24.js";import{E as B}from"./external-link-Do2W_skG.js";import{C as F}from"./check-C30E-uti.js";import{C as G}from"./copy-BssB0KcP.js";import{c as R}from"./createLucideIcon-DlukwGQd.js";import{S as O}from"./settings-BOlIvdsj.js";import{B as M}from"./book-open-Bz3m9MPO.js";import{C as ee}from"./chevron-right-gr4R8e8i.js";import{E as se}from"./eye-off-wZTBMD5g.js";import{E as te}from"./eye-DBjH61aH.js";import{X as ae}from"./x-CQXgGKGO.js";import{T as re}from"./test-tube-Hkyfs53W.js";import{S as ie}from"./save-CZVRNu7b.js";import{S as ne}from"./search-Cd1nfMpK.js";import{D as L}from"./database-B2dB_f4w.js";import{M as le}from"./message-square-DnSrRja7.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],oe=R("circle-check",ce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],xe=R("git-branch",de);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],z=R("github",me);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ue=R("key",he);class pe{constructor(){this.STORAGE_KEY="oncosaferx_feedback",this.STORAGE_KEY_TICKETS="oncosaferx_tickets"}generateId(){return`feedback_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getBrowserInfo(){const s=navigator.userAgent;let t="Unknown",x="Unknown",c="Unknown";return s.includes("Chrome")?t="Chrome":s.includes("Firefox")?t="Firefox":s.includes("Safari")?t="Safari":s.includes("Edge")&&(t="Edge"),s.includes("Windows")?c="Windows":s.includes("Mac")?c="macOS":s.includes("Linux")?c="Linux":s.includes("Android")?c="Android":s.includes("iOS")&&(c="iOS"),{browser:t,version:x,os:c}}async submitFeedback(s){try{const t=sessionStorage.getItem("oncosaferx_session_id")||this.generateId(),x=window.location.pathname,c=window.location.href,h={...s,page:x,userAgent:navigator.userAgent,url:c,sessionId:t,metadata:{component:s.component,reproductionSteps:s.reproductionSteps?[s.reproductionSteps]:void 0,expectedBehavior:s.expectedBehavior,actualBehavior:s.actualBehavior,browserInfo:this.getBrowserInfo(),feature:this.inferFeatureFromPage(x)}},o=await fetch("/api/feedback/submit",{method:"POST",headers:{"Content-Type":"application/json","user-email":this.getCurrentUserEmail()},body:JSON.stringify(h)});if(!o.ok)throw new Error("Failed to submit feedback to server");const a=await o.json();console.log("âœ… Feedback submitted successfully:",a.ticketNumber);const n={id:a.id,sessionId:t,timestamp:new Date().toISOString(),type:a.classification.type,category:a.classification.category,priority:a.classification.priority,title:s.title,description:s.description,page:x,userAgent:navigator.userAgent,url:c,metadata:h.metadata,status:"new",estimatedEffort:a.classification.estimatedEffort,labels:a.classification.labels,votes:0};this.storeFeedbackLocally(n);try{(await K(()=>import("./analytics-DcoOYTyl.js"),[])).analytics.logEvent("feedback_submitted",{type:a.classification.type,category:a.classification.category,priority:a.classification.priority,page:x,ticketNumber:a.ticketNumber})}catch(p){console.warn("Analytics not available:",p)}return a.id}catch(t){return console.error("Error submitting feedback:",t),console.log("ðŸ”„ Falling back to local storage..."),this.submitFeedbackLocally(s)}}async submitFeedbackLocally(s){const t=sessionStorage.getItem("oncosaferx_session_id")||this.generateId(),x=window.location.pathname,c=window.location.href,h=Y.classify(s,x),o={id:this.generateId(),sessionId:t,timestamp:new Date().toISOString(),type:h.type,category:h.category,priority:h.priority,title:s.title,description:s.description,page:x,userAgent:navigator.userAgent,url:c,metadata:{component:s.component,reproductionSteps:s.reproductionSteps?[s.reproductionSteps]:void 0,expectedBehavior:s.expectedBehavior,actualBehavior:s.actualBehavior,browserInfo:this.getBrowserInfo(),feature:this.inferFeatureFromPage(x),fallbackMode:!0},status:"new",estimatedEffort:h.estimatedEffort,labels:h.labels,votes:0};return this.storeFeedbackLocally(o),this.storeTicketForSprint(o),o.id}getCurrentUserEmail(){try{const s=localStorage.getItem("osrx_dev_auth");return s&&JSON.parse(s).email||""}catch{return""}}storeFeedbackLocally(s){try{const t=this.getStoredFeedback();t.push(s);const x=t.slice(-100);localStorage.setItem(this.STORAGE_KEY,JSON.stringify(x))}catch(t){console.warn("Failed to store feedback locally:",t)}}storeTicketForSprint(s){try{const t=this.getStoredTickets();t.push({id:s.id,type:s.type,category:s.category,priority:s.priority,effort:s.estimatedEffort,title:s.title,description:s.description,labels:s.labels,timestamp:s.timestamp,status:s.status}),localStorage.setItem(this.STORAGE_KEY_TICKETS,JSON.stringify(t))}catch(t){console.warn("Failed to store ticket:",t)}}getStoredFeedback(){try{const s=localStorage.getItem(this.STORAGE_KEY);return s?JSON.parse(s):[]}catch(s){return console.warn("Failed to retrieve stored feedback:",s),[]}}getStoredTickets(){try{const s=localStorage.getItem(this.STORAGE_KEY_TICKETS);return s?JSON.parse(s):[]}catch(s){return console.warn("Failed to retrieve stored tickets:",s),[]}}getSprintPlan(){const t=this.getStoredTickets().filter(x=>!["done","closed","wont_fix"].includes(x.status));return J.calculateSprintFit(t)}async getFeedbackAnalytics(){try{const o=this.getAccessToken();if(o){const a=await fetch("/api/feedback/admin/analytics",{headers:{Authorization:`Bearer ${o}`}});if(a.ok){const n=await a.json();return console.log("ðŸ“Š Loaded analytics from backend:",n),n}}}catch{console.log("âš ï¸ Backend analytics unavailable, using local data")}const s=this.getStoredFeedback(),t=this.getStoredTickets(),x=s.reduce((o,a)=>(o[a.type]=(o[a.type]||0)+1,o),{}),c=s.reduce((o,a)=>(o[a.category]=(o[a.category]||0)+1,o),{}),h=s.reduce((o,a)=>(o[a.priority]=(o[a.priority]||0)+1,o),{});return{totalFeedback:s.length,totalTickets:t.length,byType:x,byCategory:c,byPriority:h,recentFeedback:s.slice(-10).reverse(),sprintPlan:this.getSprintPlan()}}async getAllFeedback(s=1,t=50,x={}){try{const c=new URLSearchParams({page:s.toString(),limit:t.toString(),...x}),h=this.getAccessToken(),o=h?{Authorization:`Bearer ${h}`}:{},a=await fetch(`/api/feedback/admin/all?${c}`,{headers:o});if(!a.ok)throw new Error("Failed to fetch feedback from server");const n=await a.json();return console.log("ðŸ“‹ Loaded feedback from backend:",n),n}catch(c){return console.error("Error fetching feedback:",c),{feedback:this.getStoredFeedback(),total:this.getStoredFeedback().length,page:1,limit:50,totalPages:1}}}async updateFeedbackStatus(s,t,x,c){try{const h=this.getAccessToken(),o=await fetch(`/api/feedback/admin/${s}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",...h?{Authorization:`Bearer ${h}`}:{}},body:JSON.stringify({status:t,assignee:x,sprintTarget:c})});if(!o.ok)throw new Error("Failed to update feedback status");const a=await o.json();return console.log("âœ… Feedback status updated:",a),a}catch(h){throw console.error("Error updating feedback status:",h),h}}async createGitHubIssue(s){try{const t=this.getAccessToken(),x=await fetch(`/api/feedback/admin/${s}/create-issue`,{method:"POST",headers:t?{Authorization:`Bearer ${t}`}:{}});if(!x.ok)throw new Error("Failed to create GitHub issue");const c=await x.json();return console.log("âœ… GitHub issue created:",c.issueUrl),c}catch(t){throw console.error("Error creating GitHub issue:",t),t}}getAccessToken(){try{const s=localStorage.getItem("osrx_auth_tokens");return s&&JSON.parse(s)?.access_token||null}catch{return null}}inferFeatureFromPage(s){return{"/":"dashboard","/drug-search":"drug_search","/interactions":"drug_interactions","/protocols":"clinical_protocols","/genomics":"pharmacogenomics","/trials":"clinical_trials","/regimens":"treatment_regimens"}[s]||"unknown"}exportFeedbackData(){const s={feedback:this.getStoredFeedback(),tickets:this.getStoredTickets(),analytics:this.getFeedbackAnalytics(),exportDate:new Date().toISOString()};return JSON.stringify(s,null,2)}clearFeedbackData(){localStorage.removeItem(this.STORAGE_KEY),localStorage.removeItem(this.STORAGE_KEY_TICKETS)}async createGitHubIssueFromFeedback(s){try{if(C.isEnabled()){const t=await C.createIssueFromFeedback(s);s.metadata={...s.metadata,githubIssue:{number:t.number,url:t.html_url,created_at:t.created_at}},this.updateStoredFeedback(s),console.log(`Created GitHub issue #${t.number} for feedback ${s.id}`)}}catch(t){console.warn("Failed to create GitHub issue:",t)}}updateStoredFeedback(s){try{const t=this.getStoredFeedback(),x=t.findIndex(c=>c.id===s.id);x!==-1&&(t[x]=s,localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t)))}catch(t){console.warn("Failed to update stored feedback:",t)}}async sendToBackend(s){}}const _=new pe,ge=({className:m=""})=>{const[s,t]=u.useState(null),[x,c]=u.useState(null);if(u.useEffect(()=>{let a=!1;return(async()=>{try{const n=await fetch("/api/health");if(!n.ok)throw new Error(`HTTP ${n.status}`);const p=await n.json();a||t(p)}catch(n){a||c(n?.message||"Failed to load health")}})(),()=>{a=!0}},[]),!(!!x||s?.warnings&&s.warnings.length>0||s?.supabase?.enabled===!1))return null;const o=s?.supabase?.enabled===!1||(s?.warnings||[]).includes("supabase_not_configured");return e.jsx("div",{className:`rounded-md border p-3 text-sm ${o?"bg-yellow-50 border-yellow-200 text-yellow-800":"bg-red-50 border-red-200 text-red-800"} ${m}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"System Health Notice"}),x?e.jsxs("div",{children:["Health endpoint unavailable: ",x]}):e.jsx("div",{children:o?e.jsx("span",{children:"Supabase is not configured. Writes will not persist; some actions operate in offline mode."}):e.jsxs("span",{children:["Warnings: ",(s?.warnings||[]).join(", ")]})})]}),e.jsx("div",{className:"text-xs text-gray-500",children:s?.timestamp?new Date(s.timestamp).toLocaleString():""})]})})},ye=({isOpen:m,onClose:s})=>{const[t,x]=u.useState(null),[c,h]=u.useState(!0);u.useEffect(()=>{m&&o()},[m]);const o=()=>{h(!0);try{const l=_.getFeedbackAnalytics();x(l)}catch(l){console.error("Error loading feedback analytics:",l)}finally{h(!1)}},a=()=>{try{const l=_.exportFeedbackData(),r=new Blob([l],{type:"application/json"}),d=URL.createObjectURL(r),y=document.createElement("a");y.href=d,y.download=`oncosaferx-feedback-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(d)}catch(l){console.error("Error exporting data:",l)}},n=l=>({critical:"bg-red-100 text-red-800",high:"bg-orange-100 text-orange-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"})[l]||"bg-gray-100 text-gray-800",p=l=>({bug:"ðŸ›",feature_request:"ðŸ’¡",improvement:"âš¡",question:"â“",complaint:"ðŸ˜ ",compliment:"ðŸ‘",security_concern:"ðŸ”’",performance_issue:"ðŸš€",usability_issue:"ðŸŽ¯",data_issue:"ðŸ“Š",integration_issue:"ðŸ”—"})[l]||"ðŸ“";if(c)return e.jsx(A,{isOpen:m,onClose:s,title:"Feedback Dashboard",size:"xl",children:e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(I,{className:"w-8 h-8 animate-spin text-primary-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading analytics..."})]})});if(!t)return e.jsx(A,{isOpen:m,onClose:s,title:"Feedback Dashboard",size:"xl",children:e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-600",children:"No feedback data available."})})});const{totalFeedback:j,totalTickets:k,byType:v,byCategory:S,byPriority:T,recentFeedback:g,sprintPlan:N}=t;return e.jsx(A,{isOpen:m,onClose:s,title:"Feedback Dashboard",size:"full",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-3 py-2 text-sm bg-gray-100 rounded-md hover:bg-gray-200",children:[e.jsx(I,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-3 py-2 text-sm bg-primary-100 text-primary-700 rounded-md hover:bg-primary-200",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:"Export Data"})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(f,{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-600",children:j}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Feedback"})]}),e.jsxs(f,{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:k}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Tickets"})]}),e.jsxs(f,{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:N.currentSprint.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Current Sprint"})]}),e.jsxs(f,{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:N.nextSprint.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Next Sprint"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(f,{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx($,{className:"w-5 h-5 mr-2"}),"Feedback by Type"]}),e.jsx("div",{className:"space-y-3",children:Object.entries(v).map(([l,r])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:p(l)}),e.jsx("span",{className:"text-sm font-medium",children:l.replace("_"," ")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${r/j*100}%`}})}),e.jsx("span",{className:"text-sm font-semibold w-8 text-right",children:r})]})]},l))})]}),e.jsxs(f,{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(E,{className:"w-5 h-5 mr-2"}),"Priority Distribution"]}),e.jsx("div",{className:"space-y-3",children:Object.entries(T).map(([l,r])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${n(l)}`,children:l}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${r/j*100}%`}})}),e.jsx("span",{className:"text-sm font-semibold w-8 text-right",children:r})]})]},l))})]})]}),e.jsxs(f,{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(V,{className:"w-5 h-5 mr-2"}),"Sprint Planning"]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-green-900 mb-3 flex items-center",children:[e.jsx(D,{className:"w-4 h-4 mr-1"}),"Current Sprint (",N.currentSprint.length," items)"]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:N.currentSprint.map((l,r)=>e.jsxs("div",{className:"p-2 bg-green-50 rounded border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${n(l.priority)}`,children:l.priority}),e.jsx("span",{className:"text-xs text-gray-500",children:l.effort})]}),e.jsxs("div",{className:"text-xs font-medium mt-1",children:[p(l.type)," ",l.type]})]},r))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-blue-900 mb-3 flex items-center",children:[e.jsx(X,{className:"w-4 h-4 mr-1"}),"Next Sprint (",N.nextSprint.length," items)"]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:N.nextSprint.map((l,r)=>e.jsxs("div",{className:"p-2 bg-blue-50 rounded border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${n(l.priority)}`,children:l.priority}),e.jsx("span",{className:"text-xs text-gray-500",children:l.effort})]}),e.jsxs("div",{className:"text-xs font-medium mt-1",children:[p(l.type)," ",l.type]})]},r))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx(Q,{className:"w-4 h-4 mr-1"}),"Backlog (",N.backlog.length," items)"]}),e.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[N.backlog.slice(0,10).map((l,r)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${n(l.priority)}`,children:l.priority}),e.jsx("span",{className:"text-xs text-gray-500",children:l.effort})]}),e.jsxs("div",{className:"text-xs font-medium mt-1",children:[p(l.type)," ",l.type]})]},r)),N.backlog.length>10&&e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",N.backlog.length-10," more items..."]})]})]})]})]}),e.jsxs(f,{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Z,{className:"w-5 h-5 mr-2"}),"Recent Feedback"]}),e.jsx("div",{className:"space-y-4",children:g.slice(0,5).map((l,r)=>e.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-lg",children:p(l.type)}),e.jsx("span",{className:"font-medium text-gray-900",children:l.title}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${n(l.priority)}`,children:l.priority})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[l.description.substring(0,150),"..."]}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[e.jsxs("span",{children:["ðŸ“ ",l.page]}),e.jsxs("span",{children:["ðŸ•’ ",new Date(l.timestamp).toLocaleDateString()]}),e.jsxs("span",{children:["ðŸ·ï¸ ",l.category]}),l.metadata?.githubIssue&&e.jsx("a",{href:l.metadata.githubIssue.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-1 text-blue-600 hover:text-blue-800",children:e.jsxs("span",{children:["ðŸ”— GitHub #",l.metadata.githubIssue.number]})})]})]})})},r))})]})]})})},be=({isOpen:m,onClose:s})=>{const[t,x]=u.useState(0),[c,h]=u.useState(null),o=async(n,p)=>{try{await navigator.clipboard.writeText(n),h(p),setTimeout(()=>h(null),2e3)}catch(j){console.error("Failed to copy:",j)}},a=[{title:"Create or Choose Repository",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"First, you'll need a GitHub repository where the issues will be created. This can be:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[e.jsx("li",{children:"Your main OncoSafeRx repository (if you have one)"}),e.jsx("li",{children:"A dedicated feedback/issues repository"}),e.jsx("li",{children:"Any repository where you want to track feedback"})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Repository Requirements:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ Must have Issues enabled (default for most repositories)"}),e.jsx("li",{children:"â€¢ You must have write access to create issues"}),e.jsx("li",{children:"â€¢ Can be public or private"})]})]})]})},{title:"Create Personal Access Token",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"Create a Personal Access Token (PAT) to authenticate with GitHub's API."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"1. Go to GitHub Settings"}),e.jsxs("a",{href:"https://github.com/settings/tokens",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800",children:[e.jsx("span",{className:"text-sm",children:"Open"}),e.jsx(B,{className:"w-3 h-3"})]})]}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsx("span",{className:"text-sm font-medium",children:'2. Click "Generate new token" â†’ "Generate new token (classic)"'})}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"3. Configure the token:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Note:"}),' "OncoSafeRx Feedback Integration"']}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Expiration:"})," Choose appropriate duration"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Scopes:"}),' Select "repo" (or "public_repo" for public repositories only)']})]})]}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsx("span",{className:"text-sm font-medium",children:'4. Click "Generate token" and copy the token immediately'})})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(E,{className:"w-4 h-4 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Important:"})," Copy the token immediately after creation. GitHub will only show it once for security reasons."]})]})})]})},{title:"Set Up Repository Labels",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"OncoSafeRx automatically creates labels for better issue organization. You can create these labels in advance:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Priority Labels:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{name:"priority:critical",color:"#d73a49",desc:"Critical issues"},{name:"priority:high",color:"#f66a0a",desc:"High priority"},{name:"priority:medium",color:"#fbca04",desc:"Medium priority"},{name:"priority:low",color:"#28a745",desc:"Low priority"}].map(n=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:n.color}}),e.jsx("span",{className:"text-sm font-mono",children:n.name})]}),e.jsx("button",{onClick:()=>o(n.name,n.name),className:"text-gray-400 hover:text-gray-600",children:c===n.name?e.jsx(F,{className:"w-3 h-3"}):e.jsx(G,{className:"w-3 h-3"})})]},n.name))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Type Labels:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{name:"bug",color:"#d73a49"},{name:"enhancement",color:"#a2eeef"},{name:"question",color:"#d876e3"},{name:"security",color:"#0052cc"}].map(n=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:n.color}}),e.jsx("span",{className:"text-sm font-mono",children:n.name})]}),e.jsx("button",{onClick:()=>o(n.name,n.name),className:"text-gray-400 hover:text-gray-600",children:c===n.name?e.jsx(F,{className:"w-3 h-3"}):e.jsx(G,{className:"w-3 h-3"})})]},n.name))})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Auto-Creation"}),e.jsx("p",{className:"text-sm text-blue-800",children:"Don't worry if you skip this step! GitHub will automatically create labels when OncoSafeRx tries to use them. Creating them in advance just ensures consistent colors and descriptions."})]})]})},{title:"Configure OncoSafeRx",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"Now configure the GitHub integration in OncoSafeRx:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"1. Repository Information:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Owner:"})," Your GitHub username or organization name"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"Repository:"})," The repository name (not the full URL)"]})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"2. Authentication:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"â€¢ Paste the Personal Access Token you created"}),e.jsx("li",{children:"â€¢ Leave API URL empty (uses GitHub.com by default)"})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"3. Test & Enable:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:'â€¢ Click "Test Connection" to verify setup'}),e.jsx("li",{children:"â€¢ Enable the integration if test succeeds"}),e.jsx("li",{children:"â€¢ Save the configuration"})]})]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Example Configuration:"}),e.jsxs("div",{className:"text-sm font-mono text-green-800 space-y-1",children:[e.jsxs("div",{children:["Owner: ",e.jsx("span",{className:"bg-white px-1 rounded",children:"your-username"})]}),e.jsxs("div",{children:["Repository: ",e.jsx("span",{className:"bg-white px-1 rounded",children:"oncosaferx-feedback"})]}),e.jsxs("div",{children:["Token: ",e.jsx("span",{className:"bg-white px-1 rounded",children:"ghp_xxxxxxxxxxxxxxxxxxxxx"})]})]})]})]})},{title:"Test the Integration",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"Once configured, test the integration to ensure everything works correctly:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"1. Submit Test Feedback:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"â€¢ Use the feedback button to submit a test report"}),e.jsx("li",{children:"â€¢ Try different feedback types (bug, feature request, etc.)"}),e.jsx("li",{children:"â€¢ Include detailed information for testing"})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"2. Verify GitHub Issues:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"â€¢ Check your GitHub repository for new issues"}),e.jsx("li",{children:"â€¢ Verify labels are applied correctly"}),e.jsx("li",{children:"â€¢ Confirm issue content includes all feedback details"})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"3. Check Feedback Dashboard:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"â€¢ View the feedback admin dashboard"}),e.jsx("li",{children:"â€¢ Look for GitHub issue links in recent feedback"}),e.jsx("li",{children:"â€¢ Verify the integration status"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"What Gets Created:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ GitHub issue with formatted title and description"}),e.jsx("li",{children:"â€¢ Automatic labels based on feedback type and priority"}),e.jsx("li",{children:"â€¢ Browser and environment information"}),e.jsx("li",{children:"â€¢ Direct link back to the OncoSafeRx page"}),e.jsx("li",{children:"â€¢ Reproduction steps for bug reports"})]})]})]})}];return e.jsx(A,{isOpen:m,onClose:s,title:"GitHub Integration Setup Guide",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center space-x-2",children:a.map((n,p)=>e.jsxs(H.Fragment,{children:[e.jsx("button",{onClick:()=>x(p),className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${p===t?"bg-primary-600 text-white":p<t?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:p<t?e.jsx(F,{className:"w-4 h-4"}):p+1}),p<a.length-1&&e.jsx("div",{className:`w-8 h-0.5 ${p<t?"bg-green-500":"bg-gray-200"}`})]},p))}),e.jsxs("div",{className:"min-h-[400px]",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsxs("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:[t===0&&e.jsx(z,{className:"w-5 h-5 text-primary-600"}),t===1&&e.jsx(ue,{className:"w-5 h-5 text-primary-600"}),t===2&&e.jsx(O,{className:"w-5 h-5 text-primary-600"}),t===3&&e.jsx(M,{className:"w-5 h-5 text-primary-600"}),t===4&&e.jsx(F,{className:"w-5 h-5 text-primary-600"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a[t].title}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Step ",t+1," of ",a.length]})]})]}),e.jsx("div",{className:"prose prose-sm max-w-none",children:a[t].content})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>x(Math.max(0,t-1)),disabled:t===0,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[t+1," of ",a.length]}),t<a.length-1?e.jsxs("button",{onClick:()=>x(t+1),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700",children:[e.jsx("span",{children:"Next"}),e.jsx(ee,{className:"w-4 h-4"})]}):e.jsx("button",{onClick:s,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700",children:"Get Started"})]})]})})},je=({onConfigChange:m})=>{const[s,t]=u.useState({owner:"",repo:"",token:"",enabled:!1}),[x,c]=u.useState(!1),[h,o]=u.useState(!1),[a,n]=u.useState(null),[p,j]=u.useState(!1),[k,v]=u.useState([]),[S,T]=u.useState(!1);u.useEffect(()=>{const d=C.getConfig();d&&t(d)},[]);const g=(d,y)=>{t(w=>({...w,[d]:y})),n(null),v([])},N=async()=>{o(!0),n(null);const d=C.validateConfig(s);if(!d.valid){v(d.errors),o(!1);return}const y=C.getConfig();C.saveConfig({...s,enabled:!0});try{const w=await C.testConnection();n(w)}catch(w){n({success:!1,message:w instanceof Error?w.message:"Test failed"})}finally{y&&C.saveConfig(y),o(!1)}},l=async()=>{j(!0),v([]);try{const d=C.validateConfig(s);if(!d.valid){v(d.errors),j(!1);return}C.saveConfig(s),m?.(s.enabled),n({success:!0,message:"Configuration saved successfully"})}catch(d){v([d instanceof Error?d.message:"Failed to save configuration"])}finally{j(!1)}},r=()=>{confirm("Are you sure you want to clear the GitHub configuration?")&&(C.clearConfig(),t({owner:"",repo:"",token:"",enabled:!1}),n(null),v([]),m?.(!1))};return e.jsx(f,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded-lg flex items-center justify-center",children:e.jsx(z,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"GitHub Issues Integration"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Automatically create GitHub issues from user feedback"})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:s.enabled&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(F,{className:"w-3 h-3 mr-1"}),"Enabled"]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Enable GitHub Integration"}),e.jsx("p",{className:"text-sm text-gray-600",children:"When enabled, feedback will automatically create GitHub issues"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.enabled,onChange:d=>g("enabled",d.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Repository Owner ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"owner",value:s.owner,onChange:d=>g("owner",d.target.value),placeholder:"username or organization",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"GitHub username or organization name"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"repo",className:"block text-sm font-medium text-gray-700 mb-1",children:["Repository Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"repo",value:s.repo,onChange:d=>g("repo",d.target.value),placeholder:"repository-name",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Repository name (e.g., "my-project")'})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"token",className:"block text-sm font-medium text-gray-700 mb-1",children:["Personal Access Token ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:x?"text":"password",id:"token",value:s.token,onChange:d=>g("token",d.target.value),placeholder:"ghp_xxxxxxxxxxxxxxxxxxxx",className:"w-full border border-gray-300 rounded-md px-3 py-2 pr-10 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("button",{type:"button",onClick:()=>c(!x),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:x?e.jsx(se,{className:"w-4 h-4 text-gray-400"}):e.jsx(te,{className:"w-4 h-4 text-gray-400"})})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1 space-y-1",children:[e.jsxs("p",{children:["Required permissions: ",e.jsx("code",{children:"repo"})," (or ",e.jsx("code",{children:"public_repo"})," for public repositories)"]}),e.jsxs("a",{href:"https://github.com/settings/tokens/new?scopes=repo&description=OncoSafeRx%20Feedback%20Integration",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-primary-600 hover:text-primary-700",children:["Create token on GitHub ",e.jsx(B,{className:"w-3 h-3 ml-1"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"apiUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"API URL (Optional)"}),e.jsx("input",{type:"url",id:"apiUrl",value:s.apiUrl||"",onChange:d=>g("apiUrl",d.target.value),placeholder:"https://api.github.com (default)",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to use GitHub.com. Use for GitHub Enterprise Server."})]})]}),k.length>0&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(E,{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Configuration Errors"}),e.jsx("ul",{className:"text-sm text-red-700 mt-1 list-disc list-inside",children:k.map((d,y)=>e.jsx("li",{children:d},y))})]})]})}),a&&e.jsx("div",{className:`p-3 border rounded-lg ${a.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:e.jsxs("div",{className:"flex items-start space-x-2",children:[a.success?e.jsx(F,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-0.5"}):e.jsx(ae,{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`text-sm font-medium ${a.success?"text-green-800":"text-red-800"}`,children:a.success?"Connection Successful":"Connection Failed"}),e.jsx("p",{className:`text-sm mt-1 ${a.success?"text-green-700":"text-red-700"}`,children:a.message})]})]})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Clear Configuration"}),e.jsxs("button",{onClick:()=>T(!0),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:"Setup Guide"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:N,disabled:h||!s.owner||!s.repo||!s.token,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-blue-700 bg-blue-100 rounded-md hover:bg-blue-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{children:h?"Testing...":"Test Connection"})]}),e.jsxs("button",{onClick:l,disabled:p,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ie,{className:"w-4 h-4"}),e.jsx("span",{children:p?"Saving...":"Save Configuration"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"How it works"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ User feedback is automatically converted to GitHub issues"}),e.jsx("li",{children:"â€¢ Issues include detailed metadata, labels, and context"}),e.jsx("li",{children:"â€¢ Priority and effort estimation are added as labels"}),e.jsx("li",{children:"â€¢ Bug reports include reproduction steps and browser info"}),e.jsx("li",{children:"â€¢ Issues are automatically labeled for organization"})]})]}),e.jsx(be,{isOpen:S,onClose:()=>T(!1)})]})})},P=["new","triaged","in_backlog","in_sprint","in_progress","in_review","done","closed","duplicate","wont_fix"],fe=["critical","high","medium","low"],Ne=["bug","feature_request","improvement","question","complaint","compliment","security_concern","performance_issue","usability_issue","data_issue","integration_issue"],ve=m=>m==="critical"?"bg-red-100 text-red-800":m==="high"?"bg-orange-100 text-orange-800":m==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",we=()=>{const[m,s]=u.useState([]),[t,x]=u.useState(0),[c,h]=u.useState(1),[o,a]=u.useState(25),[n,p]=u.useState(!0),[j,k]=u.useState({}),[v,S]=u.useState(""),[T,g]=u.useState(null),[N,l]=u.useState(null),r=async()=>{p(!0);try{const i=await _.getAllFeedback(c,o,j);s(i.feedback||[]),x(i.total||0)}catch(i){console.error("Failed to load feedback list:",i),s([]),x(0)}finally{p(!1)}};u.useEffect(()=>{r()},[c,o,j]);const d=u.useMemo(()=>{if(!v.trim())return m;const i=v.toLowerCase();return m.filter(b=>`${b.title} ${b.description}`.toLowerCase().includes(i))},[m,v]),y=async(i,b)=>{try{l(i),await _.updateFeedbackStatus(i,b),await r()}catch(q){console.error("Update status failed:",q),alert("Failed to update status")}finally{l(null)}},w=async i=>{try{g(i);const b=await _.createGitHubIssue(i);b?.issueUrl&&window.open(b.issueUrl,"_blank"),await r()}catch(b){console.error("Create issue failed:",b),alert("Failed to create GitHub issue")}finally{g(null)}};return e.jsxs(f,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(O,{className:"w-5 h-5 mr-2"}),"Feedback List & Triage"]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{onClick:r,className:"px-3 py-2 text-sm bg-gray-100 rounded hover:bg-gray-200",children:e.jsx(I,{className:`w-4 h-4 ${n?"animate-spin":""}`})})})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-3 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:"w-4 h-4 absolute left-2 top-2.5 text-gray-400"}),e.jsx("input",{value:v,onChange:i=>S(i.target.value),placeholder:"Search title/description",className:"w-full pl-7 pr-2 py-2 border border-gray-300 rounded text-sm"})]}),e.jsxs("select",{value:j.status||"",onChange:i=>{h(1),k(b=>({...b,status:i.target.value||void 0}))},className:"border border-gray-300 rounded px-2 py-2 text-sm",children:[e.jsx("option",{value:"",children:"All Statuses"}),P.map(i=>e.jsx("option",{value:i,children:i},i))]}),e.jsxs("select",{value:j.priority||"",onChange:i=>{h(1),k(b=>({...b,priority:i.target.value||void 0}))},className:"border border-gray-300 rounded px-2 py-2 text-sm",children:[e.jsx("option",{value:"",children:"All Priorities"}),fe.map(i=>e.jsx("option",{value:i,children:i},i))]}),e.jsxs("select",{value:j.type||"",onChange:i=>{h(1),k(b=>({...b,type:i.target.value||void 0}))},className:"border border-gray-300 rounded px-2 py-2 text-sm",children:[e.jsx("option",{value:"",children:"All Types"}),Ne.map(i=>e.jsx("option",{value:i,children:i.replace("_"," ")},i))]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left bg-gray-50",children:[e.jsx("th",{className:"px-3 py-2",children:"Title"}),e.jsx("th",{className:"px-3 py-2",children:"Type"}),e.jsx("th",{className:"px-3 py-2",children:"Priority"}),e.jsx("th",{className:"px-3 py-2",children:"Status"}),e.jsx("th",{className:"px-3 py-2",children:"When"}),e.jsx("th",{className:"px-3 py-2",children:"Actions"})]})}),e.jsxs("tbody",{children:[n&&e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-3 py-6 text-center text-gray-500",children:[e.jsx(I,{className:"w-5 h-5 inline mr-2 animate-spin"})," Loading..."]})}),!n&&d.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-3 py-6 text-center text-gray-500",children:[e.jsx(E,{className:"w-5 h-5 inline mr-2"})," No feedback found"]})}),!n&&d.map(i=>e.jsxs("tr",{className:"border-t",children:[e.jsxs("td",{className:"px-3 py-2 align-top",children:[e.jsx("div",{className:"font-medium text-gray-900",children:i.title}),e.jsx("div",{className:"text-gray-600 line-clamp-2",children:i.description}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[i.page||"unknown"," â€¢ ",i.category]})]}),e.jsx("td",{className:"px-3 py-2 align-top",children:i.type}),e.jsx("td",{className:"px-3 py-2 align-top",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full ${ve(i.priority)}`,children:i.priority})}),e.jsx("td",{className:"px-3 py-2 align-top",children:e.jsx("select",{value:i.status,onChange:b=>y(i.id,b.target.value),className:"border border-gray-300 rounded px-2 py-1 text-xs",disabled:N===i.id,children:P.map(b=>e.jsx("option",{value:b,children:b},b))})}),e.jsx("td",{className:"px-3 py-2 align-top text-xs text-gray-500",children:new Date(i.timestamp).toLocaleString()}),e.jsx("td",{className:"px-3 py-2 align-top",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>w(i.id),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",disabled:T===i.id,title:"Create GitHub Issue",children:[e.jsx(xe,{className:"w-3 h-3 inline mr-1"})," ",T===i.id?"Creating...":"Issue"]}),i.metadata?.githubIssue?.url&&e.jsxs("a",{href:i.metadata.githubIssue.url,target:"_blank",rel:"noopener noreferrer",className:"px-2 py-1 text-xs bg-gray-100 rounded hover:bg-gray-200",children:[e.jsx(F,{className:"w-3 h-3 inline mr-1 text-green-600"})," View"]})]})})]},i.id))]})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[e.jsxs("div",{className:"text-gray-600",children:["Total: ",t]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{disabled:c<=1,onClick:()=>h(i=>Math.max(1,i-1)),className:"px-3 py-1 bg-gray-100 rounded disabled:opacity-50",children:"Prev"}),e.jsxs("span",{children:["Page ",c]}),e.jsx("button",{disabled:c*o>=t,onClick:()=>h(i=>i+1),className:"px-3 py-1 bg-gray-100 rounded disabled:opacity-50",children:"Next"}),e.jsx("select",{value:o,onChange:i=>{h(1),a(parseInt(i.target.value))},className:"border border-gray-300 rounded px-2 py-1",children:[10,25,50,100].map(i=>e.jsxs("option",{value:i,children:[i,"/page"]},i))})]})]})]})},ke=()=>{const[m,s]=u.useState(null),[t,x]=u.useState(!0),[c,h]=u.useState(null);u.useEffect(()=>{let a=!1;return(async()=>{try{const n=o(),p=await fetch("/api/admin/deploy/status",{headers:n?{Authorization:`Bearer ${n}`}:{}});if(!p.ok)throw new Error(`HTTP ${p.status}`);const j=await p.json();a||s(j)}catch(n){a||h(n?.message||"Failed to load deploy status")}finally{a||x(!1)}})(),()=>{a=!0}},[]);const o=()=>{try{const a=localStorage.getItem("osrx_auth_tokens");return a?JSON.parse(a).access_token:null}catch{return null}};return e.jsxs("div",{className:"border rounded-md p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Deploy Status"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-3 py-1 text-sm bg-gray-100 rounded hover:bg-gray-200",children:"Refresh"})]}),t&&e.jsx("div",{className:"text-sm text-gray-600",children:"Loading..."}),c&&e.jsx("div",{className:"text-sm text-red-700",children:c}),!t&&!c&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("div",{className:"font-medium text-gray-800 mb-2",children:"Netlify"}),m?.warnings?.includes("netlify_not_configured")?e.jsx("div",{className:"text-gray-600",children:"Not configured (set NETLIFY_AUTH_TOKEN and NETLIFY_SITE_ID on the server)"}):m?.netlify?e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:["Status: ",e.jsx("span",{className:"font-mono",children:m.netlify.state})]}),e.jsxs("div",{children:["Commit: ",e.jsx("span",{className:"font-mono",children:m.netlify.commit_ref?.slice(0,7)||"n/a"})]}),e.jsxs("div",{children:["Updated: ",new Date(m.netlify.updated_at).toLocaleString()]}),m.netlify.deploy_ssl_url&&e.jsx("a",{className:"text-blue-600 hover:underline",href:m.netlify.deploy_ssl_url,target:"_blank",rel:"noreferrer",children:"View deploy"})]}):e.jsx("div",{className:"text-gray-600",children:"Status unavailable"})]}),e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("div",{className:"font-medium text-gray-800 mb-2",children:"Render"}),m?.warnings?.includes("render_not_configured")?e.jsx("div",{className:"text-gray-600",children:"Not configured (set RENDER_API_KEY and RENDER_SERVICE_ID on the server)"}):m?.render?e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:["Status: ",e.jsx("span",{className:"font-mono",children:m.render.status||m.render.deploy?.status||"unknown"})]}),e.jsxs("div",{children:["Commit: ",e.jsx("span",{className:"font-mono",children:(m.render.commit||m.render.gitCommit)?.slice(0,7)||"n/a"})]}),e.jsxs("div",{children:["Updated: ",new Date(m.render.updatedAt||m.render.createdAt||Date.now()).toLocaleString()]}),m.render.url&&e.jsx("a",{className:"text-blue-600 hover:underline",href:m.render.url,target:"_blank",rel:"noreferrer",children:"View deploy"})]}):e.jsx("div",{className:"text-gray-600",children:"Status unavailable"})]})]}),!!m?.warnings?.length&&e.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Warnings: ",m.warnings.join(", ")]})]})},Ze=()=>{const[m,s]=u.useState(!1),[t,x]=u.useState(null),[c,h]=u.useState(!0),o=()=>{try{const r=_.exportFeedbackData(),d=new Blob([r],{type:"application/json"}),y=URL.createObjectURL(d),w=document.createElement("a");w.href=y,w.download=`oncosaferx-feedback-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(y)}catch(r){console.error("Error exporting data:",r)}},a=()=>{confirm("Are you sure you want to clear all feedback data? This action cannot be undone.")&&(_.clearFeedbackData(),n(),alert("Feedback data cleared successfully."))},n=async()=>{h(!0);try{const r=await _.getFeedbackAnalytics();x(r)}catch(r){console.error("Error loading analytics:",r),x({totalFeedback:0,totalTickets:0,recentFeedback:[],sprintPlan:{currentSprint:[],nextSprint:[],backlog:[]}})}finally{h(!1)}};H.useEffect(()=>{n(),j(),k()},[]);const{showToast:p}=W(),j=async()=>{try{const r=l(),d=await fetch("/api/feedback/admin/migration-status",{headers:r?{Authorization:`Bearer ${r}`}:{}});if(d.ok){const y=await d.json();T(y)}}catch{}},k=async()=>{try{const r=l(),d=await fetch("/api/admin/rbac/seed-status",{headers:r?{Authorization:`Bearer ${r}`}:{}});if(d.ok){const y=await d.json();N(y)}}catch{}},v=async()=>{try{const r=l(),d=await fetch("/api/feedback/admin/migrate",{method:"POST",headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},body:JSON.stringify({force:!0})});if(d.ok){const y=await d.json();await j(),p("success",`Migration complete: inserted ${y.inserted||0} item(s).`,4e3)}else p("error","Migration failed.",4e3)}catch{p("error","Migration error.",4e3)}},[S,T]=u.useState(null),[g,N]=u.useState(null),l=()=>{try{const r=localStorage.getItem("osrx_auth_tokens");return r?JSON.parse(r).access_token:null}catch{return null}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(ge,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(O,{className:"w-6 h-6 mr-2"}),"Feedback Administration"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage user feedback, view analytics, and plan sprints based on automated ticket categorization."})]}),e.jsxs("div",{className:"flex space-x-3 items-center",children:[e.jsxs("div",{className:"hidden sm:flex items-center space-x-2 px-3 py-1 rounded-full border text-xs",title:"Feedback storage status",children:[e.jsx(L,{className:"w-3.5 h-3.5"}),S?.supabaseEnabled?e.jsx("span",{className:"text-green-700",children:"Supabase on"}):e.jsx("span",{className:"text-gray-700",children:"Supabase off"}),S?.ran&&e.jsxs("span",{className:"ml-2 inline-flex items-center",children:[e.jsx(oe,{className:"w-3.5 h-3.5 text-green-600 mr-1"}),"migrated ",S.inserted]}),!S?.ran&&S?.supabaseEnabled&&e.jsxs("span",{className:"ml-2 inline-flex items-center",children:[e.jsx(E,{className:"w-3.5 h-3.5 text-yellow-600 mr-1"}),"migration pending"]})]}),S?.supabaseEnabled&&e.jsxs("button",{onClick:v,className:"hidden sm:inline-flex items-center space-x-1 px-3 py-1 text-xs bg-gray-100 rounded hover:bg-gray-200",title:"Run in-memory â†’ Supabase migration",children:[e.jsx(L,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Migrate"})]}),e.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:"Export Data"})]}),e.jsxs("button",{onClick:()=>s(!0),className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:"View Dashboard"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(f,{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-primary-600",children:c?"...":t?.totalFeedback||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Feedback"})]}),e.jsxs(f,{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:c?"...":t?.totalTickets||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Tickets"})]}),e.jsxs(f,{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:c?"...":t?.sprintPlan?.currentSprint?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Current Sprint"})]}),e.jsxs(f,{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:c?"...":t?.sprintPlan?.nextSprint?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Next Sprint"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(f,{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Automated Classification System"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Classification Features"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ Automatic type detection (bug, feature, improvement, etc.)"}),e.jsx("li",{children:"â€¢ Priority assignment based on keywords and context"}),e.jsx("li",{children:"â€¢ Effort estimation for sprint planning"}),e.jsx("li",{children:"â€¢ Category mapping to product areas"}),e.jsx("li",{children:"â€¢ Label generation for better organization"})]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-green-900 mb-2",children:"Sprint Integration"}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"â€¢ Automatic sprint capacity calculation"}),e.jsx("li",{children:"â€¢ Priority-based ticket sorting"}),e.jsx("li",{children:"â€¢ Effort point distribution (XS: 1pt â†’ XXL: 21pts)"}),e.jsx("li",{children:"â€¢ Backlog management with overflow handling"})]})]})]})]}),e.jsxs(f,{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Feedback Activity"}),e.jsxs("div",{className:"space-y-3",children:[!c&&t?.recentFeedback?.slice(0,5).map((r,d)=>e.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:r.title}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${r.priority==="critical"?"bg-red-100 text-red-800":r.priority==="high"?"bg-orange-100 text-orange-800":r.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:r.priority})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[r.type," â€¢ ",r.category," â€¢ ",new Date(r.timestamp).toLocaleDateString()]})]},d)),c&&e.jsx("div",{className:"text-center text-gray-500 py-8",children:e.jsx("div",{className:"animate-pulse",children:"Loading recent feedback..."})}),!c&&(!t?.recentFeedback||t.recentFeedback.length===0)&&e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(le,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No feedback submitted yet"})]})]})]})]}),e.jsx(we,{}),e.jsx(je,{onConfigChange:n}),e.jsx(ke,{}),e.jsxs(f,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"RBAC Seeding Status"}),e.jsx("button",{onClick:k,className:"px-3 py-1 text-sm bg-gray-100 rounded hover:bg-gray-200",children:"Refresh"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Tenant"}),e.jsx("div",{className:"text-gray-600",children:g?.tenantId||"unknown"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"IDs Assigned"}),e.jsx("div",{className:"text-gray-600",children:g?.totalAssigned??0})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Emails Resolved/Unresolved"}),e.jsx("div",{className:"text-gray-600",children:g?`${g.totalResolved}/${g.totalUnresolved}`:"0/0"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-2",children:"Assigned User IDs"}),e.jsxs("ul",{className:"text-xs text-gray-600 space-y-1 max-h-36 overflow-auto border rounded p-2",children:[(g?.idsAssigned||[]).map((r,d)=>e.jsx("li",{className:"font-mono",children:r},d)),(!g?.idsAssigned||g.idsAssigned.length===0)&&e.jsx("li",{className:"text-gray-400",children:"None"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-2",children:"Resolved Emails"}),e.jsxs("ul",{className:"text-xs text-gray-600 space-y-1 max-h-36 overflow-auto border rounded p-2",children:[(g?.emailsResolved||[]).map((r,d)=>e.jsx("li",{children:r},d)),(!g?.emailsResolved||g.emailsResolved.length===0)&&e.jsx("li",{className:"text-gray-400",children:"None"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-2",children:"Unresolved Emails"}),e.jsxs("ul",{className:"text-xs text-gray-600 space-y-1 max-h-36 overflow-auto border rounded p-2",children:[(g?.emailsUnresolved||[]).map((r,d)=>e.jsx("li",{children:r},d)),(!g?.emailsUnresolved||g.emailsUnresolved.length===0)&&e.jsx("li",{className:"text-gray-400",children:"None"})]})]})]})]}),e.jsxs(f,{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Data Management"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-yellow-900 mb-2",children:"âš ï¸ Important Notes"}),e.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[e.jsx("li",{children:"â€¢ Feedback data is currently stored locally in browser localStorage"}),e.jsx("li",{children:"â€¢ In production, this should be connected to a backend API"}),e.jsx("li",{children:"â€¢ Data may be lost if browser storage is cleared"}),e.jsx("li",{children:"â€¢ Export data regularly for backup purposes"})]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:o,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200",children:"Export All Data"}),e.jsx("button",{onClick:n,className:"px-4 py-2 bg-green-100 text-green-700 rounded-md hover:bg-green-200",disabled:c,children:c?"Refreshing...":"Refresh Analytics"}),e.jsx("button",{onClick:a,className:"px-4 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200",children:"Clear All Data"})]})]})]}),e.jsxs(f,{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(D,{className:"w-5 h-5 mr-2"}),"Sprint Planning Workflow"]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-medium text-green-900",children:"1. Collection"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{children:"Users submit feedback through the floating feedback button throughout the application."}),e.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded",children:[e.jsx("strong",{children:"Automated:"})," Type detection, priority assignment, effort estimation"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-medium text-blue-900",children:"2. Classification"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{children:"ML-style classification assigns tickets to appropriate categories and estimates work required."}),e.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded",children:[e.jsx("strong",{children:"Output:"})," Categorized tickets with priority, effort, and labels"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-medium text-purple-900",children:"3. Sprint Planning"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{children:"Automated sprint capacity calculation distributes tickets across current and future sprints."}),e.jsxs("div",{className:"mt-2 p-2 bg-purple-50 rounded",children:[e.jsx("strong",{children:"Result:"})," Ready-to-implement sprint backlog"]})]})]})]})]}),e.jsx(ye,{isOpen:m,onClose:()=>s(!1)})]})};export{Ze as default};
