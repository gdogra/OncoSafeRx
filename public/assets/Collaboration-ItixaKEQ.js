import{r as f,j as e}from"./index-8LC8IQKY.js";import{A}from"./activity-BXSagPiR.js";import{U as v}from"./users-CyD4O_24.js";import{C as N}from"./calendar-B3krNJ8E.js";import{M as w}from"./message-circle-DEGO_Agj.js";import{F as b}from"./file-text-CyEOTfEa.js";import{S as T}from"./square-check-big-Dxpo7YFx.js";import{P as j}from"./plus-BSkQUrbd.js";import{C as L}from"./clock-cnhIl4So.js";import{V as U}from"./video-BrQTAF6N.js";import{T as Y}from"./triangle-alert-BOEc2-VO.js";import"./createLucideIcon-DlukwGQd.js";class K{constructor(){this.TEAMS_KEY="oncosaferx_teams",this.TUMOR_BOARDS_KEY="oncosaferx_tumor_boards",this.PATHWAYS_KEY="oncosaferx_pathways",this.COMMUNICATIONS_KEY="oncosaferx_communications",this.CONSULTATIONS_KEY="oncosaferx_consultations",this.WORKFLOWS_KEY="oncosaferx_workflows"}getTeams(){try{const s=localStorage.getItem(this.TEAMS_KEY);return s?JSON.parse(s):[]}catch(s){return console.error("Error retrieving teams:",s),[]}}getTeam(s){return this.getTeams().find(a=>a.id===s)||null}saveTeam(s){try{const t=this.getTeams(),a=t.findIndex(n=>n.id===s.id);a!==-1?t[a]=s:t.push(s),localStorage.setItem(this.TEAMS_KEY,JSON.stringify(t))}catch(t){throw console.error("Error saving team:",t),new Error("Failed to save team")}}addTeamMember(s,t){const a=this.getTeam(s);if(!a)throw new Error("Team not found");a.members.push(t),a.lastActivity=new Date().toISOString(),this.saveTeam(a)}removeTeamMember(s,t){const a=this.getTeam(s);if(!a)throw new Error("Team not found");a.members=a.members.filter(n=>n.id!==t),a.lastActivity=new Date().toISOString(),this.saveTeam(a)}updateMemberAvailability(s,t,a){const n=this.getTeam(s);if(!n)throw new Error("Team not found");const o=n.members.find(x=>x.id===t);if(!o)throw new Error("Member not found");o.availability=a,o.lastActive=new Date().toISOString(),this.saveTeam(n)}getTumorBoards(){try{const s=localStorage.getItem(this.TUMOR_BOARDS_KEY);return s?JSON.parse(s):[]}catch(s){return console.error("Error retrieving tumor boards:",s),[]}}getTumorBoard(s){return this.getTumorBoards().find(a=>a.id===s)||null}saveTumorBoard(s){try{const t=this.getTumorBoards(),a=t.findIndex(n=>n.id===s.id);a!==-1?t[a]=s:t.push(s),localStorage.setItem(this.TUMOR_BOARDS_KEY,JSON.stringify(t))}catch(t){throw console.error("Error saving tumor board:",t),new Error("Failed to save tumor board")}}addTumorBoardCase(s,t){const a=this.getTumorBoard(s);if(!a)throw new Error("Tumor board not found");a.cases.push(t),a.lastModified=new Date().toISOString(),this.saveTumorBoard(a)}updateTumorBoardCase(s,t,a){const n=this.getTumorBoard(s);if(!n)throw new Error("Tumor board not found");const o=n.cases.findIndex(x=>x.id===t);if(o===-1)throw new Error("Case not found");n.cases[o]={...n.cases[o],...a},n.lastModified=new Date().toISOString(),this.saveTumorBoard(n)}addActionItem(s,t){const a=this.getTumorBoard(s);if(!a)throw new Error("Tumor board not found");a.actionItems.push(t),a.lastModified=new Date().toISOString(),this.saveTumorBoard(a)}updateActionItem(s,t,a){const n=this.getTumorBoard(s);if(!n)throw new Error("Tumor board not found");const o=n.actionItems.findIndex(x=>x.id===t);if(o===-1)throw new Error("Action item not found");n.actionItems[o]={...n.actionItems[o],...a},n.lastModified=new Date().toISOString(),this.saveTumorBoard(n)}getClinicalPathways(){try{const s=localStorage.getItem(this.PATHWAYS_KEY);return s?JSON.parse(s):[]}catch(s){return console.error("Error retrieving clinical pathways:",s),[]}}getClinicalPathway(s){return this.getClinicalPathways().find(a=>a.id===s)||null}saveClinicalPathway(s){try{const t=this.getClinicalPathways(),a=t.findIndex(n=>n.id===s.id);a!==-1?t[a]=s:t.push(s),localStorage.setItem(this.PATHWAYS_KEY,JSON.stringify(t))}catch(t){throw console.error("Error saving clinical pathway:",t),new Error("Failed to save clinical pathway")}}findPathwaysForCondition(s,t){return this.getClinicalPathways().filter(n=>n.condition.toLowerCase().includes(s.toLowerCase())&&(!t||!n.stage||n.stage===t))}getCommunicationThreads(){try{const s=localStorage.getItem(this.COMMUNICATIONS_KEY);return s?JSON.parse(s):[]}catch(s){return console.error("Error retrieving communications:",s),[]}}getCommunicationThread(s){return this.getCommunicationThreads().find(a=>a.id===s)||null}saveCommunicationThread(s){try{const t=this.getCommunicationThreads(),a=t.findIndex(n=>n.id===s.id);a!==-1?t[a]=s:t.push(s),localStorage.setItem(this.COMMUNICATIONS_KEY,JSON.stringify(t))}catch(t){throw console.error("Error saving communication thread:",t),new Error("Failed to save communication thread")}}addMessage(s,t){const a=this.getCommunicationThread(s);if(!a)throw new Error("Communication thread not found");a.messages.push(t),a.lastActivity=new Date().toISOString(),this.saveCommunicationThread(a)}getThreadsForUser(s){return this.getCommunicationThreads().filter(a=>a.participants.includes(s))}getUnreadMessages(s){const t=this.getThreadsForUser(s),a=[];return t.forEach(n=>{n.messages.forEach(o=>{o.senderId!==s&&(o.acknowledgments.find(m=>m.userId===s)||a.push(o))})}),a}getConsultationRequests(){try{const s=localStorage.getItem(this.CONSULTATIONS_KEY);return s?JSON.parse(s):[]}catch(s){return console.error("Error retrieving consultation requests:",s),[]}}getConsultationRequest(s){return this.getConsultationRequests().find(a=>a.id===s)||null}saveConsultationRequest(s){try{const t=this.getConsultationRequests(),a=t.findIndex(n=>n.id===s.id);a!==-1?t[a]=s:t.push(s),localStorage.setItem(this.CONSULTATIONS_KEY,JSON.stringify(t))}catch(t){throw console.error("Error saving consultation request:",t),new Error("Failed to save consultation request")}}getConsultationRequestsForUser(s){return this.getConsultationRequests().filter(a=>a.requesterId===s||a.assignedTo===s||a.consultantResponse?.responderId===s)}getPendingConsultations(s){return this.getConsultationRequests().filter(a=>a.status==="pending"&&(!s||a.specialtyRequested===s))}getWorkflowTemplates(){try{const s=localStorage.getItem(this.WORKFLOWS_KEY);return s?JSON.parse(s):[]}catch(s){return console.error("Error retrieving workflow templates:",s),[]}}getWorkflowTemplate(s){return this.getWorkflowTemplates().find(a=>a.id===s)||null}saveWorkflowTemplate(s){try{const t=this.getWorkflowTemplates(),a=t.findIndex(n=>n.id===s.id);a!==-1?t[a]=s:t.push(s),localStorage.setItem(this.WORKFLOWS_KEY,JSON.stringify(t))}catch(t){throw console.error("Error saving workflow template:",t),new Error("Failed to save workflow template")}}getTeamActivitySummary(s,t=30){const a=this.getTeam(s);if(!a)return null;const n=new Date;n.setDate(n.getDate()-t);const o=this.getTumorBoards().filter(l=>l.attendees.some(d=>a.members.some(h=>h.id===d))&&new Date(l.scheduledDate)>=n),x=this.getCommunicationThreads().filter(l=>l.participants.some(d=>a.members.some(h=>h.id===d))&&new Date(l.lastActivity)>=n),m=this.getConsultationRequests().filter(l=>a.members.some(d=>d.id===l.requesterId||d.id===l.assignedTo)&&new Date(l.createdDate)>=n);return{teamId:s,period:`${t} days`,tumorBoards:o.length,casesPresented:o.reduce((l,d)=>l+d.cases.length,0),communicationThreads:x.length,messages:x.reduce((l,d)=>l+d.messages.length,0),consultations:m.length,actionItems:o.reduce((l,d)=>l+d.actionItems.length,0),completedActionItems:o.reduce((l,d)=>l+d.actionItems.filter(h=>h.status==="completed").length,0)}}getTumorBoardMetrics(s){let t=this.getTumorBoards();if(s){const m=this.getTumorBoard(s);t=m?[m]:[]}const a=t.reduce((m,l)=>m+l.cases.length,0),n=t.reduce((m,l)=>m+l.cases.filter(d=>d.consensusReached).length,0),o=t.reduce((m,l)=>m+l.actionItems.length,0),x=t.reduce((m,l)=>m+l.actionItems.filter(d=>d.status==="completed").length,0);return{totalBoards:t.length,totalCases:a,consensusRate:a>0?n/a*100:0,totalActionItems:o,actionItemCompletionRate:o>0?x/o*100:0,averageCasesPerBoard:t.length>0?a/t.length:0}}async fetchTeams(s){try{const t="/api",a=new URLSearchParams;s&&a.append("specialty",s);const n=await fetch(`${t}/collaboration/teams?${a}`);if(!n.ok)throw new Error(`HTTP ${n.status}`);return(await n.json()).teams.map(this.transformApiTeam)}catch(t){return console.warn("Failed to fetch teams from API, using sample data:",t),this.generateSampleData(),this.getTeams()}}async fetchTumorBoards(s){try{const t="/api",a=new URLSearchParams;s&&a.append("teamId",s);const n=await fetch(`${t}/collaboration/tumor-boards?${a}`);if(!n.ok)throw new Error(`HTTP ${n.status}`);return(await n.json()).tumorBoards.map(this.transformApiTumorBoard)}catch(t){return console.warn("Failed to fetch tumor boards from API, using sample data:",t),this.generateSampleData(),this.getTumorBoards()}}async fetchClinicalPathways(s){try{const t="/api",a=new URLSearchParams;s&&a.append("cancerType",s);const n=await fetch(`${t}/collaboration/pathways?${a}`);if(!n.ok)throw new Error(`HTTP ${n.status}`);return(await n.json()).pathways.map(this.transformApiPathway)}catch(t){return console.warn("Failed to fetch pathways from API, using sample data:",t),this.generateSampleData(),this.getClinicalPathways()}}transformApiTeam(s){return{id:s.id,name:s.name,description:s.description,specialty:s.specialty.toLowerCase(),members:s.members.map(t=>({id:t.id,name:t.name,role:t.role.toLowerCase().replace(" ","_"),title:t.role,email:t.email,phone:t.phone,specialty:t.specialization,credentials:[],availability:{status:"available",lastSeen:new Date().toISOString()},isLead:t.isLead||!1})),settings:{allowGuestAccess:!1,requireApproval:!0,autoArchive:!0},createdBy:"system",createdAt:s.createdDate||new Date().toISOString(),lastActivity:new Date().toISOString(),isActive:s.isActive!==!1}}transformApiTumorBoard(s){return{id:s.id,name:s.name,description:s.description,teamId:s.teamId,schedule:{frequency:"weekly",dayOfWeek:s.schedule.dayOfWeek.toLowerCase(),time:s.schedule.time,duration:s.schedule.duration,timezone:"America/New_York"},meetingLink:s.schedule.virtualLink||"",cases:s.cases.map(t=>({id:t.id,patientId:t.patientId,title:t.title,presenter:t.presenter,status:t.status,scheduledDate:t.dateScheduled,summary:t.summary,attachments:[],discussion:{points:t.questions||[],decisions:[],followUpActions:[]}})),nextMeeting:s.nextMeeting,isActive:s.isActive!==!1}}transformApiPathway(s){return{id:s.id,name:s.name,description:s.description,cancerType:s.cancerType,stage:s.stage,version:s.version,steps:s.steps.map(t=>({id:t.id,order:t.order,title:t.title,description:t.description,estimatedDuration:t.timeframe,requirements:t.requirements||[],responsibleRole:t.responsible,isRequired:!0,branchingLogic:[]})),outcomes:{primaryEndpoints:s.outcomes?.primaryEndpoints||[],qualityMetrics:s.outcomes?.qualityMetrics||[]},lastUpdated:s.lastUpdated,isActive:s.isActive!==!1}}generateSampleData(){if(this.getTeams().length>0)return;const t={id:"team_001",name:"Thoracic Oncology Team",description:"Multidisciplinary team focused on lung cancer care",specialty:"oncology",members:[{id:"member_001",name:"Dr. Sarah Johnson",role:"physician",title:"Medical Oncologist",email:"sjohnson@hospital.com",phone:"555-0101",specialty:"Medical Oncology",credentials:["MD","FACP"],permissions:[{resource:"patients",actions:["view","create","edit","approve"]}],availability:{status:"available",message:"Available for consultations"},joinedDate:"2024-01-01",lastActive:new Date().toISOString()}],patients:["patient_001","patient_002"],createdDate:"2024-01-01",lastActivity:new Date().toISOString(),isActive:!0};this.saveTeam(t);const a={id:"board_001",name:"Weekly Thoracic Tumor Board",type:"weekly",scheduledDate:new Date().toISOString(),duration:60,location:"Conference Room A",chair:"member_001",presenters:["member_001"],attendees:["member_001"],cases:[],agenda:[],notes:"",decisions:[],actionItems:[],status:"scheduled",createdBy:"member_001",createdDate:new Date().toISOString(),lastModified:new Date().toISOString()};this.saveTumorBoard(a);const n={id:"pathway_001",name:"Stage IV NSCLC Treatment Pathway",version:"1.0",condition:"Non-small cell lung cancer",stage:"IV",lineOfTherapy:"First-line",steps:[],decisionPoints:[],evidenceBasis:"NCCN Guidelines 2024",lastReviewed:new Date().toISOString(),reviewBy:"Dr. Johnson",approvedBy:"Medical Director",effectiveDate:new Date().toISOString(),patientsEnrolled:0,completionRate:0,outcomeMetrics:[],varianceReporting:!0,qualityIndicators:[]};this.saveClinicalPathway(n)}}const y=new K,$=()=>{const[g,s]=f.useState("overview"),[t,a]=f.useState([]),[n,o]=f.useState([]),[x,m]=f.useState([]),[l,d]=f.useState([]),[h]=f.useState("member_001"),[D,C]=f.useState(!0);f.useEffect(()=>{E()},[]);const E=async()=>{C(!0);try{y.generateSampleData(),a(y.getTeams()),o(y.getTumorBoards()),m(y.getCommunicationThreads()),d(y.getConsultationRequests())}finally{C(!1)}},O=[{id:"overview",label:"Overview",icon:A,description:"Dashboard overview and key metrics"},{id:"teams",label:"Teams",icon:v,description:"Team management and member coordination"},{id:"tumor-boards",label:"Tumor Boards",icon:N,description:"Multidisciplinary case discussions"},{id:"communications",label:"Messages",icon:w,description:"Team communications and discussions"},{id:"consultations",label:"Consultations",icon:b,description:"Specialty consultation requests"},{id:"tasks",label:"Tasks",icon:T,description:"Action items and task management"}],S=()=>y.getUnreadMessages(h).length,I=()=>n.flatMap(c=>c.actionItems).filter(c=>c.assignedTo===h&&c.status==="pending").length,M=()=>{const r=new Date,c=new Date(r.getTime()+10080*60*1e3);return n.filter(i=>{const p=new Date(i.scheduledDate);return p>=r&&p<=c}).length},_=()=>{const r=S(),c=I(),i=M(),p=l.filter(u=>u.status==="pending").length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Unread Messages"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r})]}),e.jsx(w,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Tasks"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c})]}),e.jsx(T,{className:"w-8 h-8 text-orange-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming Boards"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i})]}),e.jsx(N,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Consultations"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p})]}),e.jsx(b,{className:"w-8 h-8 text-purple-600"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),e.jsx("div",{className:"space-y-4",children:n.slice(0,3).map(u=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 rounded-lg",children:[e.jsx(N,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:u.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(u.scheduledDate).toLocaleDateString()," • ",u.cases.length," cases"]})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${u.status==="scheduled"?"bg-blue-100 text-blue-800":u.status==="completed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:u.status})]},u.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>s("tumor-boards"),className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[e.jsx(j,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Schedule Board"})]}),e.jsxs("button",{onClick:()=>s("consultations"),className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[e.jsx(b,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Request Consult"})]}),e.jsxs("button",{onClick:()=>s("communications"),className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[e.jsx(w,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Start Discussion"})]}),e.jsxs("button",{onClick:()=>s("teams"),className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[e.jsx(v,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Manage Team"})]})]})]})]})},B=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Teams"}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Create Team"]})]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(r=>e.jsx("div",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:r.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(v,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[r.members.length," members"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(A,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[r.patients.length," patients"]})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.isActive?"Active":"Inactive"})]})]}),e.jsxs("div",{className:"flex -space-x-2",children:[r.members.slice(0,3).map((c,i)=>e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center border-2 border-white",title:c.name,children:e.jsx("span",{className:"text-xs font-medium text-blue-800",children:c.name.split(" ").map(p=>p[0]).join("")})},c.id)),r.members.length>3&&e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center border-2 border-white",children:e.jsxs("span",{className:"text-xs font-medium text-gray-600",children:["+",r.members.length-3]})})]})]})},r.id))})]})}),R=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tumor Boards"}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Schedule Board"]})]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:n.map(r=>e.jsx("div",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:r.name}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.status==="scheduled"?"bg-blue-100 text-blue-800":r.status==="completed"?"bg-green-100 text-green-800":r.status==="in_progress"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:r.status.replace("_"," ")})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(r.scheduledDate).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsxs("span",{children:[r.duration," min"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsxs("span",{children:[r.attendees.length," attendees"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(b,{className:"w-4 h-4"}),e.jsxs("span",{children:[r.cases.length," cases"]})]})]}),r.virtualMeetingUrl&&e.jsx("div",{className:"mt-3",children:e.jsxs("button",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm hover:bg-blue-200",children:[e.jsx(U,{className:"w-4 h-4 mr-1"}),"Join Meeting"]})})]}),e.jsx("div",{className:"flex items-center space-x-2",children:r.actionItems.length>0&&e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-orange-600",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{children:r.actionItems.filter(c=>c.status==="pending").length})]})})]})},r.id))})]})}),q=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Messages"}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"New Discussion"]})]})}),e.jsxs("div",{className:"divide-y divide-gray-200",children:[x.map(r=>e.jsx("div",{className:"p-6 hover:bg-gray-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:r.subject}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.priority==="high"?"bg-red-100 text-red-800":r.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:r.priority})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{children:[r.participants.length," participants"]}),e.jsxs("span",{children:[r.messages.length," messages"]}),e.jsx("span",{children:new Date(r.lastActivity).toLocaleDateString()})]}),r.messages.length>0&&e.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:r.messages[r.messages.length-1].content})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r.requiresResponse&&e.jsx(Y,{className:"w-5 h-5 text-orange-500"}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.status==="active"?"bg-green-100 text-green-800":r.status==="resolved"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:r.status})]})]})},r.id)),x.length===0&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(w,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Messages"}),e.jsx("p",{className:"text-gray-500",children:"Start a new discussion to collaborate with your team"})]})]})]})}),k=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Consultations"}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Request Consultation"]})]})}),e.jsxs("div",{className:"divide-y divide-gray-200",children:[l.map(r=>e.jsx("div",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900",children:[r.specialtyRequested," Consultation"]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.urgency==="emergent"?"bg-red-100 text-red-800":r.urgency==="urgent"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:r.urgency})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.clinicalQuestion}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{children:["Patient: ",r.patientId]}),e.jsxs("span",{children:["Requested: ",new Date(r.createdDate).toLocaleDateString()]}),r.responseDeadline&&e.jsxs("span",{children:["Due: ",new Date(r.responseDeadline).toLocaleDateString()]})]})]}),e.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${r.status==="pending"?"bg-yellow-100 text-yellow-800":r.status==="in_progress"?"bg-blue-100 text-blue-800":r.status==="completed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.status.replace("_"," ")})]})},r.id)),l.length===0&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(b,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Consultations"}),e.jsx("p",{className:"text-gray-500",children:"Request specialty consultations when needed"})]})]})]})}),P=()=>{const c=n.flatMap(i=>i.actionItems).filter(i=>i.assignedTo===h);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.filter(i=>i.status==="pending").length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c.filter(i=>i.status==="in_progress").length}),e.jsx("p",{className:"text-sm text-gray-600",children:"In Progress"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.filter(i=>i.status==="completed").length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Completed"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:c.filter(i=>i.status==="overdue").length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Overdue"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Tasks"})}),e.jsxs("div",{className:"divide-y divide-gray-200",children:[c.map(i=>e.jsx("div",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:i.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{children:["Due: ",new Date(i.dueDate).toLocaleDateString()]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${i.priority==="high"?"bg-red-100 text-red-800":i.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:i.priority})]}),i.notes&&e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:i.notes})]}),e.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${i.status==="pending"?"bg-yellow-100 text-yellow-800":i.status==="in_progress"?"bg-blue-100 text-blue-800":i.status==="completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i.status.replace("_"," ")})]})},i.id)),c.length===0&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(T,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tasks"}),e.jsx("p",{className:"text-gray-500",children:"You have no assigned tasks at this time"})]})]})]})]})};return D?e.jsx("div",{className:"flex items-center justify-center min-h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading collaboration data..."})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Collaboration Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Coordinate multidisciplinary care and manage team communications"})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:O.map(({id:r,label:c,icon:i,description:p})=>e.jsxs("button",{onClick:()=>s(r),className:`group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${g===r?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(i,{className:`w-5 h-5 mr-2 ${g===r?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{children:c}),e.jsx("div",{className:"text-xs text-gray-400",children:p})]}),r==="communications"&&S()>0&&e.jsx("span",{className:"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-red-500 rounded-full",children:S()}),r==="tasks"&&I()>0&&e.jsx("span",{className:"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-orange-500 rounded-full",children:I()})]},r))})}),e.jsxs("div",{className:"min-h-96",children:[g==="overview"&&_(),g==="teams"&&B(),g==="tumor-boards"&&R(),g==="communications"&&q(),g==="consultations"&&k(),g==="tasks"&&P()]})]})},te=()=>e.jsx($,{});export{te as default};
