{"version":3,"file":"ForceLogout-hNWCa15z.js","sources":["../../src/pages/ForceLogout.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { supabase } from '../lib/supabase';\n\nconst ForceLogout: React.FC = () => {\n  const [step, setStep] = useState('Starting...');\n\n  useEffect(() => {\n    const performForceLogout = async () => {\n      try {\n        setStep('ðŸ” Checking current session...');\n        const { data: session } = await supabase.auth.getSession();\n        console.log('Current session:', session);\n        \n        setStep('ðŸšª Signing out from Supabase...');\n        await supabase.auth.signOut({ scope: 'global' });\n        console.log('Supabase signOut completed');\n        \n        setStep('ðŸ—‘ï¸ Clearing localStorage...');\n        Object.keys(localStorage).forEach(key => {\n          if (key.includes('supabase') || key.includes('auth') || key.includes('sb-')) {\n            localStorage.removeItem(key);\n            console.log('Removed:', key);\n          }\n        });\n        \n        setStep('ðŸ—‘ï¸ Clearing sessionStorage...');\n        Object.keys(sessionStorage).forEach(key => {\n          if (key.includes('supabase') || key.includes('auth') || key.includes('sb-')) {\n            sessionStorage.removeItem(key);\n            console.log('Removed:', key);\n          }\n        });\n        \n        setStep('ðŸª Clearing cookies...');\n        document.cookie.split(\";\").forEach(cookie => {\n          const eqPos = cookie.indexOf(\"=\");\n          const name = eqPos > -1 ? cookie.substr(0, eqPos).trim() : cookie.trim();\n          if (name.includes('supabase') || name.includes('auth') || name.includes('sb-')) {\n            document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/\";\n            console.log('Cleared cookie:', name);\n          }\n        });\n        \n        setStep('âœ… Logout complete! Redirecting...');\n        \n        setTimeout(() => {\n          window.location.replace('/auth');\n        }, 2000);\n        \n      } catch (error) {\n        console.error('Force logout error:', error);\n        setStep('âŒ Error during logout, but redirecting anyway...');\n        setTimeout(() => {\n          window.location.replace('/auth');\n        }, 2000);\n      }\n    };\n\n    performForceLogout();\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-red-50 flex items-center justify-center p-4\">\n      <div className=\"bg-white p-8 rounded-lg shadow-lg max-w-md text-center\">\n        <h1 className=\"text-2xl font-bold text-red-600 mb-4\">ðŸ”¥ Force Logout</h1>\n        <p className=\"text-gray-600 mb-4\">Aggressively clearing all authentication data...</p>\n        \n        <div className=\"bg-gray-100 rounded-lg p-4 text-left text-sm mb-4\">\n          <div className=\"font-mono text-xs\">{step}</div>\n        </div>\n        \n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto mb-4\"></div>\n        \n        <p className=\"text-xs text-gray-500\">\n          Check browser console for detailed logs\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default ForceLogout;"],"names":["ForceLogout","step","setStep","useState","useEffect","session","supabase","key","cookie","eqPos","name","error","jsxs","jsx"],"mappings":"sDAGA,MAAMA,EAAwB,IAAM,CAClC,KAAM,CAACC,EAAMC,CAAO,EAAIC,EAAAA,SAAS,aAAa,EAE9CC,OAAAA,EAAAA,UAAU,IAAM,EACa,SAAY,CACrC,GAAI,CACFF,EAAQ,gCAAgC,EACxC,KAAM,CAAE,KAAMG,CAAA,EAAY,MAAMC,EAAS,KAAK,WAAA,EAC9C,QAAQ,IAAI,mBAAoBD,CAAO,EAEvCH,EAAQ,iCAAiC,EACzC,MAAMI,EAAS,KAAK,QAAQ,CAAE,MAAO,SAAU,EAC/C,QAAQ,IAAI,4BAA4B,EAExCJ,EAAQ,8BAA8B,EACtC,OAAO,KAAK,YAAY,EAAE,QAAQK,GAAO,EACnCA,EAAI,SAAS,UAAU,GAAKA,EAAI,SAAS,MAAM,GAAKA,EAAI,SAAS,KAAK,KACxE,aAAa,WAAWA,CAAG,EAC3B,QAAQ,IAAI,WAAYA,CAAG,EAE/B,CAAC,EAEDL,EAAQ,gCAAgC,EACxC,OAAO,KAAK,cAAc,EAAE,QAAQK,GAAO,EACrCA,EAAI,SAAS,UAAU,GAAKA,EAAI,SAAS,MAAM,GAAKA,EAAI,SAAS,KAAK,KACxE,eAAe,WAAWA,CAAG,EAC7B,QAAQ,IAAI,WAAYA,CAAG,EAE/B,CAAC,EAEDL,EAAQ,wBAAwB,EAChC,SAAS,OAAO,MAAM,GAAG,EAAE,QAAQM,GAAU,CAC3C,MAAMC,EAAQD,EAAO,QAAQ,GAAG,EAC1BE,EAAOD,EAAQ,GAAKD,EAAO,OAAO,EAAGC,CAAK,EAAE,OAASD,EAAO,KAAA,GAC9DE,EAAK,SAAS,UAAU,GAAKA,EAAK,SAAS,MAAM,GAAKA,EAAK,SAAS,KAAK,KAC3E,SAAS,OAASA,EAAO,iDACzB,QAAQ,IAAI,kBAAmBA,CAAI,EAEvC,CAAC,EAEDR,EAAQ,mCAAmC,EAE3C,WAAW,IAAM,CACf,OAAO,SAAS,QAAQ,OAAO,CACjC,EAAG,GAAI,CAET,OAASS,EAAO,CACd,QAAQ,MAAM,sBAAuBA,CAAK,EAC1CT,EAAQ,kDAAkD,EAC1D,WAAW,IAAM,CACf,OAAO,SAAS,QAAQ,OAAO,CACjC,EAAG,GAAI,CACT,CACF,GAEA,CACF,EAAG,CAAA,CAAE,QAGF,MAAA,CAAI,UAAU,8DACb,SAAAU,EAAAA,KAAC,MAAA,CAAI,UAAU,yDACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,uCAAuC,SAAA,kBAAe,EACpEA,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAqB,SAAA,mDAAgD,EAElFA,EAAAA,IAAC,OAAI,UAAU,oDACb,eAAC,MAAA,CAAI,UAAU,oBAAqB,SAAAZ,CAAA,CAAK,CAAA,CAC3C,EAEAY,EAAAA,IAAC,MAAA,CAAI,UAAU,0EAAA,CAA2E,EAE1FA,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,yCAAA,CAErC,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}