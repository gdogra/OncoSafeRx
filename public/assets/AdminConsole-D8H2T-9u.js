import{c as O,a8 as I,u as E,r as l,ad as $,j as e,a as y,ae as F,ac as z,U as o,k as m,F as h,A as B,h as H,T as b,S as q,C as V,af as J}from"./index-Bhw970Mt.js";import{R as Q}from"./refresh-cw-CEIIBFss.js";import{M as Y}from"./monitor-ZDYpehXa.js";import{S as g}from"./settings-1im7aM1L.js";import{C as G}from"./circle-check-big-BS3hXAhd.js";import{P as K}from"./plus-S0wGj3RA.js";import{S as W}from"./square-pen-CZ9eK-q9.js";import{L as X}from"./lock-DxKznA20.js";import{E as Z}from"./eye-B2OXPKvz.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],se=O("lock-open",ee),me=()=>{const{state:f}=I(),{user:c}=f,a=$(c),v=E(),[i,n]=l.useState("overview"),[w,A]=l.useState([]),[t,S]=l.useState(null),[C,p]=l.useState(!0),[d,U]=l.useState("");l.useEffect(()=>{a.canAccessAdminConsole()&&L()},[]);const L=async()=>{p(!0);try{await new Promise(s=>setTimeout(s,1e3)),A([{id:"user-1",email:"admin@oncosaferx.com",firstName:"System",lastName:"Administrator",roles:["super_admin"],isActive:!0,lastLogin:new Date().toISOString(),loginCount:156,organizationId:"org-1"},{id:"user-2",email:"analytics@oncosaferx.com",firstName:"Analytics",lastName:"Manager",roles:["analytics_admin"],isActive:!0,lastLogin:new Date(Date.now()-7200*1e3).toISOString(),loginCount:89,organizationId:"org-1"},{id:"user-3",email:"dr.smith@hospital.com",firstName:"Dr. Sarah",lastName:"Smith",roles:["oncologist"],isActive:!0,lastLogin:new Date(Date.now()-1800*1e3).toISOString(),loginCount:234,organizationId:"org-2"},{id:"user-4",email:"pharmacist@hospital.com",firstName:"Michael",lastName:"Johnson",roles:["pharmacist"],isActive:!1,lastLogin:new Date(Date.now()-10080*60*1e3).toISOString(),loginCount:45,organizationId:"org-2"}]),S({totalUsers:1247,activeUsers:892,onlineUsers:43,systemUptime:"15d 4h 32m",memoryUsage:68.5,cpuUsage:23.1,databaseConnections:12,errorRate:.02})}catch(s){console.error("Failed to load admin data:",s)}finally{p(!1)}},k=s=>s?"bg-green-100 text-green-800":"bg-red-100 text-red-800",u=s=>{const r=J[s.toUpperCase()];return r?r.name:s},_=s=>{const r=new Date,R=new Date(s),x=r.getTime()-R.getTime(),j=Math.floor(x/(1e3*60)),N=Math.floor(x/(1e3*60*60)),T=Math.floor(x/(1e3*60*60*24));return j<60?`${j}m ago`:N<24?`${N}h ago`:`${T}d ago`},D=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t?.totalUsers})]}),e.jsx(o,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Online Now"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:t?.onlineUsers})]}),e.jsx(B,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"System Uptime"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:t?.systemUptime})]}),e.jsx(H,{className:"w-8 h-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Error Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(t?.errorRate||0).toFixed(2),"%"]})]}),e.jsx(b,{className:"w-8 h-8 text-orange-600"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Performance"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Memory Usage"}),e.jsxs("span",{className:"font-medium",children:[t?.memoryUsage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${t?.memoryUsage}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"CPU Usage"}),e.jsxs("span",{className:"font-medium",children:[t?.cpuUsage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${t?.cpuUsage}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t?.databaseConnections}),e.jsx("p",{className:"text-sm text-gray-600",children:"DB Connections"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t?.activeUsers}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Users"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"p-1 bg-green-100 rounded-full",children:e.jsx(G,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"System backup completed"}),e.jsx("p",{className:"text-xs text-gray-500",children:"2 minutes ago"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded-full",children:e.jsx(o,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"New user registered"}),e.jsx("p",{className:"text-xs text-gray-500",children:"15 minutes ago"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"p-1 bg-orange-100 rounded-full",children:e.jsx(b,{className:"w-4 h-4 text-orange-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"High memory usage detected"}),e.jsx("p",{className:"text-xs text-gray-500",children:"1 hour ago"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"p-1 bg-purple-100 rounded-full",children:e.jsx(m,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Analytics report generated"}),e.jsx("p",{className:"text-xs text-gray-500",children:"3 hours ago"})]})]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.hasPermission("manage_users")&&e.jsxs("button",{onClick:()=>n("users"),className:"flex items-center space-x-3 p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(o,{className:"w-6 h-6 text-blue-600"}),e.jsx("span",{className:"font-medium text-blue-900",children:"Manage Users"})]}),a.hasPermission("view_visitor_analytics")&&e.jsxs("button",{onClick:()=>n("analytics"),className:"flex items-center space-x-3 p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(m,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"font-medium text-green-900",children:"View Analytics"})]}),a.hasPermission("view_audit_logs")&&e.jsxs("button",{onClick:()=>n("audit"),className:"flex items-center space-x-3 p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(h,{className:"w-6 h-6 text-purple-600"}),e.jsx("span",{className:"font-medium text-purple-900",children:"Audit Logs"})]}),a.hasPermission("manage_system_settings")&&e.jsxs("button",{onClick:()=>n("system"),className:"flex items-center space-x-3 p-4 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors",children:[e.jsx(g,{className:"w-6 h-6 text-orange-600"}),e.jsx("span",{className:"font-medium text-orange-900",children:"System Settings"})]})]})})]})]}),M=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Management"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage user accounts, roles, and permissions"})]}),a.hasPermission("manage_users")&&e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{children:"Add User"})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search users...",value:d,onChange:s=>U(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"super_admin",children:"Super Admin"}),e.jsx("option",{value:"system_admin",children:"System Admin"}),e.jsx("option",{value:"analytics_admin",children:"Analytics Admin"}),e.jsx("option",{value:"oncologist",children:"Oncologist"}),e.jsx("option",{value:"pharmacist",children:"Pharmacist"}),e.jsx("option",{value:"nurse",children:"Nurse"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roles"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Login Count"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.filter(s=>s.firstName.toLowerCase().includes(d.toLowerCase())||s.lastName.toLowerCase().includes(d.toLowerCase())||s.email.toLowerCase().includes(d.toLowerCase())).map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-medium text-blue-700",children:[s.firstName[0],s.lastName[0]]})})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[s.firstName," ",s.lastName]}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:s.roles.map(r=>e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold bg-purple-100 text-purple-800 rounded-full",children:u(r)},r))})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k(s.isActive)}`,children:s.isActive?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_(s.lastLogin)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.loginCount}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[a.hasPermission("manage_users")&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:e.jsx(W,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:s.isActive?e.jsx(X,{className:"w-4 h-4"}):e.jsx(se,{className:"w-4 h-4"})})]}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:e.jsx(Z,{className:"w-4 h-4"})})]})})]},s.id))})]})})})]}),P=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Analytics Dashboard Access"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Access comprehensive visitor analytics and real-time tracking data."}),e.jsxs("button",{onClick:()=>v("/visitor-analytics"),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(m,{className:"w-4 h-4"}),e.jsx("span",{children:"Open Analytics Dashboard"}),e.jsx(V,{className:"w-4 h-4"})]})]})});return a.canAccessAdminConsole()?C?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Q,{className:"w-6 h-6 animate-spin text-blue-600"}),e.jsx("span",{className:"text-gray-600",children:"Loading admin console..."})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsx(F,{}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(y,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Console"}),e.jsx("p",{className:"text-gray-600",children:"System administration and visitor analytics management"})]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(z,{className:"w-5 h-5 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Logged in as: ",c?.firstName," ",c?.lastName," (",c?.roles.map(s=>u(s)).join(", "),")"]})]}),e.jsxs("div",{className:"text-sm text-blue-700",children:["Hierarchy Level: ",a.getUserHierarchyLevel()]})]})}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:Y,permission:null},{id:"users",label:"Users",icon:o,permission:"manage_users"},{id:"analytics",label:"Analytics",icon:m,permission:"view_visitor_analytics"},{id:"system",label:"System",icon:g,permission:"manage_system_settings"},{id:"audit",label:"Audit Logs",icon:h,permission:"view_audit_logs"}].filter(s=>!s.permission||a.hasPermission(s.permission)).map(s=>{const r=s.icon;return e.jsxs("button",{onClick:()=>n(s.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${i===s.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(r,{className:"w-4 h-4"}),e.jsx("span",{children:s.label})]},s.id)})})}),i==="overview"&&D(),i==="users"&&M(),i==="analytics"&&P(),i==="system"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(g,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"System Settings"}),e.jsx("p",{className:"text-gray-600",children:"System configuration and settings management."})]}),i==="audit"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(h,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Audit Logs"}),e.jsx("p",{className:"text-gray-600",children:"System audit trails and compliance logging."})]})]}):e.jsx("div",{className:"max-w-4xl mx-auto p-6",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx(y,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-red-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-red-700",children:"You don't have permission to access the admin console."}),e.jsx("p",{className:"text-red-600 text-sm mt-2",children:"Required permissions: Admin Console Access"})]})})};export{me as default};
//# sourceMappingURL=AdminConsole-D8H2T-9u.js.map
