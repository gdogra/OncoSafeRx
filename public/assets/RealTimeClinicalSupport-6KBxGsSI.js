import{c as q,q as L,r as c,j as e,J as z,Z as E,T as v,Q as N,h as F,G as B,F as $,o as O,I as G}from"./index-Bhw970Mt.js";import{C as r}from"./Card-xxJ0N2iO.js";import{C as Y}from"./circle-play-XceC1uXW.js";import{C as y}from"./circle-x-pntuk0KV.js";import{S as U}from"./square-check-big-7Qb0s8aO.js";import{S as W}from"./star-CZ330yHD.js";import{S as Z}from"./settings-1im7aM1L.js";import{C as H}from"./circle-check-big-BS3hXAhd.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],V=q("circle-pause",Q),le=()=>{const{state:w}=L(),{currentPatient:i}=w,[C,g]=c.useState([]),[f,_]=c.useState([]),[l,S]=c.useState(!0),[m,x]=c.useState({current_view:"reviewing",patient_acuity:"moderate",time_pressure:"routine",care_team_role:"primary"}),[d,j]=c.useState({priority:"all",category:"all",acknowledged:!1}),[J,X]=c.useState(null),p=c.useCallback(()=>{if(!i)return;const t=[],s=[],a=i.medications.filter(n=>n.name&&["oxycodone","morphine","fentanyl","hydrocodone","codeine"].some(o=>n.name.toLowerCase().includes(o))),h=i.medications.filter(n=>n.name&&["alprazolam","lorazepam","clonazepam","diazepam"].some(o=>n.name.toLowerCase().includes(o)));a.length>0&&h.length>0&&t.push({id:"opioid-benzo-interaction",type:"critical",priority:"immediate",category:"drug_interaction",title:"CRITICAL: Opioid + Benzodiazepine Combination",message:"High risk of respiratory depression and death",details:`Patient is prescribed ${a[0].name} and ${h[0].name} concurrently`,recommendations:["Consider alternative anxiety management","If unavoidable, use lowest effective doses","Prescribe naloxone","Implement enhanced monitoring","Document medical necessity"],evidence_level:"A",source:"FDA Black Box Warning",triggered_by:"Medication combination analysis",timestamp:new Date().toISOString(),acknowledged:!1,dismissed:!1,requires_action:!0,auto_resolve:!1,clinical_context:{medications:[a[0].name,h[0].name],risk_factors:["Concurrent CNS depressants"]},documentation:{billing_codes:["Z79.891","Z87.891"],templates:["High-risk medication documentation template"],references:["FDA Safety Communication 2016"]}});const b=new Date().getFullYear()-new Date(i.demographics.dateOfBirth).getFullYear();if(b>65&&i.medications.forEach(n=>{n.name&&n.name.toLowerCase().includes("digoxin")&&t.push({id:"geriatric-digoxin-dosing",type:"warning",priority:"urgent",category:"dosing",title:"Geriatric Dosing Alert: Digoxin",message:"Elderly patients require reduced digoxin dosing",recommendations:["Consider 50% dose reduction","Monitor digoxin levels closely","Check renal function","Consider alternative rate control agents"],evidence_level:"A",source:"Beers Criteria 2023",triggered_by:"Age-based analysis",timestamp:new Date().toISOString(),acknowledged:!1,dismissed:!1,requires_action:!0,auto_resolve:!1,clinical_context:{medications:[n.name],risk_factors:[`Age ${b} years`]}})}),s.push({id:"cyp2d6-poor-metabolizer",type:"medication",title:"CYP2D6 Poor Metabolizer: Avoid Prodrug Opioids",description:"Patient has CYP2D6 poor metabolizer status affecting opioid efficacy",rationale:"Codeine, hydrocodone, and tramadol require CYP2D6 for conversion to active metabolites",evidence_grade:"Strong",guideline_source:"CPIC Guidelines 2024",alternatives:["Oxycodone","Morphine","Tapentadol"],contraindications:["Codeine","Hydrocodone","Tramadol"],monitoring_required:["Pain scores","Functional status","Side effects"],implementation_steps:["Avoid CYP2D6-dependent opioids","Use alternative opioids at standard doses","Monitor for adequate pain control","Document genetic basis for medication selection"],expected_outcome:"Improved pain control with reduced risk of inadequate analgesia",follow_up_timeline:"24-48 hours for pain reassessment"}),i.labValues.length>0){const n=i.labValues.filter(o=>o.labType&&o.labType.toLowerCase().includes("creatinine")).sort((o,M)=>new Date(M.timestamp).getTime()-new Date(o.timestamp).getTime())[0];n&&parseFloat(n.value)>1.5&&t.push({id:"renal-function-alert",type:"warning",priority:"urgent",category:"monitoring",title:"Renal Function Alert",message:"Elevated creatinine may require medication dose adjustments",details:`Current creatinine: ${n.value} mg/dL (Normal: 0.6-1.2)`,recommendations:["Calculate eGFR for accurate assessment","Review renally-cleared medications","Consider dose adjustments","Monitor fluid balance","Nephrology consultation if worsening"],evidence_level:"A",source:"Clinical Practice Guidelines",triggered_by:"Laboratory result analysis",timestamp:new Date().toISOString(),acknowledged:!1,dismissed:!1,requires_action:!0,auto_resolve:!1,clinical_context:{lab_values:[`Creatinine ${n.value} mg/dL`]}})}i.primaryDiagnosis&&i.primaryDiagnosis.toLowerCase().includes("cancer")&&s.push({id:"nccn-pathway-adherence",type:"referral",title:"NCCN Guideline Adherence Check",description:"Ensure treatment plan aligns with current NCCN guidelines",rationale:"Evidence-based pathways improve outcomes and reduce variation",evidence_grade:"Strong",guideline_source:"NCCN Guidelines 2024",implementation_steps:["Review current NCCN recommendations","Compare current treatment plan","Identify any deviations","Document rationale for any variations","Consider multidisciplinary review"],expected_outcome:"Optimized treatment plan with evidence-based approach",follow_up_timeline:"Next clinic visit"}),s.push({id:"quality-metric-documentation",type:"documentation",title:"Quality Measure Documentation Opportunity",description:"Capture quality metrics for value-based care programs",rationale:"Proper documentation supports quality scores and reimbursement",evidence_grade:"Moderate",guideline_source:"CMS Quality Measures",implementation_steps:["Document pain scores (0-10 scale)","Record functional status assessment","Note medication adherence","Document patient education provided","Code appropriate ICD-10 and CPT codes"],expected_outcome:"Improved quality scores and comprehensive patient care documentation",follow_up_timeline:"End of encounter"}),g(t),_(s)},[i]);c.useEffect(()=>{if(!l||!i)return;p();const t=setInterval(()=>{p()},3e4);return()=>clearInterval(t)},[i,l,p]);const k=t=>{g(s=>s.map(a=>a.id===t?{...a,acknowledged:!0}:a))},A=t=>{g(s=>s.map(a=>a.id===t?{...a,dismissed:!0}:a))},D=t=>{switch(t){case"critical":return e.jsx(y,{className:"w-5 h-5 text-red-600"});case"warning":return e.jsx(v,{className:"w-5 h-5 text-yellow-600"});case"info":return e.jsx(G,{className:"w-5 h-5 text-blue-600"});case"success":return e.jsx(H,{className:"w-5 h-5 text-green-600"});default:return e.jsx(O,{className:"w-5 h-5 text-gray-600"})}},P=t=>{switch(t){case"critical":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";case"success":return"bg-green-50 border-green-200";default:return"bg-gray-50 border-gray-200"}},I=t=>{switch(t){case"immediate":return"bg-red-100 text-red-800";case"urgent":return"bg-yellow-100 text-yellow-800";case"routine":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},u=C.filter(t=>!(t.dismissed||d.acknowledged&&t.acknowledged||d.priority!=="all"&&t.priority!==d.priority||d.category!=="all"&&t.category!==d.category)),R=u.filter(t=>t.type==="critical").length,T=u.filter(t=>t.type==="warning").length;return i?e.jsxs("div",{className:"space-y-6",children:[e.jsx(r,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(E,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Real-Time Clinical Decision Support"}),e.jsxs("p",{className:"text-gray-600",children:["Active monitoring for ",i.demographics.firstName," ",i.demographics.lastName]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${l?"bg-green-500 animate-pulse":"bg-gray-400"}`}),e.jsx("span",{className:"text-sm text-gray-600",children:l?"Monitoring Active":"Monitoring Paused"})]}),e.jsxs("button",{onClick:()=>S(!l),className:`flex items-center space-x-2 px-4 py-2 rounded-lg ${l?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-green-600 text-white hover:bg-green-700"}`,children:[l?e.jsx(V,{className:"w-4 h-4"}):e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{children:l?"Pause":"Resume"})]})]})]})}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs(r,{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx(y,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Critical Alerts"})]}),e.jsx("div",{className:"text-3xl font-bold text-red-600",children:R})]}),e.jsxs(r,{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx(v,{className:"w-5 h-5 text-yellow-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Warnings"})]}),e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:T})]}),e.jsxs(r,{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx(N,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Recommendations"})]}),e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:f.length})]}),e.jsxs(r,{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx(F,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Last Update"})]}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:new Date().toLocaleTimeString()})]})]}),u.length>0&&e.jsxs(r,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{className:"w-6 h-6 text-red-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Active Clinical Alerts"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:d.priority,onChange:t=>j(s=>({...s,priority:t.target.value})),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Priorities"}),e.jsx("option",{value:"immediate",children:"Immediate"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"routine",children:"Routine"})]}),e.jsxs("select",{value:d.category,onChange:t=>j(s=>({...s,category:t.target.value})),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"drug_interaction",children:"Drug Interactions"}),e.jsx("option",{value:"dosing",children:"Dosing"}),e.jsx("option",{value:"monitoring",children:"Monitoring"}),e.jsx("option",{value:"genetic",children:"Genetic"}),e.jsx("option",{value:"contraindication",children:"Contraindications"})]})]})]}),e.jsx("div",{className:"space-y-4",children:u.map(t=>e.jsx("div",{className:`border rounded-lg p-4 ${P(t.type)}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[D(t.type),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.title}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${I(t.priority)}`,children:t.priority.toUpperCase()}),e.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded",children:["Evidence: ",t.evidence_level]})]})]}),e.jsx("p",{className:"text-gray-700 mb-3",children:t.message}),t.details&&e.jsx("p",{className:"text-sm text-gray-600 mb-3 bg-white p-3 rounded border",children:t.details}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Clinical Recommendations:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700",children:t.recommendations.map((s,a)=>e.jsx("li",{children:s},a))})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Source: ",t.source]}),e.jsxs("span",{children:["Triggered by: ",t.triggered_by]}),e.jsx("span",{children:new Date(t.timestamp).toLocaleTimeString()})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[!t.acknowledged&&e.jsxs("button",{onClick:()=>k(t.id),className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:"Acknowledge"})]}),e.jsxs("button",{onClick:()=>A(t.id),className:"flex items-center space-x-2 px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 text-sm",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{children:"Dismiss"})]}),t.documentation&&e.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:"Document"})]})]})]})},t.id))})]}),e.jsxs(r,{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(N,{className:"w-6 h-6 text-blue-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Evidence-Based Recommendations"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:f.map(t=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:t.title}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded ${t.evidence_grade==="Strong"?"bg-green-100 text-green-800":t.evidence_grade==="Moderate"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[t.evidence_grade," Evidence"]}),e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:t.type})]})]}),e.jsx(W,{className:"w-5 h-5 text-yellow-500"})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:t.description}),e.jsxs("p",{className:"text-xs text-gray-600 mb-3 italic",children:["Rationale: ",t.rationale]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Implementation Steps:"}),e.jsx("ul",{className:"text-xs text-gray-600 list-disc list-inside space-y-1",children:t.implementation_steps.map((s,a)=>e.jsx("li",{children:s},a))})]}),e.jsx("div",{className:"pt-2 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Source: ",t.guideline_source]}),e.jsxs("span",{children:["Follow-up: ",t.follow_up_timeline]})]})})]})]},t.id))})]}),e.jsxs(r,{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Z,{className:"w-6 h-6 text-gray-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Workflow Context"})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current View"}),e.jsxs("select",{value:m.current_view,onChange:t=>x(s=>({...s,current_view:t.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"prescribing",children:"Prescribing"}),e.jsx("option",{value:"reviewing",children:"Reviewing"}),e.jsx("option",{value:"monitoring",children:"Monitoring"}),e.jsx("option",{value:"documenting",children:"Documenting"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient Acuity"}),e.jsxs("select",{value:m.patient_acuity,onChange:t=>x(s=>({...s,patient_acuity:t.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"stable",children:"Stable"}),e.jsx("option",{value:"moderate",children:"Moderate"}),e.jsx("option",{value:"critical",children:"Critical"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Pressure"}),e.jsxs("select",{value:m.time_pressure,onChange:t=>x(s=>({...s,time_pressure:t.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"routine",children:"Routine"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"stat",children:"STAT"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Care Team Role"}),e.jsxs("select",{value:m.care_team_role,onChange:t=>x(s=>({...s,care_team_role:t.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"primary",children:"Primary"}),e.jsx("option",{value:"consulting",children:"Consulting"}),e.jsx("option",{value:"covering",children:"Covering"})]})]})]})]})]}):e.jsx(r,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(z,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-500 mb-2",children:"Real-Time Clinical Support"}),e.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Select a patient to activate real-time clinical decision support and monitoring"})]})})};export{le as default};
//# sourceMappingURL=RealTimeClinicalSupport-6KBxGsSI.js.map
